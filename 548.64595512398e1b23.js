"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[548],{6548:(T,p,i)=>{i.r(p),i.d(p,{ExerciseListComponent:()=>I});var t=i(4438),m=i(9192),E=i(2812),a=i(5779),c=i(6057),d=i(9998),_=i(491),u=i(1141),g=i(2242),h=i(4799),x=i(177),C=i(8359);const b=["dt1"],f=()=>({"min-width":"10rem"}),v=()=>["name"],y=()=>({width:"50vw"});function M(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",13)(1,"button",14),t.bIt("click",function(){t.eBV(e);const r=t.XpG(),o=t.sdS(11);return t.Njj(r.clear(o))}),t.k0s(),t.j41(2,"span",15),t.nrm(3,"i",16),t.j41(4,"input",17),t.bIt("input",function(r){t.eBV(e);const o=t.XpG();return t.Njj(o.handleGlobalFilter(r))}),t.k0s()()()}}function P(n,l){1&n&&(t.j41(0,"tr")(1,"th",18),t.EFF(2," Name "),t.nrm(3,"p-sortIcon",19),t.k0s(),t.j41(4,"th",20),t.EFF(5,"Image"),t.k0s(),t.j41(6,"th",21),t.EFF(7," Created at "),t.nrm(8,"p-sortIcon",22),t.k0s(),t.j41(9,"th",23),t.EFF(10," Updated at "),t.nrm(11,"p-sortIcon",24),t.k0s(),t.nrm(12,"th",25),t.k0s())}function O(n,l){if(1&n){const e=t.RV6();t.j41(0,"tr",26)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",27),t.nrm(4,"img",28),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"td",27)(12,"p-button",29),t.bIt("onClick",function(){const r=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.deleteExercise(r.id))}),t.k0s(),t.j41(13,"p-button",30),t.bIt("onClick",function(){const r=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.editExercise(r.id))}),t.k0s()()()}if(2&n){const e=l.$implicit;t.R7$(2),t.JRh(e.name.en),t.R7$(2),t.Y8G("src",e.images.mainImg,t.B4B),t.R7$(2),t.JRh(t.i5U(7,4,e.createdAt,"dd/MM/yyyy HH:mm:ss")),t.R7$(3),t.JRh(t.i5U(10,7,e.updatedAt,"dd/MM/yyyy HH:mm:ss"))}}function D(n,l){1&n&&(t.j41(0,"tr")(1,"td",31),t.EFF(2,"No exercise found."),t.k0s()())}let I=(()=>{class n{constructor(){this.exercisesService=(0,t.WQX)(E.bq),this.messageService=(0,t.WQX)(a.bg),this.confirmationService=(0,t.WQX)(a.td),this.router=(0,t.WQX)(m.Ix),this.subscriptions=new C.yU,this.exercises=[]}ngOnInit(){this._getExercises(),console.log(this.exercises)}clear(e){e.clear()}handleGlobalFilter(e){this.dt1.filterGlobal(e.target.value,"contains")}deleteExercise(e){this.confirmationService.confirm({message:"Do you want to delete this exercise?",header:"Delete Exercise",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text mr-2",acceptIcon:"none",rejectIcon:"none",accept:()=>{const s=this.exercisesService.deleteExercise(e).subscribe(()=>{this._getExercises(),this.messageService.add({severity:"success",summary:"Success",detail:"Exercise is deleted!"})},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Exercise is not deleted!"})});this.subscriptions.add(s)},reject:()=>{}})}editExercise(e){this.router.navigateByUrl(`exercises/form/${e}`)}_getExercises(){const e=this.exercisesService.getExercises().subscribe(s=>this.exercises=s);this.subscriptions.add(e)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["admin-exercise-list"]],viewQuery:function(s,r){if(1&s&&t.GBs(b,7),2&s){let o;t.mGM(o=t.lsd())&&(r.dt1=o.first)}},standalone:!0,features:[t.Jv_([a.td,a.bg]),t.aNF],decls:17,vars:11,consts:[["dt1",""],[1,"admin-page"],["header","Exercises","subheader","List of All Exercises"],[1,"grid"],[1,"col-12"],[1,"p-toolbar"],[1,"p-toolbar-group-start"],["label","New","icon","pi pi-plus","styleClass","p-button-success","routerLink","form",1,"mr-2"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} exercises",3,"value","tableStyle","paginator","rows","globalFilterFields","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex",2,"flex-wrap","wrap","gap","1rem"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","name"],["field","name"],[2,"min-width","5rem"],["pSortableColumn","createdAt",2,"width","10rem"],["field","createdAt"],["pSortableColumn","updatedAt",2,"width","10rem"],["field","updatedAt"],[2,"width","160px"],[1,"row-hover"],[2,"text-align","center"],["alt","",2,"max-height","150px",3,"src"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"onClick"],["styleClass","p-button-success mr-2","icon","pi pi-pencil",3,"onClick"],["colspan","7"]],template:function(s,r){1&s&&(t.nrm(0,"p-toast"),t.j41(1,"div",1)(2,"p-card",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"p-button",7),t.k0s()()()(),t.j41(8,"div",3)(9,"div",4)(10,"p-table",8,0),t.DNE(12,M,5,0,"ng-template",9)(13,P,13,0,"ng-template",10)(14,O,14,10,"ng-template",11)(15,D,3,0,"ng-template",12),t.k0s()()()()(),t.nrm(16,"p-confirmDialog")),2&s&&(t.R7$(10),t.Y8G("value",r.exercises)("tableStyle",t.lJ4(8,f))("paginator",!0)("rows",5)("globalFilterFields",t.lJ4(9,v))("showCurrentPageReport",!0),t.R7$(6),t.Aen(t.lJ4(10,y)))},dependencies:[d.MB,d.y8,a.Ei,_.D,_.Z,u.$n,m.Wk,c.bG,c.XI,c.Tg,c.yc,u._f,g.u,g.S,h.F,h.T,x.vh],styles:[".row-hover[_ngcontent-%COMP%]:hover{background-color:var(--gray-100)}[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 579px){[_nghost-%COMP%]     .p-dialog{width:80vw!important}}@media screen and (max-width: 479px){[_nghost-%COMP%]     .p-datatable-header .ml-auto{margin-left:0!important;width:100%}[_nghost-%COMP%]     .p-datatable-header input{width:100%}[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;width:90%}}"]})}}return n})()}}]);