"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[106],{106:(R,f,r)=>{r.r(f),r.d(f,{EquipmentFormComponent:()=>P});var e=r(4020),t=r(177),_=r(9192),l=r(9417),g=r(9396),E=r(5779),D=r(8359),h=r(1584),v=r(9998),T=r(491),M=r(1830),y=r(1988);function O(c,B){1&c&&(e.j41(0,"small",13),e.EFF(1,"Equipment name is required"),e.k0s())}let P=(()=>{class c{constructor(){this.messageService=(0,e.WQX)(E.bg),this.formBuilder=(0,e.WQX)(l.ok),this.equipmentsService=(0,e.WQX)(g.mR),this.location=(0,e.WQX)(t.aZ),this.route=(0,e.WQX)(_.nX),this.subscriptions=new D.yU,this.isSubmitted=!1,this.editMode=!1,this.language={key:"en",value:"English"}}ngOnInit(){this._initForm(),this._checkEditMode()}_initForm(){this.form=this.formBuilder.group({name:["",l.k0.required],translations:this.formBuilder.group({en:"",de:"",sr:""})})}_checkEditMode(){const i=this.route.params.subscribe(s=>{if(s.id){this.editMode=!0,this.currentEquipmentId=s.id;const m=this.equipmentsService.getEquipment(s.id).subscribe(u=>{this.equipmentForm.name.setValue(u.name),this.equipmentForm.translations.setValue(u.translations)});this.subscriptions.add(m)}});this.subscriptions.add(i)}onSubmit(){if(this.isSubmitted=!0,this.form.invalid)return;const i={id:this.currentEquipmentId,name:this.equipmentForm.name.value,translations:this.equipmentForm.translations.value};this.editMode?this._updateEquipment(i):this._addEquipment(i)}_addEquipment(i){const s=this.equipmentsService.createEquipment(i).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Equipment ${i.name} is created!`}),(0,h.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Equipment is not created!"})});this.subscriptions.add(s)}_updateEquipment(i){const s=this.equipmentsService.updateEquipment(i).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Equipment "${i.name}" is updated!`}),(0,h.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Equipment is not updated!"})});this.subscriptions.add(s)}onCancel(){this.location.back()}get equipmentForm(){return this.form.controls}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(s){return new(s||c)}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["admin-equipment-form"]],features:[e.Jv_([E.bg])],decls:37,vars:13,consts:[[1,"admin-page"],["subheader","You can add or edit equipment here",3,"header"],[1,"grid","mb-5"],[1,"col-12"],[1,"p-toolbar-group-start"],[1,"p-toolbar-group-end"],["icon","pi pi-plus","styleClass","p-button-primary",1,"mr-2",3,"onClick","label"],["label","Cancel","icon","pi pi-arrow-circle-left","styleClass","p-button-secondary",1,"mr-2",3,"onClick"],[3,"formGroup"],[1,"formgrid","grid"],[1,"field","col"],["for","name",2,"font-weight","600"],["formControlName","name","id","name","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"p-error"],[1,"mb-3","mt-5",2,"font-weight","600"],["formGroupName","translations"],[1,"field","grid",2,"gap","0.5rem"],["for","en",1,"col-12","md:col-2","mb-0",2,"width","100px"],[1,"col-12","md:col-10","mb-2","md:mb-0",2,"flex","1 0 90%"],["type","text","formControlName","en","id","en",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","de",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","de","id","de",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","sr",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","sr","id","sr",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"]],template:function(s,m){1&s&&(e.nrm(0,"p-toast"),e.j41(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"p-toolbar"),e.nrm(6,"div",4),e.j41(7,"div",5)(8,"p-button",6),e.bIt("onClick",function(){return m.onSubmit()}),e.k0s(),e.j41(9,"p-button",7),e.bIt("onClick",function(){return m.onCancel()}),e.k0s()()()()(),e.j41(10,"div")(11,"form",8)(12,"div",9)(13,"div",10)(14,"label",11),e.EFF(15,"Equipment"),e.k0s(),e.nrm(16,"input",12),e.DNE(17,O,2,0,"small",13),e.k0s()(),e.j41(18,"p",14),e.EFF(19,"Translations"),e.k0s(),e.j41(20,"div",15)(21,"div",16)(22,"label",17),e.EFF(23),e.nI1(24,"languageName"),e.k0s(),e.j41(25,"div",18),e.nrm(26,"input",19),e.k0s(),e.j41(27,"label",20),e.EFF(28),e.nI1(29,"languageName"),e.k0s(),e.j41(30,"div",18),e.nrm(31,"input",21),e.k0s(),e.j41(32,"label",22),e.EFF(33),e.nI1(34,"languageName"),e.k0s(),e.j41(35,"div",18),e.nrm(36,"input",23),e.k0s()()()()()()()),2&s&&(e.R7$(2),e.Y8G("header",m.editMode?"Edit Equipment":"Add Equipment"),e.R7$(6),e.Y8G("label",m.editMode?"Update":"Create"),e.R7$(3),e.Y8G("formGroup",m.form),e.R7$(6),e.vxM(m.equipmentForm.name.invalid&&m.isSubmitted?17:-1),e.R7$(6),e.JRh(e.bMT(24,7,"en")),e.R7$(5),e.JRh(e.bMT(29,9,"de")),e.R7$(5),e.JRh(e.bMT(34,11,"sr")))},dependencies:[v.MB,v.y8,T.Dw,T.Zp,M.mE,M.M7,y.tm,y.$n,l.YN,l.qT,l.me,l.BC,l.cb,l.X1,l.j4,l.JD,l.$R,g.C8],styles:["[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}}return c})()},1830:(R,f,r)=>{r.d(f,{M7:()=>u,mE:()=>F});var e=r(177),t=r(4020),_=r(5779),l=r(3491),g=r(6263);const E=["start"],D=["end"],h=["center"],v=["*"];function T(n,b){1&n&&t.eu8(0)}function M(n,b){if(1&n&&(t.j41(0,"div",4),t.DNE(1,T,1,0,"ng-container",5),t.k0s()),2&n){const o=t.XpG();t.BMQ("data-pc-section","start"),t.R7$(),t.Y8G("ngTemplateOutlet",o.startTemplate||o._startTemplate)}}function y(n,b){1&n&&t.eu8(0)}function O(n,b){if(1&n&&(t.j41(0,"div",6),t.DNE(1,y,1,0,"ng-container",5),t.k0s()),2&n){const o=t.XpG();t.BMQ("data-pc-section","center"),t.R7$(),t.Y8G("ngTemplateOutlet",o.centerTemplate||o._centerTemplate)}}function P(n,b){1&n&&t.eu8(0)}function c(n,b){if(1&n&&(t.j41(0,"div",7),t.DNE(1,P,1,0,"ng-container",5),t.k0s()),2&n){const o=t.XpG();t.BMQ("data-pc-section","end"),t.R7$(),t.Y8G("ngTemplateOutlet",o.endTemplate||o._endTemplate)}}const B=({dt:n})=>`\n.p-toolbar {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    padding: ${n("toolbar.padding")};\n    background: ${n("toolbar.background")};\n    border: 1px solid ${n("toolbar.border.color")};\n    color: ${n("toolbar.color")};\n    border-radius: ${n("toolbar.border.radius")};\n    gap: ${n("toolbar.gap")};\n}\n\n.p-toolbar-start,\n.p-toolbar-center,\n.p-toolbar-end {\n    display: flex;\n    align-items: center;\n}\n`,i={root:"p-toolbar p-component",start:"p-toolbar-start",center:"p-toolbar-center",end:"p-toolbar-end"};let s=(()=>{class n extends g.j{name="toolbar";theme=B;classes=i;static \u0275fac=(()=>{let o;return function(a){return(o||(o=t.xGo(n)))(a||n)}})();static \u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})(),u=(()=>{class n extends l.${style;styleClass;ariaLabelledBy;_componentStyle=(0,t.WQX)(s);getBlockableElement(){return this.el.nativeElement.children[0]}startTemplate;endTemplate;centerTemplate;templates;_startTemplate;_endTemplate;_centerTemplate;ngAfterContentInit(){this.templates.forEach(o=>{switch(o.getType()){case"start":case"left":this._startTemplate=o.template;break;case"end":case"right":this._endTemplate=o.template;break;case"center":this._centerTemplate=o.template}})}static \u0275fac=(()=>{let o;return function(a){return(o||(o=t.xGo(n)))(a||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["p-toolbar"]],contentQueries:function(d,a,C){if(1&d&&(t.wni(C,E,4),t.wni(C,D,4),t.wni(C,h,4),t.wni(C,_.Ei,4)),2&d){let p;t.mGM(p=t.lsd())&&(a.startTemplate=p.first),t.mGM(p=t.lsd())&&(a.endTemplate=p.first),t.mGM(p=t.lsd())&&(a.centerTemplate=p.first),t.mGM(p=t.lsd())&&(a.templates=p)}},inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},features:[t.Jv_([s]),t.Vt3],ngContentSelectors:v,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-start",4,"ngIf"],["class","p-toolbar-center",4,"ngIf"],["class","p-toolbar-end",4,"ngIf"],[1,"p-toolbar-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-center"],[1,"p-toolbar-end"]],template:function(d,a){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.DNE(2,M,2,2,"div",1)(3,O,2,2,"div",2)(4,c,2,2,"div",3),t.k0s()),2&d&&(t.HbH(a.styleClass),t.Y8G("ngClass","p-toolbar p-component")("ngStyle",a.style),t.BMQ("aria-labelledby",a.ariaLabelledBy)("data-pc-name","toolbar"),t.R7$(2),t.Y8G("ngIf",a.startTemplate||a._startTemplate),t.R7$(),t.Y8G("ngIf",a.centerTemplate||a._centerTemplate),t.R7$(),t.Y8G("ngIf",a.endTemplate||a._endTemplate))},dependencies:[e.MD,e.YU,e.bT,e.T3,e.B3,_.Gg],encapsulation:2,changeDetection:0})}return n})(),F=(()=>{class n{static \u0275fac=function(d){return new(d||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[u,_.Gg,_.Gg]})}return n})()}}]);