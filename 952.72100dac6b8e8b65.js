"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[952],{5952:(E,p,n)=>{n.r(p),n.d(p,{MovementsFormComponent:()=>o});var m=n(177),t=n(9417),d=n(1883),u=n(5779),_=n(1584),b=n(9998),g=n(491),v=n(1830),f=n(1141),e=n(3953),h=n(3023);function M(i,s){1&i&&(e.j41(0,"small",24),e.EFF(1,"Body area name is required"),e.k0s())}let o=(()=>{class i{constructor(r,a,l,c,T){this.messageService=r,this.formBuilder=a,this.movementsService=l,this.location=c,this.route=T,this.isSubmitted=!1,this.editMode=!1,this.language={key:"en",value:"English"}}ngOnInit(){this._initForm(),this._checkEditMode()}_initForm(){this.form=this.formBuilder.group({name:["",t.k0.required],translations:this.formBuilder.group({en:"",de:"",sr:""})})}_checkEditMode(){this.route.params.subscribe(r=>{r.id&&(this.editMode=!0,this.currentMovementId=r.id,this.movementsService.getMovement(r.id).subscribe(a=>{this.movementForm.name.setValue(a.name),this.movementForm.translations.setValue(a.translations)}))})}onSubmit(){if(this.isSubmitted=!0,this.form.invalid)return;const r={id:this.currentMovementId,name:this.movementForm.name.value,translations:this.movementForm.translations.value};this.editMode?this._updateMovement(r):this._addMovement(r)}_addMovement(r){this.movementsService.createMovement(r).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Movement ${r.name} is created!`}),(0,_.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Movement is not created!"})})}_updateMovement(r){this.movementsService.updateMovement(r).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Movement "${r.name}" is updated!`}),(0,_.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Movement is not updated!"})})}onCancel(){this.location.back()}get movementForm(){return this.form.controls}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(u.bg),e.rXU(t.ok),e.rXU(d.MF),e.rXU(m.aZ),e.rXU(h.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["admin-movements-form"]],standalone:!0,features:[e.Jv_([u.bg]),e.aNF],decls:37,vars:13,consts:[[1,"admin-page"],["subheader","You can add or edit movements here",3,"header"],[1,"grid","mb-5"],[1,"col-12"],[1,"p-toolbar-group-start"],[1,"p-toolbar-group-end"],["icon","pi pi-plus","styleClass","p-button-primary",1,"mr-2",3,"onClick","label"],["label","Cancel","icon","pi pi-arrow-circle-left","styleClass","p-button-secondary",1,"mr-2",3,"onClick"],[3,"formGroup"],[1,"formgrid","grid"],[1,"field","col"],["for","name",2,"font-weight","600"],["formControlName","name","id","name","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["class","p-error",4,"ngIf"],[1,"mb-3","mt-5",2,"font-weight","600"],["formGroupName","translations"],[1,"field","grid",2,"gap","0.5rem"],["for","en",1,"col-12","md:col-2","mb-0",2,"width","100px"],[1,"col-12","md:col-10","mb-2","md:mb-0",2,"flex","1 0 90%"],["type","text","formControlName","en","id","en",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","de",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","de","id","de",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","sr",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","sr","id","sr",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"p-error"]],template:function(a,l){1&a&&(e.nrm(0,"p-toast"),e.j41(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"p-toolbar"),e.nrm(6,"div",4),e.j41(7,"div",5)(8,"p-button",6),e.bIt("onClick",function(){return l.onSubmit()}),e.k0s(),e.j41(9,"p-button",7),e.bIt("onClick",function(){return l.onCancel()}),e.k0s()()()()(),e.j41(10,"div")(11,"form",8)(12,"div",9)(13,"div",10)(14,"label",11),e.EFF(15,"Movement"),e.k0s(),e.nrm(16,"input",12),e.DNE(17,M,2,0,"small",13),e.k0s()(),e.j41(18,"p",14),e.EFF(19,"Translations"),e.k0s(),e.j41(20,"div",15)(21,"div",16)(22,"label",17),e.EFF(23),e.nI1(24,"languageName"),e.k0s(),e.j41(25,"div",18),e.nrm(26,"input",19),e.k0s(),e.j41(27,"label",20),e.EFF(28),e.nI1(29,"languageName"),e.k0s(),e.j41(30,"div",18),e.nrm(31,"input",21),e.k0s(),e.j41(32,"label",22),e.EFF(33),e.nI1(34,"languageName"),e.k0s(),e.j41(35,"div",18),e.nrm(36,"input",23),e.k0s()()()()()()()),2&a&&(e.R7$(2),e.Y8G("header",l.editMode?"Edit Movement":"Add Movement"),e.R7$(6),e.Y8G("label",l.editMode?"Update":"Create"),e.R7$(3),e.Y8G("formGroup",l.form),e.R7$(6),e.Y8G("ngIf",l.movementForm.name.invalid&&l.isSubmitted),e.R7$(6),e.JRh(e.bMT(24,7,"en")),e.R7$(5),e.JRh(e.bMT(29,9,"de")),e.R7$(5),e.JRh(e.bMT(34,11,"sr")))},dependencies:[b.MB,b.y8,g.D,g.Z,v.m,v.M,f.$n,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,t.$R,m.bT,d.C8],styles:["[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}return i})()},1830:(E,p,n)=>{n.d(p,{M:()=>h,m:()=>M});var m=n(177),t=n(3953),d=n(5779);const u=["*"];function _(o,i){1&o&&t.eu8(0)}function b(o,i){if(1&o&&(t.j41(0,"div",4),t.DNE(1,_,1,0,"ng-container",5),t.k0s()),2&o){const s=t.XpG();t.BMQ("data-pc-section","start"),t.R7$(),t.Y8G("ngTemplateOutlet",s.startTemplate)}}function g(o,i){1&o&&t.eu8(0)}function v(o,i){if(1&o&&(t.j41(0,"div",6),t.DNE(1,g,1,0,"ng-container",5),t.k0s()),2&o){const s=t.XpG();t.BMQ("data-pc-section","center"),t.R7$(),t.Y8G("ngTemplateOutlet",s.centerTemplate)}}function f(o,i){1&o&&t.eu8(0)}function e(o,i){if(1&o&&(t.j41(0,"div",7),t.DNE(1,f,1,0,"ng-container",5),t.k0s()),2&o){const s=t.XpG();t.BMQ("data-pc-section","end"),t.R7$(),t.Y8G("ngTemplateOutlet",s.endTemplate)}}let h=(()=>{class o{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(s){this.el=s}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(s=>{switch(s.getType()){case"start":case"left":this.startTemplate=s.template;break;case"end":case"right":this.endTemplate=s.template;break;case"center":this.centerTemplate=s.template}})}static \u0275fac=function(r){return new(r||o)(t.rXU(t.aKT))};static \u0275cmp=t.VBU({type:o,selectors:[["p-toolbar"]],contentQueries:function(r,a,l){if(1&r&&t.wni(l,d.Ei,4),2&r){let c;t.mGM(c=t.lsd())&&(a.templates=c)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:u,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(r,a){1&r&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.DNE(2,b,2,2,"div",1)(3,v,2,2,"div",2)(4,e,2,2,"div",3),t.k0s()),2&r&&(t.HbH(a.styleClass),t.Y8G("ngClass","p-toolbar p-component")("ngStyle",a.style),t.BMQ("aria-labelledby",a.ariaLabelledBy)("data-pc-name","toolbar"),t.R7$(2),t.Y8G("ngIf",a.startTemplate),t.R7$(),t.Y8G("ngIf",a.centerTemplate),t.R7$(),t.Y8G("ngIf",a.endTemplate))},dependencies:[m.YU,m.bT,m.T3,m.B3],styles:["@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}\n"],encapsulation:2,changeDetection:0})}return o})(),M=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[m.MD,d.Gg,d.Gg]})}return o})()}}]);