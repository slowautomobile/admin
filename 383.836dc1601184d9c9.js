"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[383],{1830:(B,g,r)=>{r.d(g,{M7:()=>c,mE:()=>F});var t=r(177),e=r(4020),b=r(5779),l=r(3491),f=r(6263);const v=["start"],C=["end"],h=["center"],y=["*"];function E(o,_){1&o&&e.eu8(0)}function T(o,_){if(1&o&&(e.j41(0,"div",4),e.DNE(1,E,1,0,"ng-container",5),e.k0s()),2&o){const n=e.XpG();e.BMQ("data-pc-section","start"),e.R7$(),e.Y8G("ngTemplateOutlet",n.startTemplate||n._startTemplate)}}function M(o,_){1&o&&e.eu8(0)}function D(o,_){if(1&o&&(e.j41(0,"div",6),e.DNE(1,M,1,0,"ng-container",5),e.k0s()),2&o){const n=e.XpG();e.BMQ("data-pc-section","center"),e.R7$(),e.Y8G("ngTemplateOutlet",n.centerTemplate||n._centerTemplate)}}function S(o,_){1&o&&e.eu8(0)}function p(o,_){if(1&o&&(e.j41(0,"div",7),e.DNE(1,S,1,0,"ng-container",5),e.k0s()),2&o){const n=e.XpG();e.BMQ("data-pc-section","end"),e.R7$(),e.Y8G("ngTemplateOutlet",n.endTemplate||n._endTemplate)}}const O=({dt:o})=>`\n.p-toolbar {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    padding: ${o("toolbar.padding")};\n    background: ${o("toolbar.background")};\n    border: 1px solid ${o("toolbar.border.color")};\n    color: ${o("toolbar.color")};\n    border-radius: ${o("toolbar.border.radius")};\n    gap: ${o("toolbar.gap")};\n}\n\n.p-toolbar-start,\n.p-toolbar-center,\n.p-toolbar-end {\n    display: flex;\n    align-items: center;\n}\n`,s={root:"p-toolbar p-component",start:"p-toolbar-start",center:"p-toolbar-center",end:"p-toolbar-end"};let i=(()=>{class o extends f.j{name="toolbar";theme=O;classes=s;static \u0275fac=(()=>{let n;return function(a){return(n||(n=e.xGo(o)))(a||o)}})();static \u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})(),c=(()=>{class o extends l.${style;styleClass;ariaLabelledBy;_componentStyle=(0,e.WQX)(i);getBlockableElement(){return this.el.nativeElement.children[0]}startTemplate;endTemplate;centerTemplate;templates;_startTemplate;_endTemplate;_centerTemplate;ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"start":case"left":this._startTemplate=n.template;break;case"end":case"right":this._endTemplate=n.template;break;case"center":this._centerTemplate=n.template}})}static \u0275fac=(()=>{let n;return function(a){return(n||(n=e.xGo(o)))(a||o)}})();static \u0275cmp=e.VBU({type:o,selectors:[["p-toolbar"]],contentQueries:function(m,a,P){if(1&m&&(e.wni(P,v,4),e.wni(P,C,4),e.wni(P,h,4),e.wni(P,b.Ei,4)),2&m){let u;e.mGM(u=e.lsd())&&(a.startTemplate=u.first),e.mGM(u=e.lsd())&&(a.endTemplate=u.first),e.mGM(u=e.lsd())&&(a.centerTemplate=u.first),e.mGM(u=e.lsd())&&(a.templates=u)}},inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},features:[e.Jv_([i]),e.Vt3],ngContentSelectors:y,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-start",4,"ngIf"],["class","p-toolbar-center",4,"ngIf"],["class","p-toolbar-end",4,"ngIf"],[1,"p-toolbar-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-center"],[1,"p-toolbar-end"]],template:function(m,a){1&m&&(e.NAR(),e.j41(0,"div",0),e.SdG(1),e.DNE(2,T,2,2,"div",1)(3,D,2,2,"div",2)(4,p,2,2,"div",3),e.k0s()),2&m&&(e.HbH(a.styleClass),e.Y8G("ngClass","p-toolbar p-component")("ngStyle",a.style),e.BMQ("aria-labelledby",a.ariaLabelledBy)("data-pc-name","toolbar"),e.R7$(2),e.Y8G("ngIf",a.startTemplate||a._startTemplate),e.R7$(),e.Y8G("ngIf",a.centerTemplate||a._centerTemplate),e.R7$(),e.Y8G("ngIf",a.endTemplate||a._endTemplate))},dependencies:[t.MD,t.YU,t.bT,t.T3,t.B3,b.Gg],encapsulation:2,changeDetection:0})}return o})(),F=(()=>{class o{static \u0275fac=function(m){return new(m||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[c,b.Gg,b.Gg]})}return o})()},2383:(B,g,r)=>{r.r(g),r.d(g,{StartingPositionsFormComponent:()=>S});var t=r(4020),e=r(177),b=r(9192),l=r(9417),f=r(9396),v=r(5779),C=r(8359),h=r(1584),y=r(9998),E=r(491),T=r(1830),M=r(1988);function D(p,O){1&p&&(t.j41(0,"small",13),t.EFF(1,"Starting position is required"),t.k0s())}let S=(()=>{class p{constructor(){this.messageService=(0,t.WQX)(v.bg),this.formBuilder=(0,t.WQX)(l.ok),this.startingPositionsService=(0,t.WQX)(f.e$),this.location=(0,t.WQX)(e.aZ),this.route=(0,t.WQX)(b.nX),this.subscriptions=new C.yU,this.isSubmitted=!1,this.editMode=!1,this.language={key:"en",value:"English"}}ngOnInit(){this._initForm(),this._checkEditMode()}_initForm(){this.form=this.formBuilder.group({name:["",l.k0.required],synonym:"",translations:this.formBuilder.group({en:"",de:"",sr:""})})}_checkEditMode(){const s=this.route.params.subscribe(i=>{if(i.id){this.editMode=!0,this.currentStartingPositionId=i.id;const d=this.startingPositionsService.getStartingPosition(i.id).subscribe(c=>{console.log(c),this.startingPositionForm.name.setValue(c.name),this.startingPositionForm.synonym.setValue(c.synonym),this.startingPositionForm.translations.setValue(c.translations)});this.subscriptions.add(d)}});this.subscriptions.add(s)}onSubmit(){if(this.isSubmitted=!0,this.form.invalid)return;const s={id:this.currentStartingPositionId,name:this.startingPositionForm.name.value,synonym:this.startingPositionForm.synonym.value,translations:this.startingPositionForm.translations.value};this.editMode?this._updateStartingPosition(s):this._addStartingPosition(s)}_addStartingPosition(s){const i=this.startingPositionsService.createStartingPosition(s).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Starting position "${s.name}" is created!`}),(0,h.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Starting position is not created!"})});this.subscriptions.add(i)}_updateStartingPosition(s){const i=this.startingPositionsService.updateStartingPosition(s).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Starting position "${s.name}" is updated!`}),(0,h.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Starting position is not updated!"})});this.subscriptions.add(i)}onCancel(){this.location.back()}get startingPositionForm(){return this.form.controls}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(i){return new(i||p)}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["admin-starting-positions-form"]],features:[t.Jv_([v.bg])],decls:41,vars:13,consts:[[1,"admin-page"],["subheader","You can add or edit starting positions here",3,"header"],[1,"grid","mb-5"],[1,"col-12"],[1,"p-toolbar-group-start"],[1,"p-toolbar-group-end"],["icon","pi pi-plus","styleClass","p-button-primary",1,"mr-2",3,"onClick","label"],["label","Cancel","icon","pi pi-arrow-circle-left","styleClass","p-button-secondary",1,"mr-2",3,"onClick"],[3,"formGroup"],[1,"formgrid","grid"],[1,"field","col-12","lg:col-6"],["for","name",2,"font-weight","600"],["formControlName","name","id","name","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"p-error"],[1,"field","col"],["formControlName","synonym","id","synonym","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"mb-3","mt-5",2,"font-weight","600"],["formGroupName","translations"],[1,"field","grid",2,"gap","0.5rem"],["for","en",1,"col-12","md:col-2","mb-0",2,"width","100px"],[1,"col-12","md:col-10","mb-2","md:mb-0",2,"flex","1 0 90%"],["type","text","formControlName","en","id","en",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","de",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","de","id","de",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","sr",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","sr","id","sr",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"]],template:function(i,d){1&i&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"p-toolbar"),t.nrm(6,"div",4),t.j41(7,"div",5)(8,"p-button",6),t.bIt("onClick",function(){return d.onSubmit()}),t.k0s(),t.j41(9,"p-button",7),t.bIt("onClick",function(){return d.onCancel()}),t.k0s()()()()(),t.j41(10,"div")(11,"form",8)(12,"div",9)(13,"div",10)(14,"label",11),t.EFF(15,"Starting Position"),t.k0s(),t.nrm(16,"input",12),t.DNE(17,D,2,0,"small",13),t.k0s(),t.j41(18,"div",14)(19,"label",11),t.EFF(20,"Synonym"),t.k0s(),t.nrm(21,"input",15),t.k0s()(),t.j41(22,"p",16),t.EFF(23,"Translations"),t.k0s(),t.j41(24,"div",17)(25,"div",18)(26,"label",19),t.EFF(27),t.nI1(28,"languageName"),t.k0s(),t.j41(29,"div",20),t.nrm(30,"input",21),t.k0s(),t.j41(31,"label",22),t.EFF(32),t.nI1(33,"languageName"),t.k0s(),t.j41(34,"div",20),t.nrm(35,"input",23),t.k0s(),t.j41(36,"label",24),t.EFF(37),t.nI1(38,"languageName"),t.k0s(),t.j41(39,"div",20),t.nrm(40,"input",25),t.k0s()()()()()()()),2&i&&(t.R7$(2),t.Y8G("header",d.editMode?"Edit Starting Position":"Add Starting Position"),t.R7$(6),t.Y8G("label",d.editMode?"Update":"Create"),t.R7$(3),t.Y8G("formGroup",d.form),t.R7$(6),t.vxM(d.startingPositionForm.name.invalid&&d.isSubmitted?17:-1),t.R7$(10),t.JRh(t.bMT(28,7,"en")),t.R7$(5),t.JRh(t.bMT(33,9,"de")),t.R7$(5),t.JRh(t.bMT(38,11,"sr")))},dependencies:[y.MB,y.y8,E.Dw,E.Zp,T.mE,T.M7,M.tm,M.$n,l.YN,l.qT,l.me,l.BC,l.cb,l.X1,l.j4,l.JD,l.$R,f.C8],styles:["[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}}return p})()}}]);