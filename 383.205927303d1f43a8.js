"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[383],{2383:(E,p,i)=>{i.r(p),i.d(p,{StartingPositionsFormComponent:()=>o});var d=i(177),e=i(9417),m=i(1883),u=i(5779),g=i(1584),b=i(9998),_=i(491),f=i(1830),h=i(1141),t=i(3953),v=i(3023);function y(s,a){1&s&&(t.j41(0,"small",26),t.EFF(1,"Starting position is required"),t.k0s())}let o=(()=>{class s{constructor(r,n,l,c,T){this.messageService=r,this.formBuilder=n,this.startingPositionsService=l,this.location=c,this.route=T,this.isSubmitted=!1,this.editMode=!1,this.language={key:"en",value:"English"}}ngOnInit(){this._initForm(),this._checkEditMode()}_initForm(){this.form=this.formBuilder.group({name:["",e.k0.required],synonym:"",translations:this.formBuilder.group({en:"",de:"",sr:""})})}_checkEditMode(){this.route.params.subscribe(r=>{r.id&&(this.editMode=!0,this.currentStartingPositionId=r.id,this.startingPositionsService.getStartingPosition(r.id).subscribe(n=>{console.log(n),this.startingPositionForm.name.setValue(n.name),this.startingPositionForm.synonym.setValue(n.synonym),this.startingPositionForm.translations.setValue(n.translations)}))})}onSubmit(){if(this.isSubmitted=!0,this.form.invalid)return;const r={id:this.currentStartingPositionId,name:this.startingPositionForm.name.value,synonym:this.startingPositionForm.synonym.value,translations:this.startingPositionForm.translations.value};this.editMode?this._updateStartingPosition(r):this._addStartingPosition(r)}_addStartingPosition(r){this.startingPositionsService.createStartingPosition(r).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Starting position "${r.name}" is created!`}),(0,g.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Starting position is not created!"})})}_updateStartingPosition(r){this.startingPositionsService.updateStartingPosition(r).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:`Starting position "${r.name}" is updated!`}),(0,g.O)(2e3).toPromise().then(()=>{this.location.back()})},()=>{this.messageService.add({severity:"error",summary:"error",detail:"Starting position is not updated!"})})}onCancel(){this.location.back()}get startingPositionForm(){return this.form.controls}static#t=this.\u0275fac=function(n){return new(n||s)(t.rXU(u.bg),t.rXU(e.ok),t.rXU(m.e$),t.rXU(d.aZ),t.rXU(v.nX))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["admin-starting-positions-form"]],standalone:!0,features:[t.Jv_([u.bg]),t.aNF],decls:41,vars:13,consts:[[1,"admin-page"],["subheader","You can add or edit starting positions here",3,"header"],[1,"grid","mb-5"],[1,"col-12"],[1,"p-toolbar-group-start"],[1,"p-toolbar-group-end"],["icon","pi pi-plus","styleClass","p-button-primary",1,"mr-2",3,"onClick","label"],["label","Cancel","icon","pi pi-arrow-circle-left","styleClass","p-button-secondary",1,"mr-2",3,"onClick"],[3,"formGroup"],[1,"formgrid","grid"],[1,"field","col-12","lg:col-6"],["for","name",2,"font-weight","600"],["formControlName","name","id","name","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["class","p-error",4,"ngIf"],[1,"field","col"],["formControlName","synonym","id","synonym","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"mb-3","mt-5",2,"font-weight","600"],["formGroupName","translations"],[1,"field","grid",2,"gap","0.5rem"],["for","en",1,"col-12","md:col-2","mb-0",2,"width","100px"],[1,"col-12","md:col-10","mb-2","md:mb-0",2,"flex","1 0 90%"],["type","text","formControlName","en","id","en",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","de",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","de","id","de",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","sr",1,"col-12","md:col-2","mb-0",2,"width","100px"],["type","text","formControlName","sr","id","sr",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"p-error"]],template:function(n,l){1&n&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"p-toolbar"),t.nrm(6,"div",4),t.j41(7,"div",5)(8,"p-button",6),t.bIt("onClick",function(){return l.onSubmit()}),t.k0s(),t.j41(9,"p-button",7),t.bIt("onClick",function(){return l.onCancel()}),t.k0s()()()()(),t.j41(10,"div")(11,"form",8)(12,"div",9)(13,"div",10)(14,"label",11),t.EFF(15,"Starting Position"),t.k0s(),t.nrm(16,"input",12),t.DNE(17,y,2,0,"small",13),t.k0s(),t.j41(18,"div",14)(19,"label",11),t.EFF(20,"Synonym"),t.k0s(),t.nrm(21,"input",15),t.k0s()(),t.j41(22,"p",16),t.EFF(23,"Translations"),t.k0s(),t.j41(24,"div",17)(25,"div",18)(26,"label",19),t.EFF(27),t.nI1(28,"languageName"),t.k0s(),t.j41(29,"div",20),t.nrm(30,"input",21),t.k0s(),t.j41(31,"label",22),t.EFF(32),t.nI1(33,"languageName"),t.k0s(),t.j41(34,"div",20),t.nrm(35,"input",23),t.k0s(),t.j41(36,"label",24),t.EFF(37),t.nI1(38,"languageName"),t.k0s(),t.j41(39,"div",20),t.nrm(40,"input",25),t.k0s()()()()()()()),2&n&&(t.R7$(2),t.Y8G("header",l.editMode?"Edit Starting Position":"Add Starting Position"),t.R7$(6),t.Y8G("label",l.editMode?"Update":"Create"),t.R7$(3),t.Y8G("formGroup",l.form),t.R7$(6),t.Y8G("ngIf",l.startingPositionForm.name.invalid&&l.isSubmitted),t.R7$(10),t.JRh(t.bMT(28,7,"en")),t.R7$(5),t.JRh(t.bMT(33,9,"de")),t.R7$(5),t.JRh(t.bMT(38,11,"sr")))},dependencies:[b.MB,b.y8,_.D,_.Z,f.m,f.M,h.$n,e.YN,e.qT,e.me,e.BC,e.cb,e.X1,e.j4,e.JD,e.$R,d.bT,m.C8],styles:["[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}return s})()},1830:(E,p,i)=>{i.d(p,{M:()=>v,m:()=>y});var d=i(177),e=i(3953),m=i(5779);const u=["*"];function g(o,s){1&o&&e.eu8(0)}function b(o,s){if(1&o&&(e.j41(0,"div",4),e.DNE(1,g,1,0,"ng-container",5),e.k0s()),2&o){const a=e.XpG();e.BMQ("data-pc-section","start"),e.R7$(),e.Y8G("ngTemplateOutlet",a.startTemplate)}}function _(o,s){1&o&&e.eu8(0)}function f(o,s){if(1&o&&(e.j41(0,"div",6),e.DNE(1,_,1,0,"ng-container",5),e.k0s()),2&o){const a=e.XpG();e.BMQ("data-pc-section","center"),e.R7$(),e.Y8G("ngTemplateOutlet",a.centerTemplate)}}function h(o,s){1&o&&e.eu8(0)}function t(o,s){if(1&o&&(e.j41(0,"div",7),e.DNE(1,h,1,0,"ng-container",5),e.k0s()),2&o){const a=e.XpG();e.BMQ("data-pc-section","end"),e.R7$(),e.Y8G("ngTemplateOutlet",a.endTemplate)}}let v=(()=>{class o{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(a){this.el=a}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(a=>{switch(a.getType()){case"start":case"left":this.startTemplate=a.template;break;case"end":case"right":this.endTemplate=a.template;break;case"center":this.centerTemplate=a.template}})}static \u0275fac=function(r){return new(r||o)(e.rXU(e.aKT))};static \u0275cmp=e.VBU({type:o,selectors:[["p-toolbar"]],contentQueries:function(r,n,l){if(1&r&&e.wni(l,m.Ei,4),2&r){let c;e.mGM(c=e.lsd())&&(n.templates=c)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:u,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(r,n){1&r&&(e.NAR(),e.j41(0,"div",0),e.SdG(1),e.DNE(2,b,2,2,"div",1)(3,f,2,2,"div",2)(4,t,2,2,"div",3),e.k0s()),2&r&&(e.HbH(n.styleClass),e.Y8G("ngClass","p-toolbar p-component")("ngStyle",n.style),e.BMQ("aria-labelledby",n.ariaLabelledBy)("data-pc-name","toolbar"),e.R7$(2),e.Y8G("ngIf",n.startTemplate),e.R7$(),e.Y8G("ngIf",n.centerTemplate),e.R7$(),e.Y8G("ngIf",n.endTemplate))},dependencies:[d.YU,d.bT,d.T3,d.B3],styles:["@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}\n"],encapsulation:2,changeDetection:0})}return o})(),y=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[d.MD,m.Gg,m.Gg]})}return o})()}}]);