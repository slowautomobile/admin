"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[629],{4629:(N,m,a)=>{a.r(m),a.d(m,{UsersListComponent:()=>R});var t=a(3953),d=a(3023),v=a(6100),r=a(5779),u=a(9998),g=a(491),y=a(1141),p=a(6057),l=a(177);const C=["*"];function b(e,o){if(1&e&&t.nrm(0,"span",5),2&e){const s=t.XpG(2);t.Y8G("ngClass",s.icon)}}function T(e,o){if(1&e&&(t.qex(0),t.DNE(1,b,1,1,"span",4),t.bVm()),2&e){const s=t.XpG();t.R7$(),t.Y8G("ngIf",s.icon)}}function _(e,o){}function U(e,o){1&e&&t.DNE(0,_,0,0,"ng-template")}function j(e,o){if(1&e&&(t.j41(0,"span",6),t.DNE(1,U,1,0,null,7),t.k0s()),2&e){const s=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",s.iconTemplate)}}let x=(()=>{class e{cd;get style(){return this._style}set style(s){this._style=s,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(s=>{"icon"===s.getType()&&(this.iconTemplate=s.template)})}constructor(s){this.cd=s}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(n){return new(n||e)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:e,selectors:[["p-tag"]],contentQueries:function(n,i,c){if(1&n&&t.wni(c,r.Ei,4),2&n){let f;t.mGM(f=t.lsd())&&(i.templates=f)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",t.L39]},features:[t.GFd],ngContentSelectors:C,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(n,i){1&n&&(t.NAR(),t.j41(0,"span",0),t.SdG(1),t.DNE(2,T,2,1,"ng-container",1)(3,j,2,1,"span",2),t.j41(4,"span",3),t.EFF(5),t.k0s()()),2&n&&(t.HbH(i.styleClass),t.Y8G("ngClass",i.containerClass())("ngStyle",i.style),t.R7$(2),t.Y8G("ngIf",!i.iconTemplate),t.R7$(),t.Y8G("ngIf",i.iconTemplate),t.R7$(2),t.JRh(i.value))},dependencies:[l.YU,l.bT,l.T3,l.B3],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return e})(),G=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[l.MD,r.Gg,r.Gg]})}return e})();var h=a(4799),S=a(8359);const F=()=>({"min-width":"50rem"}),I=()=>({width:"50vw"});function $(e,o){1&e&&(t.j41(0,"tr")(1,"th",10),t.EFF(2,"Name "),t.nrm(3,"p-sortIcon",11),t.k0s(),t.j41(4,"th",12),t.EFF(5,"Email "),t.nrm(6,"p-sortIcon",13),t.k0s(),t.j41(7,"th",14),t.EFF(8,"IsAdmin "),t.nrm(9,"p-sortIcon",15),t.k0s(),t.nrm(10,"th"),t.k0s())}function k(e,o){1&e&&t.nrm(0,"p-tag",16),2&e&&t.Y8G("rounded",!0)}function D(e,o){1&e&&t.nrm(0,"p-tag",17),2&e&&t.Y8G("rounded",!0)}function E(e,o){if(1&e){const s=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.DNE(6,k,1,1,"p-tag",16)(7,D,1,1,"p-tag",17),t.k0s(),t.j41(8,"td")(9,"p-button",18),t.bIt("onClick",function(){const i=t.eBV(s).$implicit,c=t.XpG();return t.Njj(c.deleteUser(i.id))}),t.k0s(),t.j41(10,"p-button",19),t.bIt("onClick",function(){const i=t.eBV(s).$implicit,c=t.XpG();return t.Njj(c.editUser(i.id))}),t.k0s()()()}if(2&e){const s=o.$implicit;t.R7$(2),t.JRh(s.firstName+" "+s.lastName),t.R7$(2),t.JRh(s.email),t.R7$(2),t.vxM(s.isAdmin?6:-1),t.R7$(),t.vxM(s.isAdmin?-1:7)}}let R=(()=>{class e{constructor(){this.usersService=(0,t.WQX)(v.gs),this.messageService=(0,t.WQX)(r.bg),this.confirmationService=(0,t.WQX)(r.td),this.router=(0,t.WQX)(d.Ix),this.subscriptions=new S.yU,this.users=[]}ngOnInit(){this._getUsers()}_getUsers(){const s=this.usersService.getUsers().subscribe(n=>this.users=n);this.subscriptions.add(s)}deleteUser(s){this.confirmationService.confirm({message:"Do you want to delete this user?",header:"Delete User",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text mr-2",acceptIcon:"none",rejectIcon:"none",accept:()=>{const n=this.usersService.deleteUser(s).subscribe(()=>{this._getUsers(),this.messageService.add({severity:"success",summary:"Success",detail:"User is deleted!"})},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"User is not deleted!"})});this.subscriptions.add(n)},reject:()=>{}})}editUser(s){this.router.navigateByUrl(`users/form/${s}`)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["admin-users-list"]],standalone:!0,features:[t.Jv_([r.td,r.bg]),t.aNF],decls:14,vars:6,consts:[[1,"admin-page"],["header","Users","subheader","List of All Users"],[1,"grid"],[1,"col-12"],[1,"p-toolbar"],[1,"p-toolbar-group-start"],["label","New","icon","pi pi-plus","styleClass","p-button-success","routerLink","form",1,"mr-2"],["styleClass","p-datatable-gridlines",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","lastName"],["field","name"],["pSortableColumn","email"],["field","email"],["pSortableColumn","isAdmin"],["field","isAdmin"],["icon","pi pi-check","severity","success",3,"rounded"],["icon","pi pi-times","severity","danger",3,"rounded"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"onClick"],["styleClass","p-button-success mr-2","icon","pi pi-pencil",3,"onClick"]],template:function(n,i){1&n&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),t.nrm(7,"p-button",6),t.k0s()()()(),t.j41(8,"div",2)(9,"div",3)(10,"p-table",7),t.DNE(11,$,11,0,"ng-template",8)(12,E,11,4,"ng-template",9),t.k0s()()()()(),t.nrm(13,"p-confirmDialog")),2&n&&(t.R7$(10),t.Y8G("value",i.users)("tableStyle",t.lJ4(4,F)),t.R7$(3),t.Aen(t.lJ4(5,I)))},dependencies:[u.MB,u.y8,r.Ei,g.D,g.Z,y.$n,d.Wk,p.bG,p.XI,p.Tg,p.yc,G,x,h.F,h.T],styles:["[_nghost-%COMP%]     .p-tag .p-tag-icon{margin-right:0}[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 579px){[_nghost-%COMP%]     .p-dialog{width:80vw!important}}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}return e})()}}]);