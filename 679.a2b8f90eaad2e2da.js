"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[679],{7679:(I,m,e)=>{e.r(m),e.d(m,{StartingPositionsListComponent:()=>T});var t=e(4020),_=e(9192),h=e(9396),r=e(5779),l=e(8469),d=e(9998),g=e(491),c=e(1988),u=e(2242),P=e(5754),C=e(177),S=e(8359);const b=["dt1"],f=()=>({"min-width":"8rem"}),v=()=>["name"],E=()=>({width:"50vw"});function M(s,p){if(1&s){const i=t.RV6();t.j41(0,"div",14)(1,"button",15),t.bIt("click",function(){t.eBV(i);const o=t.XpG(),a=t.sdS(11);return t.Njj(o.clear(a))}),t.k0s(),t.j41(2,"span",16),t.nrm(3,"i",17),t.j41(4,"input",18),t.bIt("input",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.handleGlobalFilter(o))}),t.k0s()()()}}function y(s,p){1&s&&(t.j41(0,"tr")(1,"th",19),t.EFF(2," Name "),t.nrm(3,"p-sortIcon",20),t.k0s(),t.j41(4,"th",21),t.EFF(5," Updated at "),t.nrm(6,"p-sortIcon",22),t.k0s(),t.nrm(7,"th",23),t.k0s())}function O(s,p){if(1&s){const i=t.RV6();t.j41(0,"tr",24)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td",25)(7,"p-button",26),t.bIt("onClick",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.deleteStartingPosition(o._id))}),t.k0s(),t.j41(8,"p-button",27),t.bIt("onClick",function(){const o=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.editStartingPosition(o._id))}),t.k0s()()()}if(2&s){const i=p.$implicit;t.R7$(2),t.SpI(" ",i.name," "),t.R7$(2),t.SpI(" ",t.i5U(5,2,i.updatedAt,"dd/MM/yyyy HH:mm:ss")," ")}}function D(s,p){1&s&&(t.j41(0,"tr")(1,"td",28),t.EFF(2,"No starting position found."),t.k0s()())}let T=(()=>{class s{constructor(){this.startingPositionsService=(0,t.WQX)(h.e$),this.messageService=(0,t.WQX)(r.bg),this.confirmationService=(0,t.WQX)(r.td),this.router=(0,t.WQX)(_.Ix),this.subscriptions=new S.yU,this.startingPositions=[]}ngOnInit(){this._getStartingPositions()}clear(i){i.clear()}handleGlobalFilter(i){this.dt1.filterGlobal(i.target.value,"contains")}editStartingPosition(i){this.router.navigateByUrl(`/startingpositions/form/${i}`)}deleteStartingPosition(i){this.confirmationService.confirm({message:"Do you want to delete this Starting Position?",header:"Delete Starting Position",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text mr-2",acceptIcon:"none",rejectIcon:"none",accept:()=>{const n=this.startingPositionsService.deleteStartingPosition(i).subscribe(o=>{this._getStartingPositions(),this.messageService.add({severity:"success",summary:"Success",detail:`${o.name} starting position is deleted!`})},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Starting position is not deleted!"})});this.subscriptions.add(n)},reject:()=>{}})}_getStartingPositions(){const i=this.startingPositionsService.getStartingPositions().subscribe(n=>{this.startingPositions=n});this.subscriptions.add(i)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["admin-starting-positions-list"]],viewQuery:function(n,o){if(1&n&&t.GBs(b,7),2&n){let a;t.mGM(a=t.lsd())&&(o.dt1=a.first)}},features:[t.Jv_([r.td,r.bg])],decls:17,vars:11,consts:[["dt1",""],[1,"admin-page"],["header","Starting Positions","subheader","List of All Starting Positions"],[1,"grid"],[1,"col-12"],[1,"p-toolbar"],[1,"p-toolbar-group-start"],["label","New","icon","pi pi-plus","styleClass","p-button-success","routerLink","form",1,"mr-2"],[1,"col"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} starting positions",3,"value","tableStyle","paginator","rows","globalFilterFields","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex",2,"flex-wrap","wrap","gap","1rem"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pSortableColumn","name"],["field","name"],["pSortableColumn","updatedAt",2,"width","10rem"],["field","updatedAt"],[2,"width","10rem"],[1,"row-hover"],[2,"text-align","center"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"onClick"],["styleClass","p-button-success mr-2","icon","pi pi-pencil",3,"onClick"],["colspan","7"]],template:function(n,o){1&n&&(t.nrm(0,"p-toast"),t.j41(1,"div",1)(2,"p-card",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"p-button",7),t.k0s()()()(),t.j41(8,"div",3)(9,"div",8)(10,"p-table",9,0),t.DNE(12,M,5,0,"ng-template",10)(13,y,8,0,"ng-template",11)(14,O,9,5,"ng-template",12)(15,D,3,0,"ng-template",13),t.k0s()()()()(),t.nrm(16,"p-confirmDialog")),2&n&&(t.R7$(10),t.Y8G("value",o.startingPositions)("tableStyle",t.lJ4(8,f))("paginator",!0)("rows",10)("globalFilterFields",t.lJ4(9,v))("showCurrentPageReport",!0),t.R7$(6),t.Aen(t.lJ4(10,E)))},dependencies:[d.MB,d.y8,r.Ei,g.Dw,g.Zp,c.tm,c._f,c.$n,_.Wk,l.bG,l.XI,l.Tg,l.yc,u.um,u.Sm,P.FP,P.TM,C.vh],styles:[".row-hover[_ngcontent-%COMP%]:hover{background-color:var(--gray-200)}[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 579px){[_nghost-%COMP%]     .p-dialog{width:80vw!important}}@media screen and (max-width: 479px){[_nghost-%COMP%]     .p-datatable-header .ml-auto{margin-left:0!important;width:100%}[_nghost-%COMP%]     .p-datatable-header input{width:100%}}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}}return s})()}}]);