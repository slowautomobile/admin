"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[629],{4629:(Y,m,i)=>{i.r(m),i.d(m,{UsersListComponent:()=>A});var t=i(4020),d=i(9192),C=i(7855),o=i(5779),u=i(9998),f=i(491),h=i(1988),l=i(8469),p=i(177),$=i(3491),T=i(6263);const _=["icon"],k=["*"];function U(e,r){if(1&e&&t.nrm(0,"span",4),2&e){const n=t.XpG(2);t.Y8G("ngClass",n.icon)}}function j(e,r){if(1&e&&(t.qex(0),t.DNE(1,U,1,1,"span",3),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.icon)}}function x(e,r){}function G(e,r){1&e&&t.DNE(0,x,0,0,"ng-template")}function D(e,r){if(1&e&&(t.j41(0,"span",5),t.DNE(1,G,1,0,null,6),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",n.iconTemplate||n._iconTemplate)}}const F=({dt:e})=>`\n.p-tag {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    background: ${e("tag.primary.background")};\n    color: ${e("tag.primary.color")};\n    font-size: ${e("tag.font.size")};\n    font-weight: ${e("tag.font.weight")};\n    padding: ${e("tag.padding")};\n    border-radius: ${e("tag.border.radius")};\n    gap: ${e("tag.gap")};\n}\n\n.p-tag-icon {\n    font-size: ${e("tag.icon.size")};\n    width: ${e("tag.icon.size")};\n    height:${e("tag.icon.size")};\n}\n\n.p-tag-rounded {\n    border-radius: ${e("tag.rounded.border.radius")};\n}\n\n.p-tag-success {\n    background: ${e("tag.success.background")};\n    color: ${e("tag.success.color")};\n}\n\n.p-tag-info {\n    background: ${e("tag.info.background")};\n    color: ${e("tag.info.color")};\n}\n\n.p-tag-warn {\n    background: ${e("tag.warn.background")};\n    color: ${e("tag.warn.color")};\n}\n\n.p-tag-danger {\n    background: ${e("tag.danger.background")};\n    color: ${e("tag.danger.color")};\n}\n\n.p-tag-secondary {\n    background: ${e("tag.secondary.background")};\n    color: ${e("tag.secondary.color")};\n}\n\n.p-tag-contrast {\n    background: ${e("tag.contrast.background")};\n    color: ${e("tag.contrast.color")};\n}\n`,S={root:({props:e})=>["p-tag p-component",{"p-tag-info":"info"===e.severity,"p-tag-success":"success"===e.severity,"p-tag-warn":"warn"===e.severity,"p-tag-danger":"danger"===e.severity,"p-tag-secondary":"secondary"===e.severity,"p-tag-contrast":"contrast"===e.severity,"p-tag-rounded":e.rounded}],icon:"p-tag-icon",label:"p-tag-label"};let y=(()=>{class e extends T.j{name="tag";theme=F;classes=S;static \u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})();static \u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})(),v=(()=>{class e extends $.${get style(){return this._style}set style(n){this._style=n,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=(0,t.WQX)(y);ngAfterContentInit(){this.templates?.forEach(n=>{"icon"===n.getType()&&(this._iconTemplate=n.template)})}containerClass(){let n="p-tag p-component";return this.severity&&(n+=` p-tag-${this.severity}`),this.rounded&&(n+=" p-tag-rounded"),this.styleClass&&(n+=` ${this.styleClass}`),n}static \u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(e)))(a||e)}})();static \u0275cmp=t.VBU({type:e,selectors:[["p-tag"]],contentQueries:function(s,a,c){if(1&s&&(t.wni(c,_,4),t.wni(c,o.Ei,4)),2&s){let g;t.mGM(g=t.lsd())&&(a.iconTemplate=g.first),t.mGM(g=t.lsd())&&(a.templates=g)}},hostVars:4,hostBindings:function(s,a){2&s&&(t.Aen(a.style),t.HbH(a.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",t.L39]},features:[t.Jv_([y]),t.Vt3],ngContentSelectors:k,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(s,a){1&s&&(t.NAR(),t.SdG(0),t.DNE(1,j,2,1,"ng-container",0)(2,D,2,1,"span",1),t.j41(3,"span",2),t.EFF(4),t.k0s()),2&s&&(t.R7$(),t.Y8G("ngIf",!a.iconTemplate&&!a._iconTemplate),t.R7$(),t.Y8G("ngIf",a.iconTemplate||a._iconTemplate),t.R7$(2),t.JRh(a.value))},dependencies:[p.MD,p.YU,p.bT,p.T3,o.Gg],encapsulation:2,changeDetection:0})}return e})(),E=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[v,o.Gg,o.Gg]})}return e})();var b=i(5754),I=i(8359);const R=()=>({"min-width":"50rem"}),N=()=>({width:"50vw"});function w(e,r){1&e&&(t.j41(0,"tr")(1,"th",10),t.EFF(2,"Name "),t.nrm(3,"p-sortIcon",11),t.k0s(),t.j41(4,"th",12),t.EFF(5,"Email "),t.nrm(6,"p-sortIcon",13),t.k0s(),t.j41(7,"th",14),t.EFF(8,"IsAdmin "),t.nrm(9,"p-sortIcon",15),t.k0s(),t.nrm(10,"th"),t.k0s())}function B(e,r){1&e&&t.nrm(0,"p-tag",16),2&e&&t.Y8G("rounded",!0)}function L(e,r){1&e&&t.nrm(0,"p-tag",17),2&e&&t.Y8G("rounded",!0)}function X(e,r){if(1&e){const n=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.DNE(6,B,1,1,"p-tag",16)(7,L,1,1,"p-tag",17),t.k0s(),t.j41(8,"td")(9,"p-button",18),t.bIt("onClick",function(){const a=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.deleteUser(a.id))}),t.k0s(),t.j41(10,"p-button",19),t.bIt("onClick",function(){const a=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.editUser(a.id))}),t.k0s()()()}if(2&e){const n=r.$implicit;t.R7$(2),t.JRh(n.firstName+" "+n.lastName),t.R7$(2),t.JRh(n.email),t.R7$(2),t.vxM(n.isAdmin?6:-1),t.R7$(),t.vxM(n.isAdmin?-1:7)}}let A=(()=>{class e{constructor(){this.usersService=(0,t.WQX)(C.gs),this.messageService=(0,t.WQX)(o.bg),this.confirmationService=(0,t.WQX)(o.td),this.router=(0,t.WQX)(d.Ix),this.subscriptions=new I.yU,this.users=[]}ngOnInit(){this._getUsers()}_getUsers(){const n=this.usersService.getUsers().subscribe(s=>this.users=s);this.subscriptions.add(n)}deleteUser(n){this.confirmationService.confirm({message:"Do you want to delete this user?",header:"Delete User",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text mr-2",acceptIcon:"none",rejectIcon:"none",accept:()=>{const s=this.usersService.deleteUser(n).subscribe(()=>{this._getUsers(),this.messageService.add({severity:"success",summary:"Success",detail:"User is deleted!"})},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"User is not deleted!"})});this.subscriptions.add(s)},reject:()=>{}})}editUser(n){this.router.navigateByUrl(`users/form/${n}`)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["admin-users-list"]],features:[t.Jv_([o.td,o.bg])],decls:14,vars:6,consts:[[1,"admin-page"],["header","Users","subheader","List of All Users"],[1,"grid"],[1,"col-12"],[1,"p-toolbar"],[1,"p-toolbar-group-start"],["label","New","icon","pi pi-plus","styleClass","p-button-success","routerLink","form",1,"mr-2"],["styleClass","p-datatable-gridlines",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","lastName"],["field","name"],["pSortableColumn","email"],["field","email"],["pSortableColumn","isAdmin"],["field","isAdmin"],["icon","pi pi-check","severity","success",3,"rounded"],["icon","pi pi-times","severity","danger",3,"rounded"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"onClick"],["styleClass","p-button-success mr-2","icon","pi pi-pencil",3,"onClick"]],template:function(s,a){1&s&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"p-card",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),t.nrm(7,"p-button",6),t.k0s()()()(),t.j41(8,"div",2)(9,"div",3)(10,"p-table",7),t.DNE(11,w,11,0,"ng-template",8)(12,X,11,4,"ng-template",9),t.k0s()()()()(),t.nrm(13,"p-confirmDialog")),2&s&&(t.R7$(10),t.Y8G("value",a.users)("tableStyle",t.lJ4(4,R)),t.R7$(3),t.Aen(t.lJ4(5,N)))},dependencies:[u.MB,u.y8,o.Ei,f.Dw,f.Zp,h.tm,h.$n,d.Wk,l.bG,l.XI,l.Tg,l.yc,E,v,b.FP,b.TM],styles:["[_nghost-%COMP%]     .p-tag .p-tag-icon{margin-right:0}[_nghost-%COMP%]     .p-toast{margin-top:3rem}@media screen and (max-width: 579px){[_nghost-%COMP%]     .p-dialog{width:80vw!important}}@media screen and (max-width: 445px){[_nghost-%COMP%]     .p-toast{margin-left:auto;margin-right:auto;max-width:90%}}"]})}}return e})()}}]);