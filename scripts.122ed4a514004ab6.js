!function(Ie,Ae){"object"==typeof exports&&"object"==typeof module?module.exports=Ae():"function"==typeof define&&define.amd?define([],Ae):"object"==typeof exports?exports.Quill=Ae():Ie.Quill=Ae()}(self,function(){return function(){var Ie={9698:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return q},Ji:function(){return T},mG:function(){return E},zo:function(){return l}});var f=e(6003),x=e(5232),O=e.n(x),A=e(3036),j=e(4850),a=e(5508);class q extends f.BlockBlot{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=E(this)),this.cache.delta}deleteAt(v,_){super.deleteAt(v,_),this.cache={}}formatAt(v,_,B,z){_<=0||(this.scroll.query(B,f.Scope.BLOCK)?v+_===this.length()&&this.format(B,z):super.formatAt(v,Math.min(_,this.length()-v-1),B,z),this.cache={})}insertAt(v,_,B){if(null!=B)return super.insertAt(v,_,B),void(this.cache={});if(0===_.length)return;const z=_.split("\n"),tt=z.shift();tt.length>0&&(v<this.length()-1||null==this.children.tail?super.insertAt(Math.min(v,this.length()-1),tt):this.children.tail.insertAt(this.children.tail.length(),tt),this.cache={});let rt=this;z.reduce((W,m)=>(rt=rt.split(W,!0),rt.insertAt(0,m),m.length),v+tt.length)}insertBefore(v,_){const{head:B}=this.children;super.insertBefore(v,_),B instanceof A.A&&B.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(v,_){super.moveChildren(v,_),this.cache={}}optimize(v){super.optimize(v),this.cache={}}path(v){return super.path(v,!0)}removeChild(v){super.removeChild(v),this.cache={}}split(v){let _=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(_&&(0===v||v>=this.length()-1)){const z=this.clone();return 0===v?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}const B=super.split(v,_);return this.cache={},B}}q.blotName="block",q.tagName="P",q.defaultChild=A.A,q.allowedChildren=[A.A,j.A,f.EmbedBlot,a.A];class l extends f.EmbedBlot{attach(){super.attach(),this.attributes=new f.AttributorStore(this.domNode)}delta(){return(new(O())).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(v,_){const B=this.scroll.query(v,f.Scope.BLOCK_ATTRIBUTE);null!=B&&this.attributes.attribute(B,_)}formatAt(v,_,B,z){this.format(B,z)}insertAt(v,_,B){if(null!=B)return void super.insertAt(v,_,B);const z=_.split("\n"),tt=z.pop(),rt=z.map(m=>{const R=this.scroll.create(q.blotName);return R.insertAt(0,m),R}),W=this.split(v);rt.forEach(m=>{this.parent.insertBefore(m,W)}),tt&&this.parent.insertBefore(this.scroll.create("text",tt),W)}}function E(d){let v=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d.descendants(f.LeafBlot).reduce((_,B)=>0===B.length()?_:_.insert(B.value(),T(B,{},v)),new(O())).insert("\n",T(d))}function T(d){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==d?v:("formats"in d&&"function"==typeof d.formats&&(v={...v,...d.formats()},_&&delete v["code-token"]),null==d.parent||"scroll"===d.parent.statics.blotName||d.parent.statics.scope!==d.statics.scope?v:T(d.parent,v,_))}l.scope=f.Scope.BLOCK_BLOT},3036:function(Q,C,e){"use strict";var f=e(6003);class x extends f.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}x.blotName="break",x.tagName="BR",C.A=x},580:function(Q,C,e){"use strict";var f=e(6003);C.A=class x extends f.ContainerBlot{}},4541:function(Q,C,e){"use strict";var f=e(6003),x=e(5508);class O extends f.EmbedBlot{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(j,a,q){super(j,a),this.selection=q,this.textNode=document.createTextNode(O.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(j,a){if(0!==this.savedLength)return void super.format(j,a);let q=this,l=0;for(;null!=q&&q.statics.scope!==f.Scope.BLOCK_BLOT;)l+=q.offset(q.parent),q=q.parent;null!=q&&(this.savedLength=O.CONTENTS.length,q.optimize(),q.formatAt(l,O.CONTENTS.length,j,a),this.savedLength=0)}index(j,a){return j===this.textNode?0:super.index(j,a)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const j=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const a=this.prev instanceof x.A?this.prev:null,q=a?a.length():0,l=this.next instanceof x.A?this.next:null,E=l?l.text:"",{textNode:T}=this,d=T.data.split(O.CONTENTS).join("");let v;if(T.data=O.CONTENTS,a)v=a,(d||l)&&(a.insertAt(a.length(),d+E),l&&l.remove());else if(l)v=l,l.insertAt(0,d);else{const _=document.createTextNode(d);v=this.scroll.create(_),this.parent.insertBefore(v,this)}if(this.remove(),j){const _=(tt,rt)=>a&&tt===a.domNode?rt:tt===T?q+rt-1:l&&tt===l.domNode?q+d.length+rt:null,B=_(j.start.node,j.start.offset),z=_(j.end.node,j.end.offset);if(null!==B&&null!==z)return{startNode:v.domNode,startOffset:B,endNode:v.domNode,endOffset:z}}return null}update(j,a){if(j.some(q=>"characterData"===q.type&&q.target===this.textNode)){const q=this.restore();q&&(a.range=q)}}optimize(j){super.optimize(j);let{parent:a}=this;for(;a;){if("A"===a.domNode.tagName){this.savedLength=O.CONTENTS.length,a.isolate(this.offset(a),this.length()).unwrap(),this.savedLength=0;break}a=a.parent}}value(){return""}}C.A=O},746:function(Q,C,e){"use strict";var f=e(6003),x=e(5508);const O="\ufeff";C.A=class A extends f.EmbedBlot{constructor(a,q){super(a,q),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(l=>{this.contentNode.appendChild(l)}),this.leftGuard=document.createTextNode(O),this.rightGuard=document.createTextNode(O),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(a,q){return a===this.leftGuard?0:a===this.rightGuard?1:super.index(a,q)}restore(a){let q,l=null;const E=a.data.split(O).join("");if(a===this.leftGuard)if(this.prev instanceof x.A){const T=this.prev.length();this.prev.insertAt(T,E),l={startNode:this.prev.domNode,startOffset:T+E.length}}else q=document.createTextNode(E),this.parent.insertBefore(this.scroll.create(q),this),l={startNode:q,startOffset:E.length};else a===this.rightGuard&&(this.next instanceof x.A?(this.next.insertAt(0,E),l={startNode:this.next.domNode,startOffset:E.length}):(q=document.createTextNode(E),this.parent.insertBefore(this.scroll.create(q),this.next),l={startNode:q,startOffset:E.length}));return a.data=O,l}update(a,q){a.forEach(l=>{if("characterData"===l.type&&(l.target===this.leftGuard||l.target===this.rightGuard)){const E=this.restore(l.target);E&&(q.range=E)}})}}},4850:function(Q,C,e){"use strict";var f=e(6003),x=e(3036),O=e(5508);class A extends f.InlineBlot{static allowedChildren=[A,x.A,f.EmbedBlot,O.A];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(a,q){const l=A.order.indexOf(a),E=A.order.indexOf(q);return l>=0||E>=0?l-E:a===q?0:a<q?-1:1}formatAt(a,q,l,E){if(A.compare(this.statics.blotName,l)<0&&this.scroll.query(l,f.Scope.BLOT)){const T=this.isolate(a,q);E&&T.wrap(l,E)}else super.formatAt(a,q,l,E)}optimize(a){if(super.optimize(a),this.parent instanceof A&&A.compare(this.statics.blotName,this.parent.statics.blotName)>0){const q=this.parent.isolate(this.offset(),this.length());this.moveChildren(q),q.wrap(this)}}}C.A=A},5508:function(Q,C,e){"use strict";e.d(C,{A:function(){return x},X:function(){return O}});var f=e(6003);class x extends f.TextBlot{}function O(A){return A.replace(/[&<>"']/g,j=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[j]))}},3729:function(Q,C,e){"use strict";e.d(C,{default:function(){return t}});var f=e(6142),x=e(9698),O=e(3036),A=e(580),j=e(4541),a=e(746),q=e(4850),l=e(6003),E=e(5232),T=e.n(E),d=e(5374);function v(n){return n instanceof x.Ay||n instanceof x.zo}function _(n){return"function"==typeof n.updateContent}function z(n,r,L){L.reduce((c,p)=>{const w=E.Op.length(p);let k=p.attributes||{};if(null!=p.insert)if("string"==typeof p.insert){n.insertAt(c,p.insert);const[s]=n.descendant(l.LeafBlot,c),o=(0,x.Ji)(s);k=E.AttributeMap.diff(o,k)||{}}else if("object"==typeof p.insert){const g=Object.keys(p.insert)[0];if(null==g)return c;if(n.insertAt(c,g,p.insert[g]),null!=n.scroll.query(g,l.Scope.INLINE)){const[s]=n.descendant(l.LeafBlot,c),o=(0,x.Ji)(s);k=E.AttributeMap.diff(o,k)||{}}}return Object.keys(k).forEach(g=>{n.formatAt(c,w,g,k[g])}),c+w},r)}var rt=e(5508),W=e(584),m=e(4266);function K(n,r){let L=r;for(let c=n.length-1;c>=0;c-=1){const p=n[c];n[c]={delta:L.transform(p.delta,!0),range:p.range&&M(p.range,L)},L=p.delta.transform(L),0===n[c].delta.length()&&n.splice(c,1)}}function M(n,r){if(!n)return n;const L=r.transformPosition(n.index);return{index:L,length:r.transformPosition(n.index+n.length)-L}}var G=e(8123);class it extends m.A{constructor(r,L){super(r,L),r.root.addEventListener("drop",c=>{c.preventDefault();let p=null;if(document.caretRangeFromPoint)p=document.caretRangeFromPoint(c.clientX,c.clientY);else if(document.caretPositionFromPoint){const k=document.caretPositionFromPoint(c.clientX,c.clientY);p=document.createRange(),p.setStart(k.offsetNode,k.offset),p.setEnd(k.offsetNode,k.offset)}const w=p&&r.selection.normalizeNative(p);if(w){const k=r.selection.normalizedToRange(w);c.dataTransfer?.files&&this.upload(k,c.dataTransfer.files)}})}upload(r,L){const c=[];Array.from(L).forEach(p=>{p&&this.options.mimetypes?.includes(p.type)&&c.push(p)}),c.length>0&&this.options.handler.call(this,r,c)}}it.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,r){if(!this.quill.scroll.query("image"))return;const L=r.map(c=>new Promise(p=>{const w=new FileReader;w.onload=()=>{p(w.result)},w.readAsDataURL(c)}));Promise.all(L).then(c=>{const p=c.reduce((w,k)=>w.insert({image:k}),(new(T())).retain(n.index).delete(n.length));this.quill.updateContents(p,d.A.sources.USER),this.quill.setSelection(n.index+c.length,d.A.sources.SILENT)})}};var nt=it;const ht=["insertText","insertReplacementText"];const Y=/Mac/i.test(navigator.platform);f.Ay.register({"blots/block":x.Ay,"blots/block/embed":x.zo,"blots/break":O.A,"blots/container":A.A,"blots/cursor":j.A,"blots/embed":a.A,"blots/inline":q.A,"blots/scroll":class B extends l.ScrollBlot{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=x.Ay;static allowedChildren=[x.Ay,x.zo,A.A];constructor(r,L,c){let{emitter:p}=c;super(r,L),this.emitter=p,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",w=>this.handleDragStart(w))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const r=this.batch;this.batch=!1,this.update(r)}emitMount(r){this.emitter.emit(d.A.events.SCROLL_BLOT_MOUNT,r)}emitUnmount(r){this.emitter.emit(d.A.events.SCROLL_BLOT_UNMOUNT,r)}emitEmbedUpdate(r,L){this.emitter.emit(d.A.events.SCROLL_EMBED_UPDATE,r,L)}deleteAt(r,L){const[c,p]=this.line(r),[w]=this.line(r+L);if(super.deleteAt(r,L),null!=w&&c!==w&&p>0){if(c instanceof x.zo||w instanceof x.zo)return void this.optimize();c.moveChildren(w,w.children.head instanceof O.A?null:w.children.head),c.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(r,L,c,p){super.formatAt(r,L,c,p),this.optimize()}insertAt(r,L,c){if(r>=this.length())if(null==c||null==this.scroll.query(L,l.Scope.BLOCK)){const p=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(p),null==c&&L.endsWith("\n")?p.insertAt(0,L.slice(0,-1),c):p.insertAt(0,L,c)}else{const p=this.scroll.create(L,c);this.appendChild(p)}else super.insertAt(r,L,c);this.optimize()}insertBefore(r,L){if(r.statics.scope===l.Scope.INLINE_BLOT){const c=this.scroll.create(this.statics.defaultChild.blotName);c.appendChild(r),super.insertBefore(c,L)}else super.insertBefore(r,L)}insertContents(r,L){const c=this.deltaToRenderBlocks(L.concat((new(T())).insert("\n"))),p=c.pop();if(null==p)return;this.batchStart();const w=c.shift();if(w){const s="block"===w.type&&(0===w.delta.length()||!this.descendant(x.zo,r)[0]&&r<this.length()),o="block"===w.type?w.delta:(new(T())).insert({[w.key]:w.value});z(this,r,o);const u="block"===w.type?1:0,N=r+o.length()+u;s&&this.insertAt(N-1,"\n");const S=(0,x.Ji)(this.line(r)[0]),U=E.AttributeMap.diff(S,w.attributes)||{};Object.keys(U).forEach($=>{this.formatAt(N-1,1,$,U[$])}),r=N}let[k,g]=this.children.find(r);c.length&&(k&&(k=k.split(g),g=0),c.forEach(s=>{if("block"===s.type)z(this.createBlock(s.attributes,k||void 0),0,s.delta);else{const o=this.create(s.key,s.value);this.insertBefore(o,k||void 0),Object.keys(s.attributes).forEach(u=>{o.format(u,s.attributes[u])})}})),"block"===p.type&&p.delta.length()&&z(this,k?k.offset(k.scroll)+g:this.length(),p.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(r){const L=this.path(r).pop();if(!L)return[null,-1];const[c,p]=L;return c instanceof l.LeafBlot?[c,p]:[null,-1]}line(r){return r===this.length()?this.line(r-1):this.descendant(v,r)}lines(){const c=(p,w,k)=>{let g=[],s=k;return p.children.forEachAt(w,k,(o,u,N)=>{v(o)?g.push(o):o instanceof l.ContainerBlot&&(g=g.concat(c(o,u,s))),s-=N}),g};return c(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(r,L),r.length>0&&this.emitter.emit(d.A.events.SCROLL_OPTIMIZE,r,L))}path(r){return super.path(r).slice(1)}remove(){}update(r){if(this.batch)return void(Array.isArray(r)&&(this.batch=this.batch.concat(r)));let L=d.A.sources.USER;"string"==typeof r&&(L=r),Array.isArray(r)||(r=this.observer.takeRecords()),(r=r.filter(c=>{let{target:p}=c;const w=this.find(p,!0);return w&&!_(w)})).length>0&&this.emitter.emit(d.A.events.SCROLL_BEFORE_UPDATE,L,r),super.update(r.concat([])),r.length>0&&this.emitter.emit(d.A.events.SCROLL_UPDATE,L,r)}updateEmbedAt(r,L,c){const[p]=this.descendant(w=>w instanceof x.zo,r);p&&p.statics.blotName===L&&_(p)&&p.updateContent(c)}handleDragStart(r){r.preventDefault()}deltaToRenderBlocks(r){const L=[];let c=new(T());return r.forEach(p=>{const w=p?.insert;if(w)if("string"==typeof w){const k=w.split("\n");k.slice(0,-1).forEach(s=>{c.insert(s,p.attributes),L.push({type:"block",delta:c,attributes:p.attributes??{}}),c=new(T())});const g=k[k.length-1];g&&c.insert(g,p.attributes)}else{const k=Object.keys(w)[0];if(!k)return;this.query(k,l.Scope.INLINE)?c.push(p):(c.length()&&L.push({type:"block",delta:c,attributes:{}}),c=new(T()),L.push({type:"blockEmbed",key:k,value:w[k],attributes:p.attributes??{}}))}}),c.length()&&L.push({type:"block",delta:c,attributes:{}}),L}createBlock(r,L){let c;const p={};Object.entries(r).forEach(g=>{let[s,o]=g;null!=this.query(s,l.Scope.BLOCK&l.Scope.BLOT)?c=s:p[s]=o});const w=this.create(c||this.statics.defaultChild.blotName,c?r[c]:void 0);this.insertBefore(w,L||void 0);const k=w.length();return Object.entries(p).forEach(g=>{let[s,o]=g;w.formatAt(0,k,s,o)}),w}},"blots/text":rt.A,"modules/clipboard":W.Ay,"modules/history":class R extends m.A{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(r,L){super(r,L),this.quill.on(f.Ay.events.EDITOR_CHANGE,(c,p,w,k)=>{c===f.Ay.events.SELECTION_CHANGE?p&&k!==f.Ay.sources.SILENT&&(this.currentRange=p):c===f.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&k!==f.Ay.sources.USER?this.transform(p):this.record(p,w)),this.currentRange=M(this.currentRange,p))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",c=>{"historyUndo"===c.inputType?(this.undo(),c.preventDefault()):"historyRedo"===c.inputType&&(this.redo(),c.preventDefault())})}change(r,L){if(0===this.stack[r].length)return;const c=this.stack[r].pop();if(!c)return;const p=this.quill.getContents(),w=c.delta.invert(p);this.stack[L].push({delta:w,range:M(c.range,w)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(c.delta,f.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(c)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,L){if(0===r.ops.length)return;this.stack.redo=[];let c=r.invert(L),p=this.currentRange;const w=Date.now();if(this.lastRecorded+this.options.delay>w&&this.stack.undo.length>0){const k=this.stack.undo.pop();k&&(c=c.compose(k.delta),p=k.range)}else this.lastRecorded=w;0!==c.length()&&(this.stack.undo.push({delta:c,range:p}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){K(this.stack.undo,r),K(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,f.Ay.sources.USER);else{const L=function(c,p){const w=p.reduce((g,s)=>g+(s.delete||0),0);let k=p.length()-w;return function(g,s){const o=s.ops[s.ops.length-1];return null!=o&&(null!=o.insert?"string"==typeof o.insert&&o.insert.endsWith("\n"):null!=o.attributes&&Object.keys(o.attributes).some(u=>null!=g.query(u,l.Scope.BLOCK)))}(c,p)&&(k-=1),k}(this.quill.scroll,r.delta);this.quill.setSelection(L,f.Ay.sources.USER)}}},"modules/keyboard":G.Ay,"modules/uploader":nt,"modules/input":class pt extends m.A{constructor(r,L){super(r,L),r.root.addEventListener("beforeinput",c=>{this.handleBeforeInput(c)}),/Android/i.test(navigator.userAgent)||r.on(f.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(r){(0,G.Xo)({range:r,quill:this.quill})}replaceText(r){let L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===r.length)return!1;if(L){const c=this.quill.getFormat(r.index,1);this.deleteRange(r),this.quill.updateContents((new(T())).retain(r.index).insert(L,c),f.Ay.sources.USER)}else this.deleteRange(r);return this.quill.setSelection(r.index+L.length,0,f.Ay.sources.SILENT),!0}handleBeforeInput(r){if(this.quill.composition.isComposing||r.defaultPrevented||!ht.includes(r.inputType))return;const L=r.getTargetRanges?r.getTargetRanges()[0]:null;if(!L||!0===L.collapsed)return;const c="string"==typeof(k=r).data?k.data:k.dataTransfer?.types.includes("text/plain")?k.dataTransfer.getData("text/plain"):null;var k;if(null==c)return;const p=this.quill.selection.normalizeNative(L),w=p?this.quill.selection.normalizedToRange(p):null;w&&this.replaceText(w,c)&&r.preventDefault()}handleCompositionStart(){const r=this.quill.getSelection();r&&this.replaceText(r)}},"modules/uiNode":class ot extends m.A{isListening=!1;selectionChangeDeadline=0;constructor(r,L){super(r,L),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,L){let{line:c,event:p}=L;if(!(c instanceof l.ParentBlot&&c.uiNode))return!0;const w="rtl"===getComputedStyle(c.domNode).direction;return!!(w&&"ArrowRight"!==p.key||!w&&"ArrowLeft"!==p.key)||(this.quill.setSelection(r.index-1,r.length+(p.shiftKey?1:0),f.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{var L;!r.defaultPrevented&&("ArrowLeft"===(L=r).key||"ArrowRight"===L.key||"ArrowUp"===L.key||"ArrowDown"===L.key||"Home"===L.key||Y&&"a"===L.key&&!0===L.ctrlKey)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const r=document.getSelection();if(!r)return;const L=r.getRangeAt(0);if(!0!==L.collapsed||0!==L.startOffset)return;const c=this.quill.scroll.find(L.startContainer);if(!(c instanceof l.ParentBlot&&c.uiNode))return;const p=document.createRange();p.setStartAfter(c.uiNode),p.setEndAfter(c.uiNode),r.removeAllRanges(),r.addRange(p)}}});var t=f.Ay},5374:function(Q,C,e){"use strict";e.d(C,{A:function(){return A}});var f=e(8920),x=e(7356);const O=(0,e(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(j=>{document.addEventListener(j,function(){for(var a=arguments.length,q=new Array(a),l=0;l<a;l++)q[l]=arguments[l];Array.from(document.querySelectorAll(".ql-container")).forEach(E=>{const T=x.A.get(E);T&&T.emitter&&T.emitter.handleDOM(...q)})})});var A=class extends f{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",O.error)}emit(){for(var j=arguments.length,a=new Array(j),q=0;q<j;q++)a[q]=arguments[q];return O.log.call(O,...a),super.emit(...a)}handleDOM(j){for(var a=arguments.length,q=new Array(a>1?a-1:0),l=1;l<a;l++)q[l-1]=arguments[l];(this.domListeners[j.type]||[]).forEach(E=>{let{node:T,handler:d}=E;(j.target===T||T.contains(j.target))&&d(j,...q)})}listenDOM(j,a,q){this.domListeners[j]||(this.domListeners[j]=[]),this.domListeners[j].push({node:a,handler:q})}}},7356:function(Q,C){"use strict";C.A=new WeakMap},6078:function(Q,C){"use strict";const e=["error","warn","log","info"];let f="warn";function x(A){if(f&&e.indexOf(A)<=e.indexOf(f)){for(var j=arguments.length,a=new Array(j>1?j-1:0),q=1;q<j;q++)a[q-1]=arguments[q];console[A](...a)}}function O(A){return e.reduce((j,a)=>(j[a]=x.bind(console,a,A),j),{})}x.level=O.level=A=>{f=A},C.A=O},4266:function(Q,C){"use strict";C.A=class{static DEFAULTS={};constructor(e){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=f}}},6142:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return n}});var f=e(8347),x=e(6003),O=e(5232),A=e.n(O),j=e(3707),a=e(5123),q=e(9698),l=e(3036),E=e(4541),T=e(5508),d=e(8298);const v=/^[ -~]*$/;function _(g,s,o){if(0===g.length){const[mt]=tt(o.pop());return s<=0?`</li></${mt}>`:`</li></${mt}>${_([],s-1,o)}`}const[{child:u,offset:N,length:S,indent:U,type:$},...V]=g,[Z,et]=tt($);if(U>s)return o.push($),U===s+1?`<${Z}><li${et}>${B(u,N,S)}${_(V,U,o)}`:`<${Z}><li>${_(g,s+1,o)}`;if(U===s&&$===o[o.length-1])return`</li><li${et}>${B(u,N,S)}${_(V,U,o)}`;const[lt]=tt(o.pop());return`</li></${lt}>${_(g,s-1,o)}`}function B(g,s,o){let u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in g&&"function"==typeof g.html)return g.html(s,o);if(g instanceof T.A)return(0,T.X)(g.value().slice(s,s+o));if(g instanceof x.ParentBlot){if("list-container"===g.statics.blotName){const Z=[];return g.children.forEachAt(s,o,(et,at,lt)=>{const mt="formats"in et&&"function"==typeof et.formats?et.formats():{};Z.push({child:et,offset:at,length:lt,indent:mt.indent||0,type:mt.list})}),_(Z,-1,[])}const N=[];if(g.children.forEachAt(s,o,(Z,et,at)=>{N.push(B(Z,et,at))}),u||"list"===g.statics.blotName)return N.join("");const{outerHTML:S,innerHTML:U}=g.domNode,[$,V]=S.split(`>${U}<`);return"<table"===$?`<table style="border: 1px solid #000;">${N.join("")}<${V}`:`${$}>${N.join("")}<${V}`}return g.domNode instanceof Element?g.domNode.outerHTML:""}function z(g,s){return Object.keys(s).reduce((o,u)=>{if(null==g[u])return o;const N=s[u];return o[u]=N===g[u]?N:Array.isArray(N)?N.indexOf(g[u])<0?N.concat([g[u]]):N:[N,g[u]],o},{})}function tt(g){const s="ordered"===g?"ol":"ul";switch(g){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function rt(g){return g.reduce((s,o)=>{if("string"==typeof o.insert){const u=o.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return s.insert(u,o.attributes)}return s.push(o)},new(A()))}function W(g,s){let{index:o,length:u}=g;return new d.Q(o+s,u)}var m=class{constructor(g){this.scroll=g,this.delta=this.getDelta()}applyDelta(g){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const o=rt(g),u=new(A());return function(N){const S=[];return N.forEach(U=>{"string"==typeof U.insert?U.insert.split("\n").forEach(($,V)=>{V&&S.push({insert:"\n",attributes:U.attributes}),$&&S.push({insert:$,attributes:U.attributes})}):S.push(U)}),S}(o.ops.slice()).reduce((N,S)=>{const U=O.Op.length(S);let $=S.attributes||{},V=!1,Z=!1;if(null!=S.insert){if(u.retain(U),"string"==typeof S.insert){const lt=S.insert;Z=!lt.endsWith("\n")&&(s<=N||!!this.scroll.descendant(q.zo,N)[0]),this.scroll.insertAt(N,lt);const[mt,dt]=this.scroll.line(N);let ft=(0,f.A)({},(0,q.Ji)(mt));if(mt instanceof q.Ay){const[wt]=mt.descendant(x.LeafBlot,dt);wt&&(ft=(0,f.A)(ft,(0,q.Ji)(wt)))}$=O.AttributeMap.diff(ft,$)||{}}else if("object"==typeof S.insert){const lt=Object.keys(S.insert)[0];if(null==lt)return N;const mt=null!=this.scroll.query(lt,x.Scope.INLINE);if(mt)(s<=N||this.scroll.descendant(q.zo,N)[0])&&(Z=!0);else if(N>0){const[dt,ft]=this.scroll.descendant(x.LeafBlot,N-1);dt instanceof T.A?"\n"!==dt.value()[ft]&&(V=!0):dt instanceof x.EmbedBlot&&dt.statics.scope===x.Scope.INLINE_BLOT&&(V=!0)}if(this.scroll.insertAt(N,lt,S.insert[lt]),mt){const[dt]=this.scroll.descendant(x.LeafBlot,N);if(dt){const ft=(0,f.A)({},(0,q.Ji)(dt));$=O.AttributeMap.diff(ft,$)||{}}}}s+=U}else if(u.push(S),null!==S.retain&&"object"==typeof S.retain){const lt=Object.keys(S.retain)[0];if(null==lt)return N;this.scroll.updateEmbedAt(N,lt,S.retain[lt])}Object.keys($).forEach(lt=>{this.scroll.formatAt(N,U,lt,$[lt])});const et=V?1:0,at=Z?1:0;return s+=et+at,u.retain(et),u.delete(at),N+U+et+at},0),u.reduce((N,S)=>"number"==typeof S.delete?(this.scroll.deleteAt(N,S.delete),N):N+O.Op.length(S),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(g,s){return this.scroll.deleteAt(g,s),this.update((new(A())).retain(g).delete(s))}formatLine(g,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(N=>{this.scroll.lines(g,Math.max(s,1)).forEach(S=>{S.format(N,o[N])})}),this.scroll.optimize();const u=(new(A())).retain(g).retain(s,(0,j.A)(o));return this.update(u)}formatText(g,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(o).forEach(N=>{this.scroll.formatAt(g,s,N,o[N])});const u=(new(A())).retain(g).retain(s,(0,j.A)(o));return this.update(u)}getContents(g,s){return this.delta.slice(g,g+s)}getDelta(){return this.scroll.lines().reduce((g,s)=>g.concat(s.delta()),new(A()))}getFormat(g){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[],u=[];0===s?this.scroll.path(g).forEach(U=>{const[$]=U;$ instanceof q.Ay?o.push($):$ instanceof x.LeafBlot&&u.push($)}):(o=this.scroll.lines(g,s),u=this.scroll.descendants(x.LeafBlot,g,s));const[N,S]=[o,u].map(U=>{const $=U.shift();if(null==$)return{};let V=(0,q.Ji)($);for(;Object.keys(V).length>0;){const Z=U.shift();if(null==Z)return V;V=z((0,q.Ji)(Z),V)}return V});return{...N,...S}}getHTML(g,s){const[o,u]=this.scroll.line(g);if(o){const N=o.length();return o.length()>=u+s&&(0!==u||s!==N)?B(o,u,s,!0):B(this.scroll,g,s,!0)}return""}getText(g,s){return this.getContents(g,s).filter(o=>"string"==typeof o.insert).map(o=>o.insert).join("")}insertContents(g,s){const o=rt(s),u=(new(A())).retain(g).concat(o);return this.scroll.insertContents(g,o),this.update(u)}insertEmbed(g,s,o){return this.scroll.insertAt(g,s,o),this.update((new(A())).retain(g).insert({[s]:o}))}insertText(g,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(g,s),Object.keys(o).forEach(u=>{this.scroll.formatAt(g,s.length,u,o[u])}),this.update((new(A())).retain(g).insert(s,(0,j.A)(o)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const g=this.scroll.children.head;return g?.statics.blotName===q.Ay.blotName&&(!(g.children.length>1)&&g.children.head instanceof l.A)}removeFormat(g,s){const o=this.getText(g,s),[u,N]=this.scroll.line(g+s);let S=0,U=new(A());null!=u&&(S=u.length()-N,U=u.delta().slice(N,N+S-1).insert("\n"));const $=this.getContents(g,s+S).diff((new(A())).insert(o).concat(U)),V=(new(A())).retain(g).concat($);return this.applyDelta(V)}update(g){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const u=this.delta;if(1===s.length&&"characterData"===s[0].type&&s[0].target.data.match(v)&&this.scroll.find(s[0].target)){const N=this.scroll.find(s[0].target),S=(0,q.Ji)(N),U=N.offset(this.scroll),$=s[0].oldValue.replace(E.A.CONTENTS,""),V=(new(A())).insert($),Z=(new(A())).insert(N.value()),et=o&&{oldRange:W(o.oldRange,-U),newRange:W(o.newRange,-U)};g=(new(A())).retain(U).concat(V.diff(Z,et)).reduce((at,lt)=>lt.insert?at.insert(lt.insert,S):at.push(lt),new(A())),this.delta=u.compose(g)}else this.delta=this.getDelta(),g&&(0,a.A)(u.compose(g),this.delta)||(g=u.diff(this.delta,o));return g}},R=e(5374),K=e(7356),M=e(6078),G=e(4266),it=e(746),nt=class{isComposing=!1;constructor(g,s){this.scroll=g,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",g=>{this.isComposing||this.handleCompositionStart(g)}),this.scroll.domNode.addEventListener("compositionend",g=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(g)})})}handleCompositionStart(g){const s=g.target instanceof Node?this.scroll.find(g.target,!0):null;!s||s instanceof it.A||(this.emitter.emit(R.A.events.COMPOSITION_BEFORE_START,g),this.scroll.batchStart(),this.emitter.emit(R.A.events.COMPOSITION_START,g),this.isComposing=!0)}handleCompositionEnd(g){this.emitter.emit(R.A.events.COMPOSITION_BEFORE_END,g),this.scroll.batchEnd(),this.emitter.emit(R.A.events.COMPOSITION_END,g),this.isComposing=!1}},ht=e(9609);const pt=g=>{const s=g.getBoundingClientRect(),o="offsetWidth"in g&&Math.abs(s.width)/g.offsetWidth||1,u="offsetHeight"in g&&Math.abs(s.height)/g.offsetHeight||1;return{top:s.top,right:s.left+g.clientWidth*o,bottom:s.top+g.clientHeight*u,left:s.left}},J=g=>{const s=parseInt(g,10);return Number.isNaN(s)?0:s},Y=(g,s,o,u,N,S)=>g<o&&s>u?0:g<o?-(o-g+N):s>u?s-g>u-o?g+N-o:s-u+S:0,ot=["block","break","cursor","inline","scroll","text"],y=(0,M.A)("quill"),t=new x.Registry;x.ParentBlot.uiClass="ql-ui";class n{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:t,theme:"default"};static events=R.A.events;static sources=R.A.sources;static version="2.0.2";static imports={delta:A(),parchment:x,"core/module":G.A,"core/theme":ht.A};static debug(s){!0===s&&(s="log"),M.A.level(s)}static find(s){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return K.A.get(s)||t.find(s,o)}static import(s){return null==this.imports[s]&&y.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const s=arguments.length<=0?void 0:arguments[0],o=!(arguments.length<=1||!arguments[1]),u="attrName"in s?s.attrName:s.blotName;"string"==typeof u?this.register(`formats/${u}`,s,o):Object.keys(s).forEach(N=>{this.register(N,s[N],o)})}else{const s=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1];null==this.imports[s]||!(arguments.length<=2||!arguments[2])||y.warn(`Overwriting ${s} with`,o),this.imports[s]=o,(s.startsWith("blots/")||s.startsWith("formats/"))&&o&&"boolean"!=typeof o&&"abstract"!==o.blotName&&t.register(o),"function"==typeof o.register&&o.register(t)}}constructor(s){if(this.options=function(U,$){const V=r(U);if(!V)throw new Error("Invalid Quill container");const Z=$.theme&&$.theme!==n.DEFAULTS.theme?n.import(`themes/${$.theme}`):ht.A;if(!Z)throw new Error(`Invalid theme ${$.theme}. Did you register it?`);const{modules:et,...at}=n.DEFAULTS,{modules:lt,...mt}=Z.DEFAULTS;let dt=L($.modules);null!=dt&&dt.toolbar&&dt.toolbar.constructor!==Object&&(dt={...dt,toolbar:{container:dt.toolbar}});const ft=(0,f.A)({},L(et),L(lt),dt),wt={...at,...c(mt),...c($)};let Tt=$.registry;return Tt?$.formats&&y.warn('Ignoring "formats" option because "registry" is specified'):Tt=$.formats?((Lt,ut,bt)=>{const xt=new x.Registry;return ot.forEach(St=>{const Nt=ut.query(St);Nt&&xt.register(Nt)}),Lt.forEach(St=>{let Nt=ut.query(St);Nt||bt.error(`Cannot register "${St}" specified in "formats" config. Are you sure it was registered?`);let jt=0;for(;Nt;)if(xt.register(Nt),Nt="blotName"in Nt?Nt.requiredContainer??null:null,jt+=1,jt>100){bt.error(`Cycle detected in registering blot requiredContainer: "${St}"`);break}}),xt})($.formats,wt.registry,y):wt.registry,{...wt,registry:Tt,container:V,theme:Z,modules:Object.entries(ft).reduce((Lt,ut)=>{let[bt,xt]=ut;if(!xt)return Lt;const St=n.import(`modules/${bt}`);return null==St?(y.error(`Cannot load ${bt} module. Are you sure you registered it?`),Lt):{...Lt,[bt]:(0,f.A)({},St.DEFAULTS||{},xt)}},{}),bounds:r(wt.bounds)}}(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void y.error("Invalid Quill container",s);this.options.debug&&n.debug(this.options.debug);const u=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",K.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new R.A;const N=x.ScrollBlot.blotName,S=this.options.registry.query(N);if(!S||!("blotName"in S))throw new Error(`Cannot initialize Quill without "${N}" blot`);if(this.scroll=new S(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new m(this.scroll),this.selection=new d.A(this.scroll,this.emitter),this.composition=new nt(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(R.A.events.EDITOR_CHANGE,U=>{U===R.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(R.A.events.SCROLL_UPDATE,(U,$)=>{const V=this.selection.lastRange,[Z]=this.selection.getRange(),et=V&&Z?{oldRange:V,newRange:Z}:void 0;p.call(this,()=>this.editor.update(null,$,et),U)}),this.emitter.on(R.A.events.SCROLL_EMBED_UPDATE,(U,$)=>{const V=this.selection.lastRange,[Z]=this.selection.getRange(),et=V&&Z?{oldRange:V,newRange:Z}:void 0;p.call(this,()=>{const at=(new(A())).retain(U.offset(this)).retain({[U.statics.blotName]:$});return this.editor.update(at,[],et)},n.sources.USER)}),u){const U=this.clipboard.convert({html:`${u}<p><br></p>`,text:"\n"});this.setContents(U)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof s){const u=s;(s=document.createElement("div")).classList.add(u)}return this.container.insertBefore(s,o),s}blur(){this.selection.setRange(null)}deleteText(s,o,u){return[s,o,,u]=w(s,o,u),p.call(this,()=>this.editor.deleteText(s,o),u,s,-1*o)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const o=s();return this.allowReadOnlyEdits=!1,o}enable(){let s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,o){return p.call(this,()=>{const N=this.getSelection(!0);let S=new(A());if(null==N)return S;if(this.scroll.query(s,x.Scope.BLOCK))S=this.editor.formatLine(N.index,N.length,{[s]:o});else{if(0===N.length)return this.selection.format(s,o),S;S=this.editor.formatText(N.index,N.length,{[s]:o})}return this.setSelection(N,R.A.sources.SILENT),S},arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.A.sources.API)}formatLine(s,o,u,N,S){let U;return[s,o,U,S]=w(s,o,u,N,S),p.call(this,()=>this.editor.formatLine(s,o,U),S,s,0)}formatText(s,o,u,N,S){let U;return[s,o,U,S]=w(s,o,u,N,S),p.call(this,()=>this.editor.formatText(s,o,U),S,s,0)}getBounds(s){let u=null;if(u="number"==typeof s?this.selection.getBounds(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(s.index,s.length),!u)return null;const N=this.container.getBoundingClientRect();return{bottom:u.bottom-N.top,height:u.height,left:u.left-N.left,right:u.right-N.left,top:u.top-N.top,width:u.width}}getContents(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-s;return[s,o]=w(s,o),this.editor.getContents(s,o)}getFormat(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof s?this.editor.getFormat(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof s?this.scroll.lines(s.index,s.length):this.scroll.lines(s,o)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return"number"==typeof s&&(o=o??this.getLength()-s),[s,o]=w(s,o),this.editor.getHTML(s,o)}getText(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return"number"==typeof s&&(o=o??this.getLength()-s),[s,o]=w(s,o),this.editor.getText(s,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,o,u){return p.call(this,()=>this.editor.insertEmbed(s,o,u),arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.sources.API,s)}insertText(s,o,u,N,S){let U;return[s,,U,S]=w(s,0,u,N,S),p.call(this,()=>this.editor.insertText(s,o,U),S,s,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,o,u){return[s,o,,u]=w(s,o,u),p.call(this,()=>this.editor.removeFormat(s,o),u,s)}scrollRectIntoView(s){((o,u)=>{const N=o.ownerDocument;let S=u,U=o;for(;U;){const V=U===N.body,Z=V?{top:0,right:window.visualViewport?.width??N.documentElement.clientWidth,bottom:window.visualViewport?.height??N.documentElement.clientHeight,left:0}:pt(U),et=getComputedStyle(U),at=Y(S.left,S.right,Z.left,Z.right,J(et.scrollPaddingLeft),J(et.scrollPaddingRight)),lt=Y(S.top,S.bottom,Z.top,Z.bottom,J(et.scrollPaddingTop),J(et.scrollPaddingBottom));if(at||lt)if(V)N.defaultView?.scrollBy(at,lt);else{const{scrollLeft:mt,scrollTop:dt}=U;lt&&(U.scrollTop+=lt),at&&(U.scrollLeft+=at);const ft=U.scrollLeft-mt,wt=U.scrollTop-dt;S={left:S.left-ft,top:S.top-wt,right:S.right-ft,bottom:S.bottom-wt}}U=V||"fixed"===et.position?null:($=U).parentElement||$.getRootNode().host||null}var $})(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,o=s&&this.selection.getBounds(s.index,s.length);o&&this.scrollRectIntoView(o)}setContents(s){return p.call(this,()=>{s=new(A())(s);const u=this.getLength(),N=this.editor.deleteText(0,u),S=this.editor.insertContents(0,s),U=this.editor.deleteText(this.getLength()-1,1);return N.compose(S).compose(U)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.A.sources.API)}setSelection(s,o,u){null==s?this.selection.setRange(null,o||n.sources.API):([s,o,,u]=w(s,o,u),this.selection.setRange(new d.Q(Math.max(0,s),o),u),u!==R.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.A.sources.API;const u=(new(A())).insert(s);return this.setContents(u,o)}update(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.A.sources.USER;const o=this.scroll.update(s);return this.selection.update(s),o}updateContents(s){return p.call(this,()=>(s=new(A())(s),this.editor.applyDelta(s)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.A.sources.API,!0)}}function r(g){return"string"==typeof g?document.querySelector(g):g}function L(g){return Object.entries(g??{}).reduce((s,o)=>{let[u,N]=o;return{...s,[u]:!0===N?{}:N}},{})}function c(g){return Object.fromEntries(Object.entries(g).filter(s=>void 0!==s[1]))}function p(g,s,o,u){if(!this.isEnabled()&&s===R.A.sources.USER&&!this.allowReadOnlyEdits)return new(A());let N=null==o?null:this.getSelection();const S=this.editor.delta,U=g();if(null!=N&&(!0===o&&(o=N.index),null==u?N=k(N,U,s):0!==u&&(N=k(N,o,u,s)),this.setSelection(N,R.A.sources.SILENT)),U.length()>0){const $=[R.A.events.TEXT_CHANGE,U,S,s];this.emitter.emit(R.A.events.EDITOR_CHANGE,...$),s!==R.A.sources.SILENT&&this.emitter.emit(...$)}return U}function w(g,s,o,u,N){let S={};return"number"==typeof g.index&&"number"==typeof g.length?"number"!=typeof s?(N=u,u=o,o=s,s=g.length,g=g.index):(s=g.length,g=g.index):"number"!=typeof s&&(N=u,u=o,o=s,s=0),"object"==typeof o?(S=o,N=u):"string"==typeof o&&(null!=u?S[o]=u:N=o),[g,s,S,N=N||R.A.sources.API]}function k(g,s,o,u){const N="number"==typeof o?o:0;if(null==g)return null;let S,U;return[S,U]=[g.index,g.index+g.length].map(s&&"function"==typeof s.transformPosition?$=>s.transformPosition($,u!==R.A.sources.USER):$=>$<s||$===s&&u===R.A.sources.USER?$:N>=0?$+N:Math.max(s,$+N)),new d.Q(S,U-S)}},8298:function(Q,C,e){"use strict";e.d(C,{Q:function(){return a}});var f=e(6003),x=e(5123),O=e(3707),A=e(5374);const j=(0,e(6078).A)("quill:selection");class a{constructor(E){let T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=E,this.length=T}}function q(l,E){return l.contains(E)}C.A=class{constructor(l,E){this.emitter=E,this.scroll=l,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new a(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,A.A.sources.USER),1)}),this.emitter.on(A.A.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const T=this.getNativeRange();null!=T&&T.start.node!==this.cursor.textNode&&this.emitter.once(A.A.events.SCROLL_UPDATE,(d,v)=>{try{this.root.contains(T.start.node)&&this.root.contains(T.end.node)&&this.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset);const _=v.some(B=>"characterData"===B.type||"childList"===B.type||"attributes"===B.type&&B.target===this.root);this.update(_?A.A.sources.SILENT:d)}catch{}})}),this.emitter.on(A.A.events.SCROLL_OPTIMIZE,(T,d)=>{if(d.range){const{startNode:v,startOffset:_,endNode:B,endOffset:z}=d.range;this.setNativeRange(v,_,B,z),this.update(A.A.sources.SILENT)}}),this.update(A.A.sources.SILENT)}handleComposition(){this.emitter.on(A.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(A.A.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const l=this.cursor.restore();if(!l)return;setTimeout(()=>{this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(A.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(l,E){this.scroll.update();const T=this.getNativeRange();if(null!=T&&T.native.collapsed&&!this.scroll.query(l,f.Scope.BLOCK)){if(T.start.node!==this.cursor.textNode){const d=this.scroll.find(T.start.node,!1);if(null==d)return;if(d instanceof f.LeafBlot){const v=d.split(T.start.offset);d.parent.insertBefore(this.cursor,v)}else d.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(l,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(l){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const T=this.scroll.length();let d;l=Math.min(l,T-1),E=Math.min(l+E,T-1)-l;let[v,_]=this.scroll.leaf(l);if(null==v)return null;if(E>0&&_===v.length()){const[rt]=this.scroll.leaf(l+1);if(rt){const[W]=this.scroll.line(l),[m]=this.scroll.line(l+1);W===m&&(v=rt,_=0)}}[d,_]=v.position(_,!0);const B=document.createRange();if(E>0)return B.setStart(d,_),[v,_]=this.scroll.leaf(l+E),null==v?null:([d,_]=v.position(_,!0),B.setEnd(d,_),B.getBoundingClientRect());let z,tt="left";if(d instanceof Text){if(!d.data.length)return null;_<d.data.length?(B.setStart(d,_),B.setEnd(d,_+1)):(B.setStart(d,_-1),B.setEnd(d,_),tt="right"),z=B.getBoundingClientRect()}else{if(!(v.domNode instanceof Element))return null;z=v.domNode.getBoundingClientRect(),_>0&&(tt="right")}return{bottom:z.top+z.height,height:z.height,left:z[tt],right:z[tt],top:z.top,width:0}}getNativeRange(){const l=document.getSelection();if(null==l||l.rangeCount<=0)return null;const E=l.getRangeAt(0);if(null==E)return null;const T=this.normalizeNative(E);return j.info("getNativeRange",T),T}getRange(){const l=this.scroll.domNode;if("isConnected"in l&&!l.isConnected)return[null,null];const E=this.getNativeRange();return null==E?[null,null]:[this.normalizedToRange(E),E]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&q(this.root,document.activeElement)}normalizedToRange(l){const E=[[l.start.node,l.start.offset]];l.native.collapsed||E.push([l.end.node,l.end.offset]);const T=E.map(_=>{const[B,z]=_,tt=this.scroll.find(B,!0),rt=tt.offset(this.scroll);return 0===z?rt:tt instanceof f.LeafBlot?rt+tt.index(B,z):rt+tt.length()}),d=Math.min(Math.max(...T),this.scroll.length()-1),v=Math.min(d,...T);return new a(v,d-v)}normalizeNative(l){if(!q(this.root,l.startContainer)||!l.collapsed&&!q(this.root,l.endContainer))return null;const E={start:{node:l.startContainer,offset:l.startOffset},end:{node:l.endContainer,offset:l.endOffset},native:l};return[E.start,E.end].forEach(T=>{let{node:d,offset:v}=T;for(;!(d instanceof Text)&&d.childNodes.length>0;)if(d.childNodes.length>v)d=d.childNodes[v],v=0;else{if(d.childNodes.length!==v)break;d=d.lastChild,v=d instanceof Text?d.data.length:d.childNodes.length>0?d.childNodes.length:d.childNodes.length+1}T.node=d,T.offset=v}),E}rangeToNative(l){const E=this.scroll.length(),T=(d,v)=>{d=Math.min(E-1,d);const[_,B]=this.scroll.leaf(d);return _?_.position(B,v):[null,-1]};return[...T(l.index,!1),...T(l.index+l.length,!0)]}setNativeRange(l,E){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E,v=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(j.info("setNativeRange",l,E,T,d),null!=l&&(null==this.root.parentNode||null==l.parentNode||null==T.parentNode))return;const _=document.getSelection();if(null!=_)if(null!=l){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:B}=this.getNativeRange()||{};if(null==B||v||l!==B.startContainer||E!==B.startOffset||T!==B.endContainer||d!==B.endOffset){l instanceof Element&&"BR"===l.tagName&&(E=Array.from(l.parentNode.childNodes).indexOf(l),l=l.parentNode),T instanceof Element&&"BR"===T.tagName&&(d=Array.from(T.parentNode.childNodes).indexOf(T),T=T.parentNode);const z=document.createRange();z.setStart(l,E),z.setEnd(T,d),_.removeAllRanges(),_.addRange(z)}}else _.removeAllRanges(),this.root.blur()}setRange(l){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1],T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.A.sources.API;if("string"==typeof E&&(T=E,E=!1),j.info("setRange",l),null!=l){const d=this.rangeToNative(l);this.setNativeRange(...d,E)}else this.setNativeRange(null);this.update(T)}update(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.A.sources.USER;const E=this.lastRange,[T,d]=this.getRange();if(this.lastRange=T,this.lastNative=d,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,x.A)(E,this.lastRange)){if(!this.composing&&null!=d&&d.native.collapsed&&d.start.node!==this.cursor.textNode){const _=this.cursor.restore();_&&this.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)}const v=[A.A.events.SELECTION_CHANGE,(0,O.A)(this.lastRange),(0,O.A)(E),l];this.emitter.emit(A.A.events.EDITOR_CHANGE,...v),l!==A.A.sources.SILENT&&this.emitter.emit(...v)}}}},9609:function(Q,C){"use strict";class e{static DEFAULTS={modules:{}};static themes={default:e};modules={};constructor(x,O){this.quill=x,this.options=O}init(){Object.keys(this.options.modules).forEach(x=>{null==this.modules[x]&&this.addModule(x)})}addModule(x){const O=this.quill.constructor.import(`modules/${x}`);return this.modules[x]=new O(this.quill,this.options.modules[x]||{}),this.modules[x]}}C.A=e},8276:function(Q,C,e){"use strict";e.d(C,{Hu:function(){return j},gS:function(){return O},qh:function(){return A}});var f=e(6003);const x={scope:f.Scope.BLOCK,whitelist:["right","center","justify"]},O=new f.Attributor("align","align",x),A=new f.ClassAttributor("align","ql-align",x),j=new f.StyleAttributor("align","text-align",x)},9541:function(Q,C,e){"use strict";e.d(C,{l:function(){return O},s:function(){return A}});var f=e(6003),x=e(8638);const O=new f.ClassAttributor("background","ql-bg",{scope:f.Scope.INLINE}),A=new x.a2("background","background-color",{scope:f.Scope.INLINE})},9404:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return E},Cy:function(){return T},EJ:function(){return l}});var f=e(9698),x=e(3036),O=e(4541),A=e(4850),j=e(5508),a=e(580),q=e(6142);class l extends a.A{static create(v){const _=super.create(v);return _.setAttribute("spellcheck","false"),_}code(v,_){return this.children.map(B=>B.length()<=1?"":B.domNode.innerText).join("\n").slice(v,v+_)}html(v,_){return`<pre>\n${(0,j.X)(this.code(v,_))}\n</pre>`}}class E extends f.Ay{static TAB="  ";static register(){q.Ay.register(l)}}class T extends A.A{}T.blotName="code",T.tagName="CODE",E.blotName="code-block",E.className="ql-code-block",E.tagName="DIV",l.blotName="code-block-container",l.className="ql-code-block-container",l.tagName="DIV",l.allowedChildren=[E],E.allowedChildren=[j.A,x.A,O.A],E.requiredContainer=l},8638:function(Q,C,e){"use strict";e.d(C,{JM:function(){return A},a2:function(){return x},g3:function(){return O}});var f=e(6003);class x extends f.StyleAttributor{value(a){let q=super.value(a);return q.startsWith("rgb(")?(q=q.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${q.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):q}}const O=new f.ClassAttributor("color","ql-color",{scope:f.Scope.INLINE}),A=new x("color","color",{scope:f.Scope.INLINE})},7912:function(Q,C,e){"use strict";e.d(C,{Mc:function(){return O},VL:function(){return j},sY:function(){return A}});var f=e(6003);const x={scope:f.Scope.BLOCK,whitelist:["rtl"]},O=new f.Attributor("direction","dir",x),A=new f.ClassAttributor("direction","ql-direction",x),j=new f.StyleAttributor("direction","direction",x)},6772:function(Q,C,e){"use strict";e.d(C,{q:function(){return O},z:function(){return j}});var f=e(6003);const x={scope:f.Scope.INLINE,whitelist:["serif","monospace"]},O=new f.ClassAttributor("font","ql-font",x),j=new class A extends f.StyleAttributor{value(q){return super.value(q).replace(/["']/g,"")}}("font","font-family",x)},664:function(Q,C,e){"use strict";e.d(C,{U:function(){return x},r:function(){return O}});var f=e(6003);const x=new f.ClassAttributor("size","ql-size",{scope:f.Scope.INLINE,whitelist:["small","large","huge"]}),O=new f.StyleAttributor("size","font-size",{scope:f.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return pt},hV:function(){return n}});var f=e(6003),x=e(5232),O=e.n(x),A=e(9698),j=e(6078),a=e(4266),q=e(6142),l=e(8276),E=e(9541),T=e(9404),d=e(8638),v=e(7912),_=e(6772),B=e(664),z=e(8123);const tt=/font-weight:\s*normal/,rt=["P","OL","UL"],W=c=>c&&rt.includes(c.tagName),m=/\bmso-list:[^;]*ignore/i,R=/\bmso-list:[^;]*\bl(\d+)/i,K=/\bmso-list:[^;]*\blevel(\d+)/i,M=[function(c){"urn:schemas-microsoft-com:office:word"===c.documentElement.getAttribute("xmlns:w")&&(p=>{const w=Array.from(p.querySelectorAll("[style*=mso-list]")),k=[],g=[];w.forEach(u=>{(u.getAttribute("style")||"").match(m)?k.push(u):g.push(u)}),k.forEach(u=>u.parentNode?.removeChild(u));const s=p.documentElement.innerHTML,o=g.map(u=>((N,S)=>{const U=N.getAttribute("style"),$=U?.match(R);if(!$)return null;const V=Number($[1]),Z=U?.match(K),et=Z?Number(Z[1]):1,at=new RegExp(`@list l${V}:level${et}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),lt=S.match(at);return{id:V,indent:et,type:lt&&"bullet"===lt[1]?"bullet":"ordered",element:N}})(u,s)).filter(u=>u);for(;o.length;){const u=[];let N=o.shift();for(;N;)u.push(N),N=o.length&&o[0]?.element===N.element.nextElementSibling&&o[0].id===N.id?o.shift():null;const S=document.createElement("ul");u.forEach(V=>{const Z=document.createElement("li");Z.setAttribute("data-list",V.type),V.indent>1&&Z.setAttribute("class","ql-indent-"+(V.indent-1)),Z.innerHTML=V.element.innerHTML,S.appendChild(Z)});const U=u[0]?.element,{parentNode:$}=U??{};U&&$?.replaceChild(S,U),u.slice(1).forEach(V=>{let{element:Z}=V;$?.removeChild(Z)})}})(c)},function(c){var p;c.querySelector('[id^="docs-internal-guid-"]')&&(p=c,Array.from(p.querySelectorAll('b[style*="font-weight"]')).filter(w=>w.getAttribute("style")?.match(tt)).forEach(w=>{const k=p.createDocumentFragment();k.append(...w.childNodes),w.parentNode?.replaceChild(k,w)}),(p=>{Array.from(p.querySelectorAll("br")).filter(w=>W(w.previousElementSibling)&&W(w.nextElementSibling)).forEach(w=>{w.parentNode?.removeChild(w)})})(c))}],G=(0,j.A)("quill:clipboard"),it=[[Node.TEXT_NODE,function(c,p,w){let k=c.data;if("O:P"===c.parentElement?.tagName)return p.insert(k.trim());if(!t(c)){if(0===k.trim().length&&k.includes("\n")&&(o=w,!(s=c).previousElementSibling||!s.nextElementSibling||ot(s.previousElementSibling,o)||ot(s.nextElementSibling,o)))return p;const g=(s,o)=>{const u=o.replace(/[^\u00a0]/g,"");return u.length<1&&s?" ":u};k=k.replace(/\r\n/g," ").replace(/\n/g," "),k=k.replace(/\s\s+/g,g.bind(g,!0)),(null==c.previousSibling&&null!=c.parentElement&&ot(c.parentElement,w)||c.previousSibling instanceof Element&&ot(c.previousSibling,w))&&(k=k.replace(/^\s+/,g.bind(g,!1))),(null==c.nextSibling&&null!=c.parentElement&&ot(c.parentElement,w)||c.nextSibling instanceof Element&&ot(c.nextSibling,w))&&(k=k.replace(/\s+$/,g.bind(g,!1)))}var s,o;return p.insert(k)}],[Node.TEXT_NODE,L],["br",function(c,p){return Y(p,"\n")||p.insert("\n"),p}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(c,p,w){const k=w.query(c);if(null==k)return p;if(k.prototype instanceof f.EmbedBlot){const g={},s=k.value(c);if(null!=s)return g[k.blotName]=s,(new(O())).insert(g,k.formats(c,w))}else if(k.prototype instanceof f.BlockBlot&&!Y(p,"\n")&&p.insert("\n"),"blotName"in k&&"formats"in k&&"function"==typeof k.formats)return J(p,k.blotName,k.formats(c,w),w);return p}],[Node.ELEMENT_NODE,function(c,p,w){const k=f.Attributor.keys(c),g=f.ClassAttributor.keys(c),s=f.StyleAttributor.keys(c),o={};return k.concat(g).concat(s).forEach(u=>{let N=w.query(u,f.Scope.ATTRIBUTE);null!=N&&(o[N.attrName]=N.value(c),o[N.attrName])||(N=nt[u],null==N||N.attrName!==u&&N.keyName!==u||(o[N.attrName]=N.value(c)||void 0),N=ht[u],null==N||N.attrName!==u&&N.keyName!==u||(N=ht[u],o[N.attrName]=N.value(c)||void 0))}),Object.entries(o).reduce((u,N)=>{let[S,U]=N;return J(u,S,U,w)},p)}],[Node.ELEMENT_NODE,function(c,p,w){const k={},g=c.style||{};return"italic"===g.fontStyle&&(k.italic=!0),"underline"===g.textDecoration&&(k.underline=!0),"line-through"===g.textDecoration&&(k.strike=!0),(g.fontWeight?.startsWith("bold")||parseInt(g.fontWeight,10)>=700)&&(k.bold=!0),p=Object.entries(k).reduce((s,o)=>{let[u,N]=o;return J(s,u,N,w)},p),parseFloat(g.textIndent||0)>0?(new(O())).insert("\t").concat(p):p}],["li",function(c,p,w){const k=w.query(c);if(null==k||"list"!==k.blotName||!Y(p,"\n"))return p;let g=-1,s=c.parentNode;for(;null!=s;)["OL","UL"].includes(s.tagName)&&(g+=1),s=s.parentNode;return g<=0?p:p.reduce((o,u)=>u.insert?u.attributes&&"number"==typeof u.attributes.indent?o.push(u):o.insert(u.insert,{indent:g,...u.attributes||{}}):o,new(O()))}],["ol, ul",function(c,p,w){let g="OL"===c.tagName?"ordered":"bullet";const s=c.getAttribute("data-checked");return s&&(g="true"===s?"checked":"unchecked"),J(p,"list",g,w)}],["pre",function(c,p,w){const k=w.query("code-block");return J(p,"code-block",!k||!("formats"in k)||"function"!=typeof k.formats||k.formats(c,w),w)}],["tr",function(c,p,w){const k="TABLE"===c.parentElement?.tagName?c.parentElement:c.parentElement?.parentElement;return null!=k?J(p,"table",Array.from(k.querySelectorAll("tr")).indexOf(c)+1,w):p}],["b",r("bold")],["i",r("italic")],["strike",r("strike")],["style",function(){return new(O())}]],nt=[l.gS,v.Mc].reduce((c,p)=>(c[p.keyName]=p,c),{}),ht=[l.Hu,E.s,d.JM,v.VL,_.z,B.r].reduce((c,p)=>(c[p.keyName]=p,c),{});class pt extends a.A{static DEFAULTS={matchers:[]};constructor(p,w){super(p,w),this.quill.root.addEventListener("copy",k=>this.onCaptureCopy(k,!1)),this.quill.root.addEventListener("cut",k=>this.onCaptureCopy(k,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],it.concat(this.options.matchers??[]).forEach(k=>{let[g,s]=k;this.addMatcher(g,s)})}addMatcher(p,w){this.matchers.push([p,w])}convert(p){let{html:w,text:k}=p,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g[T.Ay.blotName])return(new(O())).insert(k||"",{[T.Ay.blotName]:g[T.Ay.blotName]});if(!w)return(new(O())).insert(k||"",g);const s=this.convertHTML(w);return Y(s,"\n")&&(null==s.ops[s.ops.length-1].attributes||g.table)?s.compose((new(O())).retain(s.length()-1).delete(1)):s}normalizeHTML(p){var w;(w=p).documentElement&&M.forEach(k=>{k(w)})}convertHTML(p){const w=(new DOMParser).parseFromString(p,"text/html");this.normalizeHTML(w);const k=w.body,g=new WeakMap,[s,o]=this.prepareMatching(k,g);return n(this.quill.scroll,k,s,o,g)}dangerouslyPasteHTML(p,w){let k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Ay.sources.API;if("string"==typeof p){const g=this.convert({html:p,text:""});this.quill.setContents(g,w),this.quill.setSelection(0,q.Ay.sources.SILENT)}else{const g=this.convert({html:w,text:""});this.quill.updateContents((new(O())).retain(p).concat(g),k),this.quill.setSelection(p+g.length(),q.Ay.sources.SILENT)}}onCaptureCopy(p){let w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(p.defaultPrevented)return;p.preventDefault();const[k]=this.quill.selection.getRange();if(null==k)return;const{html:g,text:s}=this.onCopy(k,w);p.clipboardData?.setData("text/plain",s),p.clipboardData?.setData("text/html",g),w&&(0,z.Xo)({range:k,quill:this.quill})}normalizeURIList(p){return p.split(/\r?\n/).filter(w=>"#"!==w[0]).join("\n")}onCapturePaste(p){if(p.defaultPrevented||!this.quill.isEnabled())return;p.preventDefault();const w=this.quill.getSelection(!0);if(null==w)return;const k=p.clipboardData?.getData("text/html");let g=p.clipboardData?.getData("text/plain");if(!k&&!g){const o=p.clipboardData?.getData("text/uri-list");o&&(g=this.normalizeURIList(o))}const s=Array.from(p.clipboardData?.files||[]);if(!k&&s.length>0)this.quill.uploader.upload(w,s);else{if(k&&s.length>0){const o=(new DOMParser).parseFromString(k,"text/html");if(1===o.body.childElementCount&&"IMG"===o.body.firstElementChild?.tagName)return void this.quill.uploader.upload(w,s)}this.onPaste(w,{html:k,text:g})}}onCopy(p){const w=this.quill.getText(p);return{html:this.quill.getSemanticHTML(p),text:w}}onPaste(p,w){let{text:k,html:g}=w;const s=this.quill.getFormat(p.index),o=this.convert({text:k,html:g},s);G.log("onPaste",o,{text:k,html:g});const u=(new(O())).retain(p.index).delete(p.length).concat(o);this.quill.updateContents(u,q.Ay.sources.USER),this.quill.setSelection(u.length()-p.length,q.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(p,w){const k=[],g=[];return this.matchers.forEach(s=>{const[o,u]=s;switch(o){case Node.TEXT_NODE:g.push(u);break;case Node.ELEMENT_NODE:k.push(u);break;default:Array.from(p.querySelectorAll(o)).forEach(N=>{w.has(N)?w.get(N)?.push(u):w.set(N,[u])})}}),[k,g]}}function J(c,p,w,k){return k.query(p)?c.reduce((g,s)=>s.insert?s.attributes&&s.attributes[p]?g.push(s):g.insert(s.insert,{...w?{[p]:w}:{},...s.attributes}):g,new(O())):c}function Y(c,p){let w="";for(let k=c.ops.length-1;k>=0&&w.length<p.length;--k){const g=c.ops[k];if("string"!=typeof g.insert)break;w=g.insert+w}return w.slice(-1*p.length)===p}function ot(c,p){if(!(c instanceof Element))return!1;const w=p.query(c);return!(w&&w.prototype instanceof f.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(c.tagName.toLowerCase())}const y=new WeakMap;function t(c){return null!=c&&(y.has(c)||y.set(c,"PRE"===c.tagName||t(c.parentNode)),y.get(c))}function n(c,p,w,k,g){return p.nodeType===p.TEXT_NODE?k.reduce((s,o)=>o(p,s,c),new(O())):p.nodeType===p.ELEMENT_NODE?Array.from(p.childNodes||[]).reduce((s,o)=>{let u=n(c,o,w,k,g);return o.nodeType===p.ELEMENT_NODE&&(u=w.reduce((N,S)=>S(o,N,c),u),u=(g.get(o)||[]).reduce((N,S)=>S(o,N,c),u)),s.concat(u)},new(O())):new(O())}function r(c){return(p,w,k)=>J(w,c,!0,k)}function L(c,p,w){if(!Y(p,"\n")){if(ot(c,w)&&(c.childNodes.length>0||c instanceof HTMLParagraphElement))return p.insert("\n");if(p.length()>0&&c.nextSibling){let k=c.nextSibling;for(;null!=k;){if(ot(k,w))return p.insert("\n");const g=w.query(k);if(g&&g.prototype instanceof A.zo)return p.insert("\n");k=k.firstChild}}}return p}},8123:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return d},Xo:function(){return rt}});var f=e(5123),x=e(3707),O=e(5232),A=e.n(O),j=e(6003),a=e(6142),q=e(6078),l=e(4266);const E=(0,q.A)("quill:keyboard"),T=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class d extends l.A{static match(m,R){return!["altKey","ctrlKey","metaKey","shiftKey"].some(K=>!!R[K]!==m[K]&&null!==R[K])&&(R.key===m.key||R.key===m.which)}constructor(m,R){super(m,R),this.bindings={},Object.keys(this.options.bindings).forEach(K=>{this.options.bindings[K]&&this.addBinding(this.options.bindings[K])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(m){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const M=function(G){if("string"==typeof G||"number"==typeof G)G={key:G};else{if("object"!=typeof G)return null;G=(0,x.A)(G)}return G.shortKey&&(G[T]=G.shortKey,delete G.shortKey),G}(m);null!=M?("function"==typeof R&&(R={handler:R}),"function"==typeof K&&(K={handler:K}),(Array.isArray(M.key)?M.key:[M.key]).forEach(G=>{const it={...M,key:G,...R,...K};this.bindings[it.key]=this.bindings[it.key]||[],this.bindings[it.key].push(it)})):E.warn("Attempted to add invalid keyboard binding",M)}listen(){this.quill.root.addEventListener("keydown",m=>{if(m.defaultPrevented||m.isComposing||229===m.keyCode&&("Enter"===m.key||"Backspace"===m.key))return;const R=(this.bindings[m.key]||[]).concat(this.bindings[m.which]||[]).filter(t=>d.match(m,t));if(0===R.length)return;const K=a.Ay.find(m.target,!0);if(K&&K.scroll!==this.quill.scroll)return;const M=this.quill.getSelection();if(null==M||!this.quill.hasFocus())return;const[G,it]=this.quill.getLine(M.index),[nt,ht]=this.quill.getLeaf(M.index),[pt,J]=0===M.length?[nt,ht]:this.quill.getLeaf(M.index+M.length),Y=nt instanceof j.TextBlot?nt.value().slice(0,ht):"",ot=pt instanceof j.TextBlot?pt.value().slice(J):"",y={collapsed:0===M.length,empty:0===M.length&&G.length()<=1,format:this.quill.getFormat(M),line:G,offset:it,prefix:Y,suffix:ot,event:m};R.some(t=>{if(null!=t.collapsed&&t.collapsed!==y.collapsed||null!=t.empty&&t.empty!==y.empty||null!=t.offset&&t.offset!==y.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(n=>null==y.format[n]))return!1}else if("object"==typeof t.format&&!Object.keys(t.format).every(n=>!0===t.format[n]?null!=y.format[n]:!1===t.format[n]?null==y.format[n]:(0,f.A)(t.format[n],y.format[n])))return!1;return!(null!=t.prefix&&!t.prefix.test(y.prefix)||null!=t.suffix&&!t.suffix.test(y.suffix)||!0===t.handler.call(this,M,y,t))})&&m.preventDefault()})}handleBackspace(m,R){const K=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(R.prefix)?2:1;if(0===m.index||this.quill.getLength()<=1)return;let M={};const[G]=this.quill.getLine(m.index);let it=(new(A())).retain(m.index-K).delete(K);if(0===R.offset){const[nt]=this.quill.getLine(m.index-1);if(nt&&!("block"===nt.statics.blotName&&nt.length()<=1)){const ht=G.formats(),pt=this.quill.getFormat(m.index-1,1);if(M=O.AttributeMap.diff(ht,pt)||{},Object.keys(M).length>0){const J=(new(A())).retain(m.index+G.length()-2).retain(1,M);it=it.compose(J)}}}this.quill.updateContents(it,a.Ay.sources.USER),this.quill.focus()}handleDelete(m,R){const K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(R.suffix)?2:1;if(m.index>=this.quill.getLength()-K)return;let M={};const[G]=this.quill.getLine(m.index);let it=(new(A())).retain(m.index).delete(K);if(R.offset>=G.length()-1){const[nt]=this.quill.getLine(m.index+1);if(nt){const ht=G.formats(),pt=this.quill.getFormat(m.index,1);M=O.AttributeMap.diff(ht,pt)||{},Object.keys(M).length>0&&(it=it.retain(nt.length()-1).retain(1,M))}}this.quill.updateContents(it,a.Ay.sources.USER),this.quill.focus()}handleDeleteRange(m){rt({range:m,quill:this.quill}),this.quill.focus()}handleEnter(m,R){const K=Object.keys(R.format).reduce((G,it)=>(this.quill.scroll.query(it,j.Scope.BLOCK)&&!Array.isArray(R.format[it])&&(G[it]=R.format[it]),G),{}),M=(new(A())).retain(m.index).delete(m.length).insert("\n",K);this.quill.updateContents(M,a.Ay.sources.USER),this.quill.setSelection(m.index+1,a.Ay.sources.SILENT),this.quill.focus()}}const v={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(W,m){return!(!m.collapsed||0===m.offset)||(this.quill.format("indent","+1",a.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(W,m){return!(!m.collapsed||0===m.offset)||(this.quill.format("indent","-1",a.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(W,m){null!=m.format.indent?this.quill.format("indent","-1",a.Ay.sources.USER):null!=m.format.list&&this.quill.format("list",!1,a.Ay.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(W){this.quill.deleteText(W.index-1,1,a.Ay.sources.USER)}},tab:{key:"Tab",handler(W,m){if(m.format.table)return!0;this.quill.history.cutoff();const R=(new(A())).retain(W.index).delete(W.length).insert("\t");return this.quill.updateContents(R,a.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,a.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,a.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(W,m){const R={list:!1};m.format.indent&&(R.indent=!1),this.quill.formatLine(W.index,W.length,R,a.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(W){const[m,R]=this.quill.getLine(W.index),K={...m.formats(),list:"checked"},M=(new(A())).retain(W.index).insert("\n",K).retain(m.length()-R-1).retain(1,{list:"unchecked"});this.quill.updateContents(M,a.Ay.sources.USER),this.quill.setSelection(W.index+1,a.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(W,m){const[R,K]=this.quill.getLine(W.index),M=(new(A())).retain(W.index).insert("\n",m.format).retain(R.length()-K-1).retain(1,{header:null});this.quill.updateContents(M,a.Ay.sources.USER),this.quill.setSelection(W.index+1,a.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(W){const m=this.quill.getModule("table");if(m){const[R,K,M,G]=m.getTable(W),it=(J=M,null==(pt=K).prev&&null==pt.next?null==J.prev&&null==J.next?0===G?-1:1:null==J.prev?-1:1:null==pt.prev?-1:null==pt.next?1:null);if(null==it)return;let nt=R.offset();if(it<0){const ht=(new(A())).retain(nt).insert("\n");this.quill.updateContents(ht,a.Ay.sources.USER),this.quill.setSelection(W.index+1,W.length,a.Ay.sources.SILENT)}else if(it>0){nt+=R.length();const ht=(new(A())).retain(nt).insert("\n");this.quill.updateContents(ht,a.Ay.sources.USER),this.quill.setSelection(nt,a.Ay.sources.USER)}}var pt,J}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(W,m){const{event:R,line:K}=m,M=K.offset(this.quill.scroll);this.quill.setSelection(R.shiftKey?M-1:M+K.length(),a.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(W,m){if(null==this.quill.scroll.query("list"))return!0;const{length:R}=m.prefix,[K,M]=this.quill.getLine(W.index);if(M>R)return!0;let G;switch(m.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(W.index," ",a.Ay.sources.USER),this.quill.history.cutoff();const it=(new(A())).retain(W.index-M).delete(R+1).retain(K.length()-2-M).retain(1,{list:G});return this.quill.updateContents(it,a.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-R,a.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(W){const[m,R]=this.quill.getLine(W.index);let K=2,M=m;for(;null!=M&&M.length()<=1&&M.formats()["code-block"];)if(M=M.prev,K-=1,K<=0){const G=(new(A())).retain(W.index+m.length()-R-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(G,a.Ay.sources.USER),this.quill.setSelection(W.index-1,a.Ay.sources.SILENT),!1}return!0}},"embed left":B("ArrowLeft",!1),"embed left shift":B("ArrowLeft",!0),"embed right":B("ArrowRight",!1),"embed right shift":B("ArrowRight",!0),"table down":tt(!1),"table up":tt(!0)}};function _(W){return{key:"Tab",shiftKey:!W,format:{"code-block":!0},handler(m,R){let{event:K}=R;const M=this.quill.scroll.query("code-block"),{TAB:G}=M;if(0===m.length&&!K.shiftKey)return this.quill.insertText(m.index,G,a.Ay.sources.USER),void this.quill.setSelection(m.index+G.length,a.Ay.sources.SILENT);const it=0===m.length?this.quill.getLines(m.index,1):this.quill.getLines(m);let{index:nt,length:ht}=m;it.forEach((pt,J)=>{W?(pt.insertAt(0,G),0===J?nt+=G.length:ht+=G.length):pt.domNode.textContent.startsWith(G)&&(pt.deleteAt(0,G.length),0===J?nt-=G.length:ht-=G.length)}),this.quill.update(a.Ay.sources.USER),this.quill.setSelection(nt,ht,a.Ay.sources.SILENT)}}}function B(W,m){return{key:W,shiftKey:m,altKey:null,["ArrowLeft"===W?"prefix":"suffix"]:/^$/,handler(R){let{index:K}=R;"ArrowRight"===W&&(K+=R.length+1);const[M]=this.quill.getLeaf(K);return!(M instanceof j.EmbedBlot&&("ArrowLeft"===W?m?this.quill.setSelection(R.index-1,R.length+1,a.Ay.sources.USER):this.quill.setSelection(R.index-1,a.Ay.sources.USER):m?this.quill.setSelection(R.index,R.length+1,a.Ay.sources.USER):this.quill.setSelection(R.index+R.length+1,a.Ay.sources.USER),1))}}}function z(W){return{key:W[0],shortKey:!0,handler(m,R){this.quill.format(W,!R.format[W],a.Ay.sources.USER)}}}function tt(W){return{key:W?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(m,R){const K=W?"prev":"next",M=R.line,G=M.parent[K];if(null!=G){if("table-row"===G.statics.blotName){let it=G.children.head,nt=M;for(;null!=nt.prev;)nt=nt.prev,it=it.next;const ht=it.offset(this.quill.scroll)+Math.min(R.offset,it.length()-1);this.quill.setSelection(ht,0,a.Ay.sources.USER)}}else{const it=M.table()[K];null!=it&&this.quill.setSelection(W?it.offset(this.quill.scroll)+it.length()-1:it.offset(this.quill.scroll),0,a.Ay.sources.USER)}return!1}}}function rt(W){let{quill:m,range:R}=W;const K=m.getLines(R);let M={};if(K.length>1){const G=K[0].formats(),it=K[K.length-1].formats();M=O.AttributeMap.diff(it,G)||{}}m.deleteText(R,a.Ay.sources.USER),Object.keys(M).length>0&&m.formatLine(R.index,1,M,a.Ay.sources.USER),m.setSelection(R.index,a.Ay.sources.SILENT)}d.DEFAULTS=v},8920:function(Q){"use strict";var C=Object.prototype.hasOwnProperty,e="~";function f(){}function x(a,q,l){this.fn=a,this.context=q,this.once=l||!1}function O(a,q,l,E,T){if("function"!=typeof l)throw new TypeError("The listener must be a function");var d=new x(l,E||a,T),v=e?e+q:q;return a._events[v]?a._events[v].fn?a._events[v]=[a._events[v],d]:a._events[v].push(d):(a._events[v]=d,a._eventsCount++),a}function A(a,q){0==--a._eventsCount?a._events=new f:delete a._events[q]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),(new f).__proto__||(e=!1)),j.prototype.eventNames=function(){var a,q,l=[];if(0===this._eventsCount)return l;for(q in a=this._events)C.call(a,q)&&l.push(e?q.slice(1):q);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(a)):l},j.prototype.listeners=function(a){var l=this._events[e?e+a:a];if(!l)return[];if(l.fn)return[l.fn];for(var E=0,T=l.length,d=new Array(T);E<T;E++)d[E]=l[E].fn;return d},j.prototype.listenerCount=function(a){var l=this._events[e?e+a:a];return l?l.fn?1:l.length:0},j.prototype.emit=function(a,q,l,E,T,d){var v=e?e+a:a;if(!this._events[v])return!1;var _,B,z=this._events[v],tt=arguments.length;if(z.fn){switch(z.once&&this.removeListener(a,z.fn,void 0,!0),tt){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,q),!0;case 3:return z.fn.call(z.context,q,l),!0;case 4:return z.fn.call(z.context,q,l,E),!0;case 5:return z.fn.call(z.context,q,l,E,T),!0;case 6:return z.fn.call(z.context,q,l,E,T,d),!0}for(B=1,_=new Array(tt-1);B<tt;B++)_[B-1]=arguments[B];z.fn.apply(z.context,_)}else{var rt,W=z.length;for(B=0;B<W;B++)switch(z[B].once&&this.removeListener(a,z[B].fn,void 0,!0),tt){case 1:z[B].fn.call(z[B].context);break;case 2:z[B].fn.call(z[B].context,q);break;case 3:z[B].fn.call(z[B].context,q,l);break;case 4:z[B].fn.call(z[B].context,q,l,E);break;default:if(!_)for(rt=1,_=new Array(tt-1);rt<tt;rt++)_[rt-1]=arguments[rt];z[B].fn.apply(z[B].context,_)}}return!0},j.prototype.on=function(a,q,l){return O(this,a,q,l,!1)},j.prototype.once=function(a,q,l){return O(this,a,q,l,!0)},j.prototype.removeListener=function(a,q,l,E){var T=e?e+a:a;if(!this._events[T])return this;if(!q)return A(this,T),this;var d=this._events[T];if(d.fn)d.fn!==q||E&&!d.once||l&&d.context!==l||A(this,T);else{for(var v=0,_=[],B=d.length;v<B;v++)(d[v].fn!==q||E&&!d[v].once||l&&d[v].context!==l)&&_.push(d[v]);_.length?this._events[T]=1===_.length?_[0]:_:A(this,T)}return this},j.prototype.removeAllListeners=function(a){var q;return a?this._events[q=e?e+a:a]&&A(this,q):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,Q.exports=j},5090:function(Q){var C=-1;function x(m,R,K,M,G){if(m===R)return m?[[0,m]]:[];if(null!=K){var it=function(Y,ot,y){var t="number"==typeof y?{index:y,length:0}:y.oldRange,n="number"==typeof y?null:y.newRange,r=Y.length,L=ot.length;if(0===t.length&&(null===n||0===n.length)){var c=t.index,p=Y.slice(0,c),w=Y.slice(c),k=n?n.index:null,g=c+L-r;if((null===k||k===g)&&!(g<0||g>L)){var s=ot.slice(0,g);if((N=ot.slice(g))===w){var o=Math.min(c,g);if((U=p.slice(0,o))===(V=s.slice(0,o)))return rt(U,p.slice(o),s.slice(o),w)}}if(null===k||k===c){var u=c,N=(s=ot.slice(0,u),ot.slice(u));if(s===p){var S=Math.min(r-u,L-u);if(($=w.slice(w.length-S))===(Z=N.slice(N.length-S)))return rt(p,w.slice(0,w.length-S),N.slice(0,N.length-S),$)}}}if(t.length>0&&n&&0===n.length){var U=Y.slice(0,t.index),$=Y.slice(t.index+t.length);if(!(L<(o=U.length)+(S=$.length))){var V=ot.slice(0,o),Z=ot.slice(L-S);if(U===V&&$===Z)return rt(U,Y.slice(o,r-S),ot.slice(o,L-S),$)}}return null}(m,R,K);if(it)return it}var nt=A(m,R),ht=m.substring(0,nt);nt=a(m=m.substring(nt),R=R.substring(nt));var pt=m.substring(m.length-nt),J=function(Y,ot){var y;if(!Y)return[[1,ot]];if(!ot)return[[C,Y]];var t=Y.length>ot.length?Y:ot,n=Y.length>ot.length?ot:Y,r=t.indexOf(n);if(-1!==r)return y=[[1,t.substring(0,r)],[0,n],[1,t.substring(r+n.length)]],Y.length>ot.length&&(y[0][0]=y[2][0]=C),y;if(1===n.length)return[[C,Y],[1,ot]];var L=function(u,N){var S=u.length>N.length?u:N,U=u.length>N.length?N:u;if(S.length<4||2*U.length<S.length)return null;function $(ft,wt,Tt){for(var Lt,ut,bt,xt,St=ft.substring(Tt,Tt+Math.floor(ft.length/4)),Nt=-1,jt="";-1!==(Nt=wt.indexOf(St,Nt+1));){var Mt=A(ft.substring(Tt),wt.substring(Nt)),Pt=a(ft.substring(0,Tt),wt.substring(0,Nt));jt.length<Pt+Mt&&(jt=wt.substring(Nt-Pt,Nt)+wt.substring(Nt,Nt+Mt),Lt=ft.substring(0,Tt-Pt),ut=ft.substring(Tt+Mt),bt=wt.substring(0,Nt-Pt),xt=wt.substring(Nt+Mt))}return 2*jt.length>=ft.length?[Lt,ut,bt,xt,jt]:null}var V,Z,et,at,lt,mt=$(S,U,Math.ceil(S.length/4)),dt=$(S,U,Math.ceil(S.length/2));return mt||dt?(V=dt?mt&&mt[4].length>dt[4].length?mt:dt:mt,u.length>N.length?(Z=V[0],et=V[1],at=V[2],lt=V[3]):(at=V[0],lt=V[1],Z=V[2],et=V[3]),[Z,et,at,lt,V[4]]):null}(Y,ot);if(L){var p=L[1],k=L[3],g=L[4],s=x(L[0],L[2]),o=x(p,k);return s.concat([[0,g]],o)}return function(u,N){for(var S=u.length,U=N.length,$=Math.ceil((S+U)/2),V=$,Z=2*$,et=new Array(Z),at=new Array(Z),lt=0;lt<Z;lt++)et[lt]=-1,at[lt]=-1;et[V+1]=0,at[V+1]=0;for(var mt=S-U,dt=mt%2!=0,ft=0,wt=0,Tt=0,Lt=0,ut=0;ut<$;ut++){for(var bt=-ut+ft;bt<=ut-wt;bt+=2){for(var xt=V+bt,St=(_t=bt===-ut||bt!==ut&&et[xt-1]<et[xt+1]?et[xt+1]:et[xt-1]+1)-bt;_t<S&&St<U&&u.charAt(_t)===N.charAt(St);)_t++,St++;if(et[xt]=_t,_t>S)wt+=2;else if(St>U)ft+=2;else if(dt&&(Mt=V+mt-bt)>=0&&Mt<Z&&-1!==at[Mt]&&_t>=(jt=S-at[Mt]))return O(u,N,_t,St)}for(var Nt=-ut+Tt;Nt<=ut-Lt;Nt+=2){for(var jt,Mt=V+Nt,Pt=(jt=Nt===-ut||Nt!==ut&&at[Mt-1]<at[Mt+1]?at[Mt+1]:at[Mt-1]+1)-Nt;jt<S&&Pt<U&&u.charAt(S-jt-1)===N.charAt(U-Pt-1);)jt++,Pt++;if(at[Mt]=jt,jt>S)Lt+=2;else if(Pt>U)Tt+=2;else if(!dt){var _t;if((xt=V+mt-Nt)>=0&&xt<Z&&-1!==et[xt]&&(St=V+(_t=et[xt])-xt,_t>=(jt=S-jt)))return O(u,N,_t,St)}}}return[[C,u],[1,N]]}(Y,ot)}(m=m.substring(0,m.length-nt),R=R.substring(0,R.length-nt));return ht&&J.unshift([0,ht]),pt&&J.push([0,pt]),v(J,G),M&&function(Y){for(var ot=!1,y=[],t=0,n=null,r=0,L=0,c=0,p=0,w=0;r<Y.length;)0==Y[r][0]?(y[t++]=r,L=p,c=w,p=0,w=0,n=Y[r][1]):(1==Y[r][0]?p+=Y[r][1].length:w+=Y[r][1].length,n&&n.length<=Math.max(L,c)&&n.length<=Math.max(p,w)&&(Y.splice(y[t-1],0,[C,n]),Y[y[t-1]+1][0]=1,t--,r=--t>0?y[t-1]:-1,L=0,c=0,p=0,w=0,n=null,ot=!0)),r++;for(ot&&v(Y),function(u){function N(wt,Tt){if(!wt||!Tt)return 6;var Lt=wt.charAt(wt.length-1),ut=Tt.charAt(0),bt=Lt.match(q),xt=ut.match(q),St=bt&&Lt.match(l),Nt=xt&&ut.match(l),jt=St&&Lt.match(E),Mt=Nt&&ut.match(E),Pt=jt&&wt.match(T),_t=Mt&&Tt.match(d);return Pt||_t?5:jt||Mt?4:bt&&!St&&Nt?3:St||Nt?2:bt||xt?1:0}for(var S=1;S<u.length-1;){if(0==u[S-1][0]&&0==u[S+1][0]){var U=u[S-1][1],$=u[S][1],V=u[S+1][1],Z=a(U,$);if(Z){var et=$.substring($.length-Z);U=U.substring(0,U.length-Z),$=et+$.substring(0,$.length-Z),V=et+V}for(var at=U,lt=$,mt=V,dt=N(U,$)+N($,V);$.charAt(0)===V.charAt(0);){U+=$.charAt(0),$=$.substring(1)+V.charAt(0),V=V.substring(1);var ft=N(U,$)+N($,V);ft>=dt&&(dt=ft,at=U,lt=$,mt=V)}u[S-1][1]!=at&&(at?u[S-1][1]=at:(u.splice(S-1,1),S--),u[S][1]=lt,mt?u[S+1][1]=mt:(u.splice(S+1,1),S--))}S++}}(Y),r=1;r<Y.length;){if(Y[r-1][0]==C&&1==Y[r][0]){var k=Y[r-1][1],g=Y[r][1],s=j(k,g),o=j(g,k);s>=o?(s>=k.length/2||s>=g.length/2)&&(Y.splice(r,0,[0,g.substring(0,s)]),Y[r-1][1]=k.substring(0,k.length-s),Y[r+1][1]=g.substring(s),r++):(o>=k.length/2||o>=g.length/2)&&(Y.splice(r,0,[0,k.substring(0,o)]),Y[r-1][0]=1,Y[r-1][1]=g.substring(0,g.length-o),Y[r+1][0]=C,Y[r+1][1]=k.substring(o),r++),r++}r++}}(J),J}function O(m,R,K,M){var G=m.substring(0,K),it=R.substring(0,M),nt=m.substring(K),ht=R.substring(M),pt=x(G,it),J=x(nt,ht);return pt.concat(J)}function A(m,R){if(!m||!R||m.charAt(0)!==R.charAt(0))return 0;for(var K=0,M=Math.min(m.length,R.length),G=M,it=0;K<G;)m.substring(it,G)==R.substring(it,G)?it=K=G:M=G,G=Math.floor((M-K)/2+K);return _(m.charCodeAt(G-1))&&G--,G}function j(m,R){var K=m.length,M=R.length;if(0==K||0==M)return 0;K>M?m=m.substring(K-M):K<M&&(R=R.substring(0,K));var G=Math.min(K,M);if(m==R)return G;for(var it=0,nt=1;;){var ht=m.substring(G-nt),pt=R.indexOf(ht);if(-1==pt)return it;nt+=pt,0!=pt&&m.substring(G-nt)!=R.substring(0,nt)||(it=nt,nt++)}}function a(m,R){if(!m||!R||m.slice(-1)!==R.slice(-1))return 0;for(var K=0,M=Math.min(m.length,R.length),G=M,it=0;K<G;)m.substring(m.length-G,m.length-it)==R.substring(R.length-G,R.length-it)?it=K=G:M=G,G=Math.floor((M-K)/2+K);return B(m.charCodeAt(m.length-G))&&G--,G}var q=/[^a-zA-Z0-9]/,l=/\s/,E=/[\r\n]/,T=/\n\r?\n$/,d=/^\r?\n\r?\n/;function v(m,R){m.push([0,""]);for(var K,M=0,G=0,it=0,nt="",ht="";M<m.length;)if(M<m.length-1&&!m[M][1])m.splice(M,1);else switch(m[M][0]){case 1:it++,ht+=m[M][1],M++;break;case C:G++,nt+=m[M][1],M++;break;case 0:var pt=M-it-G-1;if(R){if(pt>=0&&tt(m[pt][1])){var J=m[pt][1].slice(-1);if(m[pt][1]=m[pt][1].slice(0,-1),nt=J+nt,ht=J+ht,!m[pt][1]){m.splice(pt,1),M--;var Y=pt-1;m[Y]&&1===m[Y][0]&&(it++,ht=m[Y][1]+ht,Y--),m[Y]&&m[Y][0]===C&&(G++,nt=m[Y][1]+nt,Y--),pt=Y}}z(m[M][1])&&(J=m[M][1].charAt(0),m[M][1]=m[M][1].slice(1),nt+=J,ht+=J)}if(M<m.length-1&&!m[M][1]){m.splice(M,1);break}if(nt.length>0||ht.length>0){nt.length>0&&ht.length>0&&(0!==(K=A(ht,nt))&&(pt>=0?m[pt][1]+=ht.substring(0,K):(m.splice(0,0,[0,ht.substring(0,K)]),M++),ht=ht.substring(K),nt=nt.substring(K)),0!==(K=a(ht,nt))&&(m[M][1]=ht.substring(ht.length-K)+m[M][1],ht=ht.substring(0,ht.length-K),nt=nt.substring(0,nt.length-K)));var ot=it+G;0===nt.length&&0===ht.length?(m.splice(M-ot,ot),M-=ot):0===nt.length?(m.splice(M-ot,ot,[1,ht]),M=M-ot+1):0===ht.length?(m.splice(M-ot,ot,[C,nt]),M=M-ot+1):(m.splice(M-ot,ot,[C,nt],[1,ht]),M=M-ot+2)}0!==M&&0===m[M-1][0]?(m[M-1][1]+=m[M][1],m.splice(M,1)):M++,it=0,G=0,nt="",ht=""}""===m[m.length-1][1]&&m.pop();var y=!1;for(M=1;M<m.length-1;)0===m[M-1][0]&&0===m[M+1][0]&&(m[M][1].substring(m[M][1].length-m[M-1][1].length)===m[M-1][1]?(m[M][1]=m[M-1][1]+m[M][1].substring(0,m[M][1].length-m[M-1][1].length),m[M+1][1]=m[M-1][1]+m[M+1][1],m.splice(M-1,1),y=!0):m[M][1].substring(0,m[M+1][1].length)==m[M+1][1]&&(m[M-1][1]+=m[M+1][1],m[M][1]=m[M][1].substring(m[M+1][1].length)+m[M+1][1],m.splice(M+1,1),y=!0)),M++;y&&v(m,R)}function _(m){return m>=55296&&m<=56319}function B(m){return m>=56320&&m<=57343}function z(m){return B(m.charCodeAt(0))}function tt(m){return _(m.charCodeAt(m.length-1))}function rt(m,R,K,M){return tt(m)||z(M)?null:function(G){for(var it=[],nt=0;nt<G.length;nt++)G[nt][1].length>0&&it.push(G[nt]);return it}([[0,m],[C,R],[1,K],[0,M]])}function W(m,R,K,M){return x(m,R,K,M,!0)}W.INSERT=1,W.DELETE=C,W.EQUAL=0,Q.exports=W},9629:function(Q,C,e){Q=e.nmd(Q);var f="__lodash_hash_undefined__",x=9007199254740991,O="[object Arguments]",A="[object Boolean]",j="[object Date]",a="[object Function]",q="[object GeneratorFunction]",l="[object Map]",E="[object Number]",T="[object Object]",d="[object Promise]",v="[object RegExp]",_="[object Set]",B="[object String]",z="[object Symbol]",tt="[object WeakMap]",rt="[object ArrayBuffer]",W="[object DataView]",m="[object Float32Array]",R="[object Float64Array]",K="[object Int8Array]",M="[object Int16Array]",G="[object Int32Array]",it="[object Uint8Array]",nt="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",J=/\w*$/,Y=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,y={};y[O]=y["[object Array]"]=y[rt]=y[W]=y[A]=y[j]=y[m]=y[R]=y[K]=y[M]=y[G]=y[l]=y[E]=y[T]=y[v]=y[_]=y[B]=y[z]=y[it]=y[nt]=y[ht]=y[pt]=!0,y["[object Error]"]=y[a]=y[tt]=!1;var n="object"==typeof self&&self&&self.Object===Object&&self,r="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g||n||Function("return this")(),L=C&&!C.nodeType&&C,c=L&&Q&&!Q.nodeType&&Q,p=c&&c.exports===L;function w(P,b){return P.set(b[0],b[1]),P}function k(P,b){return P.add(b),P}function g(P,b,I,F){var ct=-1,kt=P?P.length:0;for(F&&kt&&(I=P[++ct]);++ct<kt;)I=b(I,P[ct],ct,P);return I}function s(P){var b=!1;if(null!=P&&"function"!=typeof P.toString)try{b=!!(P+"")}catch{}return b}function o(P){var b=-1,I=Array(P.size);return P.forEach(function(F,ct){I[++b]=[ct,F]}),I}function u(P,b){return function(I){return P(b(I))}}function N(P){var b=-1,I=Array(P.size);return P.forEach(function(F){I[++b]=F}),I}var S,U=Array.prototype,$=Function.prototype,V=Object.prototype,Z=r["__core-js_shared__"],et=(S=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",at=$.toString,lt=V.hasOwnProperty,mt=V.toString,dt=RegExp("^"+at.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=p?r.Buffer:void 0,wt=r.Symbol,Tt=r.Uint8Array,Lt=u(Object.getPrototypeOf,Object),ut=Object.create,bt=V.propertyIsEnumerable,xt=U.splice,St=Object.getOwnPropertySymbols,Nt=ft?ft.isBuffer:void 0,jt=u(Object.keys,Object),Mt=h(r,"DataView"),Pt=h(r,"Map"),_t=h(r,"Promise"),pe=h(r,"Set"),xe=h(r,"WeakMap"),he=h(Object,"create"),Le=Et(Mt),Se=Et(Pt),qe=Et(_t),oe=Et(pe),ne=Et(xe),Wt=wt?wt.prototype:void 0,te=Wt?Wt.valueOf:void 0;function Qt(P){var b=-1,I=P?P.length:0;for(this.clear();++b<I;){var F=P[b];this.set(F[0],F[1])}}function Vt(P){var b=-1,I=P?P.length:0;for(this.clear();++b<I;){var F=P[b];this.set(F[0],F[1])}}function Yt(P){var b=-1,I=P?P.length:0;for(this.clear();++b<I;){var F=P[b];this.set(F[0],F[1])}}function Jt(P){this.__data__=new Vt(P)}function Ne(P,b,I){var F=P[b];lt.call(P,b)&&zt(F,I)&&(void 0!==I||b in P)||(P[b]=I)}function ae(P,b){for(var I=P.length;I--;)if(zt(P[I][0],b))return I;return-1}function ge(P,b,I,F,ct,kt,yt){var At;if(F&&(At=kt?F(P,ct,kt,yt):F(P)),void 0!==At)return At;if(!se(P))return P;var vt,qt,Ct,Ut=Zt(P);if(Ut){if(Ct=(vt=P).constructor(qt=vt.length),qt&&"string"==typeof vt[0]&&lt.call(vt,"index")&&(Ct.index=vt.index,Ct.input=vt.input),At=Ct,!b)return function(vt,qt){var Ct=-1,$t=vt.length;for(qt||(qt=Array($t));++Ct<$t;)qt[Ct]=vt[Ct];return qt}(P,At)}else{var Bt=X(P),Kt=Bt==a||Bt==q;if(ee(P))return function(vt,qt){if(qt)return vt.slice();var Ct=new vt.constructor(vt.length);return vt.copy(Ct),Ct}(P,b);if(Bt==T||Bt==O||Kt&&!kt){if(s(P))return kt?P:{};if(At=function(vt){return"function"!=typeof vt.constructor||gt(vt)?{}:se(qt=Lt(vt))?ut(qt):{};var qt}(Kt?{}:P),!b)return function(vt,qt){return H(vt,D(vt),qt)}(P,function(vt,qt){return vt&&H(qt,ce(qt),vt)}(At,P))}else{if(!y[Bt])return kt?P:{};At=function(vt,qt,Ct,$t){var Rt,le,re=vt.constructor;switch(qt){case rt:return me(vt);case A:case j:return new re(+vt);case W:return Rt=vt,le=$t?me(Rt.buffer):Rt.buffer,new Rt.constructor(le,Rt.byteOffset,Rt.byteLength);case m:case R:case K:case M:case G:case it:case nt:case ht:case pt:return function(Rt,Gt){var le=Gt?me(Rt.buffer):Rt.buffer;return new Rt.constructor(le,Rt.byteOffset,Rt.length)}(vt,$t);case l:return function(Rt,Gt,le){return g(Gt?le(o(Rt),!0):o(Rt),w,new Rt.constructor)}(vt,$t,Ct);case E:case B:return new re(vt);case v:return function(Rt){var Gt=new Rt.constructor(Rt.source,J.exec(Rt));return Gt.lastIndex=Rt.lastIndex,Gt}(vt);case _:return function(Rt,Gt,le){return g(Gt?le(N(Rt),!0):N(Rt),k,new Rt.constructor)}(vt,$t,Ct);case z:return te?Object(te.call(vt)):{}}}(P,Bt,ge,b)}}yt||(yt=new Jt);var Ft=yt.get(P);if(Ft)return Ft;if(yt.set(P,At),!Ut)var Ht=I?function(vt){return function(qt,Ct,$t){var ue=Ct(qt);return Zt(qt)?ue:function(re,Rt){for(var Gt=-1,le=Rt.length,Me=re.length;++Gt<le;)re[Me+Gt]=Rt[Gt];return re}(ue,$t(qt))}(vt,ce,D)}(P):ce(P);return function(vt,qt){for(var Ct=-1,$t=vt?vt.length:0;++Ct<$t&&!1!==qt(vt[Ct],Ct););}(Ht||P,function(vt,qt){Ht&&(vt=P[qt=vt]),Ne(At,qt,ge(vt,b,I,F,qt,P,yt))}),At}function me(P){var b=new P.constructor(P.byteLength);return new Tt(b).set(new Tt(P)),b}function H(P,b,I,F){I||(I={});for(var ct=-1,kt=b.length;++ct<kt;){var yt=b[ct],At=F?F(I[yt],P[yt],yt,I,P):void 0;Ne(I,yt,void 0===At?P[yt]:At)}return I}function i(P,b){var I,F,ct=P.__data__;return("string"==(F=typeof(I=b))||"number"==F||"symbol"==F||"boolean"==F?"__proto__"!==I:null===I)?ct["string"==typeof b?"string":"hash"]:ct.map}function h(P,b){var F,ct,I=(F=P,ct=b,F?.[ct]);return function(F){return!(!se(F)||(ct=F,et&&et in ct))&&(Ee(F)||s(F)?dt:Y).test(Et(F));var ct}(I)?I:void 0}Qt.prototype.clear=function(){this.__data__=he?he(null):{}},Qt.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},Qt.prototype.get=function(P){var b=this.__data__;if(he){var I=b[P];return I===f?void 0:I}return lt.call(b,P)?b[P]:void 0},Qt.prototype.has=function(P){var b=this.__data__;return he?void 0!==b[P]:lt.call(b,P)},Qt.prototype.set=function(P,b){return this.__data__[P]=he&&void 0===b?f:b,this},Vt.prototype.clear=function(){this.__data__=[]},Vt.prototype.delete=function(P){var b=this.__data__,I=ae(b,P);return!(I<0||(I==b.length-1?b.pop():xt.call(b,I,1),0))},Vt.prototype.get=function(P){var b=this.__data__,I=ae(b,P);return I<0?void 0:b[I][1]},Vt.prototype.has=function(P){return ae(this.__data__,P)>-1},Vt.prototype.set=function(P,b){var I=this.__data__,F=ae(I,P);return F<0?I.push([P,b]):I[F][1]=b,this},Yt.prototype.clear=function(){this.__data__={hash:new Qt,map:new(Pt||Vt),string:new Qt}},Yt.prototype.delete=function(P){return i(this,P).delete(P)},Yt.prototype.get=function(P){return i(this,P).get(P)},Yt.prototype.has=function(P){return i(this,P).has(P)},Yt.prototype.set=function(P,b){return i(this,P).set(P,b),this},Jt.prototype.clear=function(){this.__data__=new Vt},Jt.prototype.delete=function(P){return this.__data__.delete(P)},Jt.prototype.get=function(P){return this.__data__.get(P)},Jt.prototype.has=function(P){return this.__data__.has(P)},Jt.prototype.set=function(P,b){var I=this.__data__;if(I instanceof Vt){var F=I.__data__;if(!Pt||F.length<199)return F.push([P,b]),this;I=this.__data__=new Yt(F)}return I.set(P,b),this};var D=St?u(St,Object):function(){return[]},X=function(P){return mt.call(P)};function st(P,b){return!!(b=b??x)&&("number"==typeof P||ot.test(P))&&P>-1&&P%1==0&&P<b}function gt(P){var b=P&&P.constructor;return P===("function"==typeof b&&b.prototype||V)}function Et(P){if(null!=P){try{return at.call(P)}catch{}try{return P+""}catch{}}return""}function zt(P,b){return P===b||P!=P&&b!=b}(Mt&&X(new Mt(new ArrayBuffer(1)))!=W||Pt&&X(new Pt)!=l||_t&&X(_t.resolve())!=d||pe&&X(new pe)!=_||xe&&X(new xe)!=tt)&&(X=function(P){var b=mt.call(P),I=b==T?P.constructor:void 0,F=I?Et(I):void 0;if(F)switch(F){case Le:return W;case Se:return l;case qe:return d;case oe:return _;case ne:return tt}return b});var Zt=Array.isArray;function Xt(P){return null!=P&&"number"==typeof(b=P.length)&&b>-1&&b%1==0&&b<=x&&!Ee(P);var b}var ee=Nt||function(){return!1};function Ee(P){var b=se(P)?mt.call(P):"";return b==a||b==q}function se(P){var b=typeof P;return!!P&&("object"==b||"function"==b)}function ce(P){return Xt(P)?function(b){var At,Ut,F=Zt(b)||function(Bt){return!!Bt&&"object"==typeof Bt}(Ut=At=b)&&Xt(Ut)&&lt.call(At,"callee")&&(!bt.call(At,"callee")||mt.call(At)==O)?function(At,Ut){for(var Bt=-1,Kt=Array(At);++Bt<At;)Kt[Bt]=Ut(Bt);return Kt}(b.length,String):[],ct=F.length,kt=!!ct;for(var yt in b)!lt.call(b,yt)||kt&&("length"==yt||st(yt,ct))||F.push(yt);return F}(P):function(b){if(!gt(b))return jt(b);var I=[];for(var F in Object(b))lt.call(b,F)&&"constructor"!=F&&I.push(F);return I}(P)}Q.exports=function(P){return ge(P,!0,!0)}},4162:function(Q,C,e){Q=e.nmd(Q);var f="__lodash_hash_undefined__",A=9007199254740991,j="[object Arguments]",a="[object Array]",l="[object Boolean]",E="[object Date]",T="[object Error]",d="[object Function]",_="[object Map]",B="[object Number]",tt="[object Object]",rt="[object Promise]",m="[object RegExp]",R="[object Set]",K="[object String]",G="[object WeakMap]",it="[object ArrayBuffer]",nt="[object DataView]",ht=/^\[object .+?Constructor\]$/,pt=/^(?:0|[1-9]\d*)$/,J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J[j]=J[a]=J[it]=J[l]=J[nt]=J[E]=J[T]=J[d]=J[_]=J[B]=J[tt]=J[m]=J[R]=J[K]=J[G]=!1;var Y="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g,ot="object"==typeof self&&self&&self.Object===Object&&self,y=Y||ot||Function("return this")(),t=C&&!C.nodeType&&C,n=t&&Q&&!Q.nodeType&&Q,r=n&&n.exports===t,L=r&&Y.process,c=function(){try{return L&&L.binding&&L.binding("util")}catch{}}(),p=c&&c.isTypedArray;function w(b,I){for(var F=-1,ct=null==b?0:b.length;++F<ct;)if(I(b[F],F,b))return!0;return!1}function k(b){var I=-1,F=Array(b.size);return b.forEach(function(ct,kt){F[++I]=[kt,ct]}),F}function g(b){var I=-1,F=Array(b.size);return b.forEach(function(ct){F[++I]=ct}),F}var s,o,u,N=Array.prototype,U=Object.prototype,$=y["__core-js_shared__"],V=Function.prototype.toString,Z=U.hasOwnProperty,et=(s=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",at=U.toString,lt=RegExp("^"+V.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=r?y.Buffer:void 0,dt=y.Symbol,ft=y.Uint8Array,wt=U.propertyIsEnumerable,Tt=N.splice,Lt=dt?dt.toStringTag:void 0,ut=Object.getOwnPropertySymbols,bt=mt?mt.isBuffer:void 0,xt=(o=Object.keys,u=Object,function(b){return o(u(b))}),St=i(y,"DataView"),Nt=i(y,"Map"),jt=i(y,"Promise"),Mt=i(y,"Set"),Pt=i(y,"WeakMap"),_t=i(Object,"create"),pe=st(St),xe=st(Nt),he=st(jt),Le=st(Mt),Se=st(Pt),qe=dt?dt.prototype:void 0,oe=qe?qe.valueOf:void 0;function ne(b){var I=-1,F=null==b?0:b.length;for(this.clear();++I<F;){var ct=b[I];this.set(ct[0],ct[1])}}function Wt(b){var I=-1,F=null==b?0:b.length;for(this.clear();++I<F;){var ct=b[I];this.set(ct[0],ct[1])}}function te(b){var I=-1,F=null==b?0:b.length;for(this.clear();++I<F;){var ct=b[I];this.set(ct[0],ct[1])}}function Qt(b){var I=-1,F=null==b?0:b.length;for(this.__data__=new te;++I<F;)this.add(b[I])}function Vt(b){var I=this.__data__=new Wt(b);this.size=I.size}function Yt(b,I){for(var F=b.length;F--;)if(gt(b[F][0],I))return F;return-1}function Jt(b){return null==b?void 0===b?"[object Undefined]":"[object Null]":Lt&&Lt in Object(b)?function(I){var F=Z.call(I,Lt),ct=I[Lt];try{I[Lt]=void 0;var kt=!0}catch{}var yt=at.call(I);return kt&&(F?I[Lt]=ct:delete I[Lt]),yt}(b):at.call(b)}function Ne(b){return se(b)&&Jt(b)==j}function ae(b,I,F,ct,kt){return b===I||(null==b||null==I||!se(b)&&!se(I)?b!=b&&I!=I:function(yt,At,Ut,Bt,Kt,Ft){var Ht=zt(yt),vt=zt(At),qt=Ht?a:D(yt),Ct=vt?a:D(At),$t=(qt=qt==j?tt:qt)==tt,ue=(Ct=Ct==j?tt:Ct)==tt,re=qt==Ct;if(re&&Zt(yt)){if(!Zt(At))return!1;Ht=!0,$t=!1}if(re&&!$t)return Ft||(Ft=new Vt),Ht||ce(yt)?ge(yt,At,Ut,Bt,Kt,Ft):function(Dt,It,_e,be,Ue,ie,de){switch(_e){case nt:if(Dt.byteLength!=It.byteLength||Dt.byteOffset!=It.byteOffset)return!1;Dt=Dt.buffer,It=It.buffer;case it:return!(Dt.byteLength!=It.byteLength||!ie(new ft(Dt),new ft(It)));case l:case E:case B:return gt(+Dt,+It);case T:return Dt.name==It.name&&Dt.message==It.message;case m:case K:return Dt==It+"";case _:var ye=k;case R:if(ye||(ye=g),Dt.size!=It.size&&!(1&be))return!1;var we=de.get(Dt);if(we)return we==It;be|=2,de.set(Dt,It);var fe=ge(ye(Dt),ye(It),be,Ue,ie,de);return de.delete(Dt),fe;case"[object Symbol]":if(oe)return oe.call(Dt)==oe.call(It)}return!1}(yt,At,qt,Ut,Bt,Kt,Ft);if(!(1&Ut)){var Rt=$t&&Z.call(yt,"__wrapped__"),Gt=ue&&Z.call(At,"__wrapped__");if(Rt||Gt){var le=Rt?yt.value():yt,Me=Gt?At.value():At;return Ft||(Ft=new Vt),Kt(le,Me,Ut,Bt,Ft)}}return!!re&&(Ft||(Ft=new Vt),function(Dt,It,_e,be,Ue,ie){var de=1&_e,ye=me(Dt),Oe=ye.length;if(Oe!=me(It).length&&!de)return!1;for(var we=Oe;we--;){var fe=ye[we];if(!(de?fe in It:Z.call(It,fe)))return!1}var He=ie.get(Dt);if(He&&ie.get(It))return He==It;var Te=!0;ie.set(Dt,It),ie.set(It,Dt);for(var De=de;++we<Oe;){var je=Dt[fe=ye[we]],Ce=It[fe];if(be)var $e=de?be(Ce,je,fe,It,Dt,ie):be(je,Ce,fe,Dt,It,ie);if(!(void 0===$e?je===Ce||Ue(je,Ce,_e,be,ie):$e)){Te=!1;break}De||(De="constructor"==fe)}if(Te&&!De){var Re=Dt.constructor,Be=It.constructor;Re==Be||!("constructor"in Dt)||!("constructor"in It)||"function"==typeof Re&&Re instanceof Re&&"function"==typeof Be&&Be instanceof Be||(Te=!1)}return ie.delete(Dt),ie.delete(It),Te}(yt,At,Ut,Bt,Kt,Ft))}(b,I,F,ct,ae,kt))}function ge(b,I,F,ct,kt,yt){var At=1&F,Ut=b.length,Bt=I.length;if(Ut!=Bt&&!(At&&Bt>Ut))return!1;var Kt=yt.get(b);if(Kt&&yt.get(I))return Kt==I;var Ft=-1,Ht=!0,vt=2&F?new Qt:void 0;for(yt.set(b,I),yt.set(I,b);++Ft<Ut;){var qt=b[Ft],Ct=I[Ft];if(ct)var $t=At?ct(Ct,qt,Ft,I,b,yt):ct(qt,Ct,Ft,b,I,yt);if(void 0!==$t){if($t)continue;Ht=!1;break}if(vt){if(!w(I,function(ue,re){if(!vt.has(re)&&(qt===ue||kt(qt,ue,F,ct,yt)))return vt.push(re)})){Ht=!1;break}}else if(qt!==Ct&&!kt(qt,Ct,F,ct,yt)){Ht=!1;break}}return yt.delete(b),yt.delete(I),Ht}function me(b){return ct=h,kt=function P(b){return null!=(I=b)&&ee(I.length)&&!Xt(I)?function(F){var kt=zt(F),yt=!kt&&Et(F),At=!kt&&!yt&&Zt(F),Ut=!kt&&!yt&&!At&&ce(F),Bt=kt||yt||At||Ut,Kt=Bt?function(vt,qt){for(var Ct=-1,$t=Array(vt);++Ct<vt;)$t[Ct]=qt(Ct);return $t}(F.length,String):[],Ft=Kt.length;for(var Ht in F)!Z.call(F,Ht)||Bt&&("length"==Ht||At&&("offset"==Ht||"parent"==Ht)||Ut&&("buffer"==Ht||"byteLength"==Ht||"byteOffset"==Ht)||X(Ht,Ft))||Kt.push(Ht);return Kt}(b):function(F){if(kt=(ct=F)&&ct.constructor,ct!==("function"==typeof kt&&kt.prototype||U))return xt(F);var ct,kt,yt=[];for(var At in Object(F))Z.call(F,At)&&"constructor"!=At&&yt.push(At);return yt}(b);var I}(I=b),zt(I)?kt:function(yt,At){for(var Ut=-1,Bt=At.length,Kt=yt.length;++Ut<Bt;)yt[Kt+Ut]=At[Ut];return yt}(kt,ct(I));var I,ct,kt}function H(b,I){var F,ct,kt=b.__data__;return("string"==(ct=typeof(F=I))||"number"==ct||"symbol"==ct||"boolean"==ct?"__proto__"!==F:null===F)?kt["string"==typeof I?"string":"hash"]:kt.map}function i(b,I){var ct,kt,F=(ct=b,kt=I,ct?.[kt]);return function(ct){return!(!Ee(ct)||function(kt){return!!et&&et in kt}(ct))&&(Xt(ct)?lt:ht).test(st(ct))}(F)?F:void 0}ne.prototype.clear=function(){this.__data__=_t?_t(null):{},this.size=0},ne.prototype.delete=function(b){var I=this.has(b)&&delete this.__data__[b];return this.size-=I?1:0,I},ne.prototype.get=function(b){var I=this.__data__;if(_t){var F=I[b];return F===f?void 0:F}return Z.call(I,b)?I[b]:void 0},ne.prototype.has=function(b){var I=this.__data__;return _t?void 0!==I[b]:Z.call(I,b)},ne.prototype.set=function(b,I){var F=this.__data__;return this.size+=this.has(b)?0:1,F[b]=_t&&void 0===I?f:I,this},Wt.prototype.clear=function(){this.__data__=[],this.size=0},Wt.prototype.delete=function(b){var I=this.__data__,F=Yt(I,b);return!(F<0||(F==I.length-1?I.pop():Tt.call(I,F,1),--this.size,0))},Wt.prototype.get=function(b){var I=this.__data__,F=Yt(I,b);return F<0?void 0:I[F][1]},Wt.prototype.has=function(b){return Yt(this.__data__,b)>-1},Wt.prototype.set=function(b,I){var F=this.__data__,ct=Yt(F,b);return ct<0?(++this.size,F.push([b,I])):F[ct][1]=I,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(Nt||Wt),string:new ne}},te.prototype.delete=function(b){var I=H(this,b).delete(b);return this.size-=I?1:0,I},te.prototype.get=function(b){return H(this,b).get(b)},te.prototype.has=function(b){return H(this,b).has(b)},te.prototype.set=function(b,I){var F=H(this,b),ct=F.size;return F.set(b,I),this.size+=F.size==ct?0:1,this},Qt.prototype.add=Qt.prototype.push=function(b){return this.__data__.set(b,f),this},Qt.prototype.has=function(b){return this.__data__.has(b)},Vt.prototype.clear=function(){this.__data__=new Wt,this.size=0},Vt.prototype.delete=function(b){var I=this.__data__,F=I.delete(b);return this.size=I.size,F},Vt.prototype.get=function(b){return this.__data__.get(b)},Vt.prototype.has=function(b){return this.__data__.has(b)},Vt.prototype.set=function(b,I){var F=this.__data__;if(F instanceof Wt){var ct=F.__data__;if(!Nt||ct.length<199)return ct.push([b,I]),this.size=++F.size,this;F=this.__data__=new te(ct)}return F.set(b,I),this.size=F.size,this};var h=ut?function(b){return null==b?[]:(b=Object(b),function(I){for(var ct=-1,kt=null==I?0:I.length,yt=0,At=[];++ct<kt;){var Ut=I[ct];wt.call(b,Ut)&&(At[yt++]=Ut)}return At}(ut(b)))}:function(){return[]},D=Jt;function X(b,I){return!!(I=I??A)&&("number"==typeof b||pt.test(b))&&b>-1&&b%1==0&&b<I}function st(b){if(null!=b){try{return V.call(b)}catch{}try{return b+""}catch{}}return""}function gt(b,I){return b===I||b!=b&&I!=I}(St&&D(new St(new ArrayBuffer(1)))!=nt||Nt&&D(new Nt)!=_||jt&&D(jt.resolve())!=rt||Mt&&D(new Mt)!=R||Pt&&D(new Pt)!=G)&&(D=function(b){var I=Jt(b),F=I==tt?b.constructor:void 0,ct=F?st(F):"";if(ct)switch(ct){case pe:return nt;case xe:return _;case he:return rt;case Le:return R;case Se:return G}return I});var Et=Ne(function(){return arguments}())?Ne:function(b){return se(b)&&Z.call(b,"callee")&&!wt.call(b,"callee")},zt=Array.isArray,Zt=bt||function(){return!1};function Xt(b){if(!Ee(b))return!1;var I=Jt(b);return I==d||"[object GeneratorFunction]"==I||"[object AsyncFunction]"==I||"[object Proxy]"==I}function ee(b){return"number"==typeof b&&b>-1&&b%1==0&&b<=A}function Ee(b){var I=typeof b;return null!=b&&("object"==I||"function"==I)}function se(b){return null!=b&&"object"==typeof b}var ce=p?function(b){return function(I){return b(I)}}(p):function(b){return se(b)&&ee(b.length)&&!!J[Jt(b)]};Q.exports=function(b,I){return ae(b,I)}},1270:function(Q,C,e){"use strict";Object.defineProperty(C,"__esModule",{value:!0});const f=e(9629),x=e(4162);var O,A;(A=O||(O={})).compose=function(j={},a={},q=!1){"object"!=typeof j&&(j={}),"object"!=typeof a&&(a={});let l=f(a);q||(l=Object.keys(l).reduce((E,T)=>(null!=l[T]&&(E[T]=l[T]),E),{}));for(const E in j)void 0!==j[E]&&void 0===a[E]&&(l[E]=j[E]);return Object.keys(l).length>0?l:void 0},A.diff=function(j={},a={}){"object"!=typeof j&&(j={}),"object"!=typeof a&&(a={});const q=Object.keys(j).concat(Object.keys(a)).reduce((l,E)=>(x(j[E],a[E])||(l[E]=void 0===a[E]?null:a[E]),l),{});return Object.keys(q).length>0?q:void 0},A.invert=function(j={},a={}){j=j||{};const q=Object.keys(a).reduce((l,E)=>(a[E]!==j[E]&&void 0!==j[E]&&(l[E]=a[E]),l),{});return Object.keys(j).reduce((l,E)=>(j[E]!==a[E]&&void 0===a[E]&&(l[E]=null),l),q)},A.transform=function(j,a,q=!1){if("object"!=typeof j)return a;if("object"!=typeof a)return;if(!q)return a;const l=Object.keys(a).reduce((E,T)=>(void 0===j[T]&&(E[T]=a[T]),E),{});return Object.keys(l).length>0?l:void 0},C.default=O},5232:function(Q,C,e){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const f=e(5090),x=e(9629),O=e(4162),A=e(1270);C.AttributeMap=A.default;const j=e(4123);C.Op=j.default;const a=e(7033);C.OpIterator=a.default;const l=(T,d)=>{if("object"!=typeof T||null===T)throw new Error("cannot retain a "+typeof T);if("object"!=typeof d||null===d)throw new Error("cannot retain a "+typeof d);const v=Object.keys(T)[0];if(!v||v!==Object.keys(d)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(d)[0]}`);return[v,T[v],d[v]]};class E{constructor(d){this.ops=Array.isArray(d)?d:null!=d&&Array.isArray(d.ops)?d.ops:[]}static registerEmbed(d,v){this.handlers[d]=v}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const v=this.handlers[d];if(!v)throw new Error(`no handlers for embed type "${d}"`);return v}insert(d,v){const _={};return"string"==typeof d&&0===d.length?this:(_.insert=d,null!=v&&"object"==typeof v&&Object.keys(v).length>0&&(_.attributes=v),this.push(_))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,v){if("number"==typeof d&&d<=0)return this;const _={retain:d};return null!=v&&"object"==typeof v&&Object.keys(v).length>0&&(_.attributes=v),this.push(_)}push(d){let v=this.ops.length,_=this.ops[v-1];if(d=x(d),"object"==typeof _){if("number"==typeof d.delete&&"number"==typeof _.delete)return this.ops[v-1]={delete:_.delete+d.delete},this;if("number"==typeof _.delete&&null!=d.insert&&(v-=1,_=this.ops[v-1],"object"!=typeof _))return this.ops.unshift(d),this;if(O(d.attributes,_.attributes)){if("string"==typeof d.insert&&"string"==typeof _.insert)return this.ops[v-1]={insert:_.insert+d.insert},"object"==typeof d.attributes&&(this.ops[v-1].attributes=d.attributes),this;if("number"==typeof d.retain&&"number"==typeof _.retain)return this.ops[v-1]={retain:_.retain+d.retain},"object"==typeof d.attributes&&(this.ops[v-1].attributes=d.attributes),this}}return v===this.ops.length?this.ops.push(d):this.ops.splice(v,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&"number"==typeof d.retain&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const v=[],_=[];return this.forEach(B=>{(d(B)?v:_).push(B)}),[v,_]}reduce(d,v){return this.ops.reduce(d,v)}changeLength(){return this.reduce((d,v)=>v.insert?d+j.default.length(v):v.delete?d-v.delete:d,0)}length(){return this.reduce((d,v)=>d+j.default.length(v),0)}slice(d=0,v=1/0){const _=[],B=new a.default(this.ops);let z=0;for(;z<v&&B.hasNext();){let tt;z<d?tt=B.next(d-z):(tt=B.next(v-z),_.push(tt)),z+=j.default.length(tt)}return new E(_)}compose(d){const v=new a.default(this.ops),_=new a.default(d.ops),B=[],z=_.peek();if(null!=z&&"number"==typeof z.retain&&null==z.attributes){let rt=z.retain;for(;"insert"===v.peekType()&&v.peekLength()<=rt;)rt-=v.peekLength(),B.push(v.next());z.retain-rt>0&&_.next(z.retain-rt)}const tt=new E(B);for(;v.hasNext()||_.hasNext();)if("insert"===_.peekType())tt.push(_.next());else if("delete"===v.peekType())tt.push(v.next());else{const rt=Math.min(v.peekLength(),_.peekLength()),W=v.next(rt),m=_.next(rt);if(m.retain){const R={};if("number"==typeof W.retain)R.retain="number"==typeof m.retain?rt:m.retain;else if("number"==typeof m.retain)null==W.retain?R.insert=W.insert:R.retain=W.retain;else{const M=null==W.retain?"insert":"retain",[G,it,nt]=l(W[M],m.retain),ht=E.getHandler(G);R[M]={[G]:ht.compose(it,nt,"retain"===M)}}const K=A.default.compose(W.attributes,m.attributes,"number"==typeof W.retain);if(K&&(R.attributes=K),tt.push(R),!_.hasNext()&&O(tt.ops[tt.ops.length-1],R)){const M=new E(v.rest());return tt.concat(M).chop()}}else"number"==typeof m.delete&&("number"==typeof W.retain||"object"==typeof W.retain&&null!==W.retain)&&tt.push(m)}return tt.chop()}concat(d){const v=new E(this.ops.slice());return d.ops.length>0&&(v.push(d.ops[0]),v.ops=v.ops.concat(d.ops.slice(1))),v}diff(d,v){if(this.ops===d.ops)return new E;const _=[this,d].map(W=>W.map(m=>{if(null!=m.insert)return"string"==typeof m.insert?m.insert:"\0";throw new Error("diff() called "+(W===d?"on":"with")+" non-document")}).join("")),B=new E,z=f(_[0],_[1],v,!0),tt=new a.default(this.ops),rt=new a.default(d.ops);return z.forEach(W=>{let m=W[1].length;for(;m>0;){let R=0;switch(W[0]){case f.INSERT:R=Math.min(rt.peekLength(),m),B.push(rt.next(R));break;case f.DELETE:R=Math.min(m,tt.peekLength()),tt.next(R),B.delete(R);break;case f.EQUAL:R=Math.min(tt.peekLength(),rt.peekLength(),m);const K=tt.next(R),M=rt.next(R);O(K.insert,M.insert)?B.retain(R,A.default.diff(K.attributes,M.attributes)):B.push(M).delete(R)}m-=R}}),B.chop()}eachLine(d,v="\n"){const _=new a.default(this.ops);let B=new E,z=0;for(;_.hasNext();){if("insert"!==_.peekType())return;const tt=_.peek(),rt=j.default.length(tt)-_.peekLength(),W="string"==typeof tt.insert?tt.insert.indexOf(v,rt)-rt:-1;if(W<0)B.push(_.next());else if(W>0)B.push(_.next(W));else{if(!1===d(B,_.next(1).attributes||{},z))return;z+=1,B=new E}}B.length()>0&&d(B,{},z)}invert(d){const v=new E;return this.reduce((_,B)=>{if(B.insert)v.delete(j.default.length(B));else{if("number"==typeof B.retain&&null==B.attributes)return v.retain(B.retain),_+B.retain;if(B.delete||"number"==typeof B.retain){const z=B.delete||B.retain;return d.slice(_,_+z).forEach(tt=>{B.delete?v.push(tt):B.retain&&B.attributes&&v.retain(j.default.length(tt),A.default.invert(B.attributes,tt.attributes))}),_+z}if("object"==typeof B.retain&&null!==B.retain){const z=d.slice(_,_+1),tt=new a.default(z.ops).next(),[rt,W,m]=l(B.retain,tt.insert),R=E.getHandler(rt);return v.retain({[rt]:R.invert(W,m)},A.default.invert(B.attributes,tt.attributes)),_+1}}return _},0),v.chop()}transform(d,v=!1){if(v=!!v,"number"==typeof d)return this.transformPosition(d,v);const _=d,B=new a.default(this.ops),z=new a.default(_.ops),tt=new E;for(;B.hasNext()||z.hasNext();)if("insert"!==B.peekType()||!v&&"insert"===z.peekType())if("insert"===z.peekType())tt.push(z.next());else{const rt=Math.min(B.peekLength(),z.peekLength()),W=B.next(rt),m=z.next(rt);if(W.delete)continue;if(m.delete)tt.push(m);else{const R=W.retain,K=m.retain;let M="object"==typeof K&&null!==K?K:rt;if("object"==typeof R&&null!==R&&"object"==typeof K&&null!==K){const G=Object.keys(R)[0];if(G===Object.keys(K)[0]){const it=E.getHandler(G);it&&(M={[G]:it.transform(R[G],K[G],v)})}}tt.retain(M,A.default.transform(W.attributes,m.attributes,v))}}else tt.retain(j.default.length(B.next()));return tt.chop()}transformPosition(d,v=!1){v=!!v;const _=new a.default(this.ops);let B=0;for(;_.hasNext()&&B<=d;){const z=_.peekLength(),tt=_.peekType();_.next(),"delete"!==tt?("insert"===tt&&(B<d||!v)&&(d+=z),B+=z):d-=Math.min(z,d-B)}return d}}E.Op=j.default,E.OpIterator=a.default,E.AttributeMap=A.default,E.handlers={},C.default=E,Q.exports=E,Q.exports.default=E},4123:function(Q,C){"use strict";var e;Object.defineProperty(C,"__esModule",{value:!0}),(e||(e={})).length=function(x){return"number"==typeof x.delete?x.delete:"number"==typeof x.retain?x.retain:"object"==typeof x.retain&&null!==x.retain?1:"string"==typeof x.insert?x.insert.length:1},C.default=e},7033:function(Q,C,e){"use strict";Object.defineProperty(C,"__esModule",{value:!0});const f=e(4123);C.default=class{constructor(x){this.ops=x,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(x){x||(x=1/0);const O=this.ops[this.index];if(O){const A=this.offset,j=f.default.length(O);if(x>=j-A?(x=j-A,this.index+=1,this.offset=0):this.offset+=x,"number"==typeof O.delete)return{delete:x};{const a={};return O.attributes&&(a.attributes=O.attributes),"number"==typeof O.retain?a.retain=x:"object"==typeof O.retain&&null!==O.retain?a.retain=O.retain:a.insert="string"==typeof O.insert?O.insert.substr(A,x):O.insert,a}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?f.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const x=this.ops[this.index];return x?"number"==typeof x.delete?"delete":"number"==typeof x.retain||"object"==typeof x.retain&&null!==x.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const x=this.offset,O=this.index,A=this.next(),j=this.ops.slice(this.index);return this.offset=x,this.index=O,[A].concat(j)}}return[]}}},8820:function(Q,C,e){"use strict";e.d(C,{A:function(){return j}});var f=e(8138),x=function(a,q){for(var l=a.length;l--;)if((0,f.A)(a[l][0],q))return l;return-1},O=Array.prototype.splice;function A(a){var q=-1,l=null==a?0:a.length;for(this.clear();++q<l;){var E=a[q];this.set(E[0],E[1])}}A.prototype.clear=function(){this.__data__=[],this.size=0},A.prototype.delete=function(a){var q=this.__data__,l=x(q,a);return!(l<0||(l==q.length-1?q.pop():O.call(q,l,1),--this.size,0))},A.prototype.get=function(a){var q=this.__data__,l=x(q,a);return l<0?void 0:q[l][1]},A.prototype.has=function(a){return x(this.__data__,a)>-1},A.prototype.set=function(a,q){var l=this.__data__,E=x(l,a);return E<0?(++this.size,l.push([a,q])):l[E][1]=q,this};var j=A},2461:function(Q,C,e){"use strict";var f=e(2281),x=e(5507),O=(0,f.A)(x.A,"Map");C.A=O},3558:function(Q,C,e){"use strict";e.d(C,{A:function(){return T}});var f=(0,e(2281).A)(Object,"create"),x=Object.prototype.hasOwnProperty,O=Object.prototype.hasOwnProperty;function A(d){var v=-1,_=null==d?0:d.length;for(this.clear();++v<_;){var B=d[v];this.set(B[0],B[1])}}A.prototype.clear=function(){this.__data__=f?f(null):{},this.size=0},A.prototype.delete=function(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v},A.prototype.get=function(d){var v=this.__data__;if(f){var _=v[d];return"__lodash_hash_undefined__"===_?void 0:_}return x.call(v,d)?v[d]:void 0},A.prototype.has=function(d){var v=this.__data__;return f?void 0!==v[d]:O.call(v,d)},A.prototype.set=function(d,v){var _=this.__data__;return this.size+=this.has(d)?0:1,_[d]=f&&void 0===v?"__lodash_hash_undefined__":v,this};var j=A,a=e(8820),q=e(2461),l=function(d,v){var _,B,z=d.__data__;return("string"==(B=typeof(_=v))||"number"==B||"symbol"==B||"boolean"==B?"__proto__"!==_:null===_)?z["string"==typeof v?"string":"hash"]:z.map};function E(d){var v=-1,_=null==d?0:d.length;for(this.clear();++v<_;){var B=d[v];this.set(B[0],B[1])}}E.prototype.clear=function(){this.size=0,this.__data__={hash:new j,map:new(q.A||a.A),string:new j}},E.prototype.delete=function(d){var v=l(this,d).delete(d);return this.size-=v?1:0,v},E.prototype.get=function(d){return l(this,d).get(d)},E.prototype.has=function(d){return l(this,d).has(d)},E.prototype.set=function(d,v){var _=l(this,d),B=_.size;return _.set(d,v),this.size+=_.size==B?0:1,this};var T=E},2673:function(Q,C,e){"use strict";e.d(C,{A:function(){return j}});var f=e(8820),x=e(2461),O=e(3558);function A(a){var q=this.__data__=new f.A(a);this.size=q.size}A.prototype.clear=function(){this.__data__=new f.A,this.size=0},A.prototype.delete=function(a){var q=this.__data__,l=q.delete(a);return this.size=q.size,l},A.prototype.get=function(a){return this.__data__.get(a)},A.prototype.has=function(a){return this.__data__.has(a)},A.prototype.set=function(a,q){var l=this.__data__;if(l instanceof f.A){var E=l.__data__;if(!x.A||E.length<199)return E.push([a,q]),this.size=++l.size,this;l=this.__data__=new O.A(E)}return l.set(a,q),this.size=l.size,this};var j=A},439:function(Q,C,e){"use strict";var f=e(5507).A.Symbol;C.A=f},7218:function(Q,C,e){"use strict";var f=e(5507).A.Uint8Array;C.A=f},6753:function(Q,C,e){"use strict";e.d(C,{A:function(){return q}});var f=e(8412),x=e(723),O=e(776),A=e(3767),j=e(5755),a=Object.prototype.hasOwnProperty,q=function(l,E){var T=(0,x.A)(l),d=!T&&(0,f.A)(l),v=!T&&!d&&(0,O.A)(l),_=!T&&!d&&!v&&(0,j.A)(l),B=T||d||v||_,z=B?function(W,m){for(var R=-1,K=Array(W);++R<W;)K[R]=m(R);return K}(l.length,String):[],tt=z.length;for(var rt in l)!E&&!a.call(l,rt)||B&&("length"==rt||v&&("offset"==rt||"parent"==rt)||_&&("buffer"==rt||"byteLength"==rt||"byteOffset"==rt)||(0,A.A)(rt,tt))||z.push(rt);return z}},802:function(Q,C){"use strict";C.A=function(e,f){for(var x=-1,O=f.length,A=e.length;++x<O;)e[A+x]=f[x];return e}},6437:function(Q,C,e){"use strict";var f=e(6770),x=e(8138),O=Object.prototype.hasOwnProperty;C.A=function(A,j,a){var q=A[j];O.call(A,j)&&(0,x.A)(q,a)&&(void 0!==a||j in A)||(0,f.A)(A,j,a)}},6770:function(Q,C,e){"use strict";var f=e(7889);C.A=function(x,O,A){"__proto__"==O&&f.A?(0,f.A)(x,O,{configurable:!0,enumerable:!0,value:A,writable:!0}):x[O]=A}},1381:function(Q,C,e){"use strict";var f=e(802),x=e(723);C.A=function(O,A,j){var a=A(O);return(0,x.A)(O)?a:(0,f.A)(a,j(O))}},2159:function(Q,C,e){"use strict";e.d(C,{A:function(){return l}});var f=e(439),x=Object.prototype,O=x.hasOwnProperty,A=x.toString,j=f.A?f.A.toStringTag:void 0,a=Object.prototype.toString,q=f.A?f.A.toStringTag:void 0,l=function(E){return null==E?void 0===E?"[object Undefined]":"[object Null]":q&&q in Object(E)?function(T){var d=O.call(T,j),v=T[j];try{T[j]=void 0;var _=!0}catch{}var B=A.call(T);return _&&(d?T[j]=v:delete T[j]),B}(E):a.call(E)}},5771:function(Q,C){"use strict";C.A=function(e){return function(f){return e(f)}}},2899:function(Q,C,e){"use strict";var f=e(7218);C.A=function(x){var O=new x.constructor(x.byteLength);return new f.A(O).set(new f.A(x)),O}},3812:function(Q,C,e){"use strict";var f=e(5507),x="object"==typeof exports&&exports&&!exports.nodeType&&exports,O=x&&"object"==typeof module&&module&&!module.nodeType&&module,A=O&&O.exports===x?f.A.Buffer:void 0,j=A?A.allocUnsafe:void 0;C.A=function(a,q){if(q)return a.slice();var l=a.length,E=j?j(l):new a.constructor(l);return a.copy(E),E}},1827:function(Q,C,e){"use strict";var f=e(2899);C.A=function(x,O){var A=O?(0,f.A)(x.buffer):x.buffer;return new x.constructor(A,x.byteOffset,x.length)}},4405:function(Q,C){"use strict";C.A=function(e,f){var x=-1,O=e.length;for(f||(f=Array(O));++x<O;)f[x]=e[x];return f}},9601:function(Q,C,e){"use strict";var f=e(6437),x=e(6770);C.A=function(O,A,j,a){var q=!j;j||(j={});for(var l=-1,E=A.length;++l<E;){var T=A[l],d=a?a(j[T],O[T],T,j,O):void 0;void 0===d&&(d=O[T]),q?(0,x.A)(j,T,d):(0,f.A)(j,T,d)}return j}},7889:function(Q,C,e){"use strict";var f=e(2281),x=function(){try{var O=(0,f.A)(Object,"defineProperty");return O({},"",{}),O}catch{}}();C.A=x},9646:function(Q,C){"use strict";var e="object"==typeof global&&global&&global.Object===Object&&global;C.A=e},2816:function(Q,C,e){"use strict";var f=e(1381),x=e(9844),O=e(3169);C.A=function(A){return(0,f.A)(A,O.A,x.A)}},2281:function(Q,C,e){"use strict";e.d(C,{A:function(){return B}});var f,x=e(7572),O=e(5507).A["__core-js_shared__"],A=(f=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",j=e(659),a=e(1543),q=/^\[object .+?Constructor\]$/,v=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=function(z,tt){var W,m,rt=(W=z,m=tt,W?.[m]);return function(z){return!(!(0,j.A)(z)||(tt=z,A&&A in tt))&&((0,x.A)(z)?v:q).test((0,a.A)(z));var tt}(rt)?rt:void 0}},8769:function(Q,C,e){"use strict";var f=(0,e(2217).A)(Object.getPrototypeOf,Object);C.A=f},9844:function(Q,C,e){"use strict";e.d(C,{A:function(){return A}});var f=e(6935),x=Object.prototype.propertyIsEnumerable,O=Object.getOwnPropertySymbols,A=O?function(j){return null==j?[]:(j=Object(j),function(a,q){for(var l=-1,E=null==a?0:a.length,T=0,d=[];++l<E;){var v=a[l];q(v)&&(d[T++]=v)}return d}(O(j),function(a){return x.call(j,a)}))}:f.A},7995:function(Q,C,e){"use strict";e.d(C,{A:function(){return K}});var f=e(2281),x=e(5507),O=(0,f.A)(x.A,"DataView"),A=e(2461),j=(0,f.A)(x.A,"Promise"),a=(0,f.A)(x.A,"Set"),q=(0,f.A)(x.A,"WeakMap"),l=e(2159),E=e(1543),T="[object Map]",d="[object Promise]",v="[object Set]",_="[object WeakMap]",B="[object DataView]",z=(0,E.A)(O),tt=(0,E.A)(A.A),rt=(0,E.A)(j),W=(0,E.A)(a),m=(0,E.A)(q),R=l.A;(O&&R(new O(new ArrayBuffer(1)))!=B||A.A&&R(new A.A)!=T||j&&R(j.resolve())!=d||a&&R(new a)!=v||q&&R(new q)!=_)&&(R=function(M){var G=(0,l.A)(M),it="[object Object]"==G?M.constructor:void 0,nt=it?(0,E.A)(it):"";if(nt)switch(nt){case z:return B;case tt:return T;case rt:return d;case W:return v;case m:return _}return G});var K=R},1683:function(Q,C,e){"use strict";e.d(C,{A:function(){return a}});var f=e(659),x=Object.create,O=function(){function q(){}return function(l){if(!(0,f.A)(l))return{};if(x)return x(l);q.prototype=l;var E=new q;return q.prototype=void 0,E}}(),A=e(8769),j=e(501),a=function(q){return"function"!=typeof q.constructor||(0,j.A)(q)?{}:O((0,A.A)(q))}},3767:function(Q,C){"use strict";var e=/^(?:0|[1-9]\d*)$/;C.A=function(f,x){var O=typeof f;return!!(x=x??9007199254740991)&&("number"==O||"symbol"!=O&&e.test(f))&&f>-1&&f%1==0&&f<x}},501:function(Q,C){"use strict";var e=Object.prototype;C.A=function(f){var x=f&&f.constructor;return f===("function"==typeof x&&x.prototype||e)}},8795:function(Q,C,e){"use strict";var f=e(9646),x="object"==typeof exports&&exports&&!exports.nodeType&&exports,O=x&&"object"==typeof module&&module&&!module.nodeType&&module,A=O&&O.exports===x&&f.A.process,j=function(){try{return O&&O.require&&O.require("util").types||A&&A.binding&&A.binding("util")}catch{}}();C.A=j},2217:function(Q,C){"use strict";C.A=function(e,f){return function(x){return e(f(x))}}},5507:function(Q,C,e){"use strict";var f=e(9646),x="object"==typeof self&&self&&self.Object===Object&&self,O=f.A||x||Function("return this")();C.A=O},1543:function(Q,C){"use strict";var e=Function.prototype.toString;C.A=function(f){if(null!=f){try{return e.call(f)}catch{}try{return f+""}catch{}}return""}},3707:function(Q,C,e){"use strict";e.d(C,{A:function(){return s}});var f=e(2673),x=e(6437),O=e(9601),A=e(3169),j=e(2624),a=e(3812),q=e(4405),l=e(9844),E=e(802),T=e(8769),d=e(6935),v=Object.getOwnPropertySymbols?function(o){for(var u=[];o;)(0,E.A)(u,(0,l.A)(o)),o=(0,T.A)(o);return u}:d.A,_=e(2816),B=e(1381),z=function(o){return(0,B.A)(o,j.A,v)},tt=e(7995),rt=Object.prototype.hasOwnProperty,W=e(2899),m=/\w*$/,R=e(439),K=R.A?R.A.prototype:void 0,M=K?K.valueOf:void 0,G=e(1827),nt=e(1683),ht=e(723),pt=e(776),J=e(7948),Y=e(5771),ot=e(8795),y=ot.A&&ot.A.isMap,t=y?(0,Y.A)(y):function(o){return(0,J.A)(o)&&"[object Map]"==(0,tt.A)(o)},n=e(659),r=ot.A&&ot.A.isSet,L=r?(0,Y.A)(r):function(o){return(0,J.A)(o)&&"[object Set]"==(0,tt.A)(o)},c="[object Arguments]",p="[object Function]",w="[object Object]",k={};k[c]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[w]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[p]=k["[object WeakMap]"]=!1;var g=function o(u,N,S,U,$,V){var Z,et=1&N,at=2&N,lt=4&N;if(S&&(Z=$?S(u,U,$,V):S(u)),void 0!==Z)return Z;if(!(0,n.A)(u))return u;var ut,bt,xt,mt=(0,ht.A)(u);if(mt){if(xt=new(ut=u).constructor(bt=ut.length),bt&&"string"==typeof ut[0]&&rt.call(ut,"index")&&(xt.index=ut.index,xt.input=ut.input),Z=xt,!et)return(0,q.A)(u,Z)}else{var dt=(0,tt.A)(u),ft=dt==p||"[object GeneratorFunction]"==dt;if((0,pt.A)(u))return(0,a.A)(u,et);if(dt==w||dt==c||ft&&!$){if(Z=at||ft?{}:(0,nt.A)(u),!et)return at?function(ut,bt){return(0,O.A)(ut,v(ut),bt)}(u,function(ut,bt){return ut&&(0,O.A)(bt,(0,j.A)(bt),ut)}(Z,u)):function(ut,bt){return(0,O.A)(ut,(0,l.A)(ut),bt)}(u,function(ut,bt){return ut&&(0,O.A)(bt,(0,A.A)(bt),ut)}(Z,u))}else{if(!k[dt])return $?u:{};Z=function(o,u,N){var U,$,Z,at,V=o.constructor;switch(u){case"[object ArrayBuffer]":return(0,W.A)(o);case"[object Boolean]":case"[object Date]":return new V(+o);case"[object DataView]":return Z=o,at=N?(0,W.A)(Z.buffer):Z.buffer,new Z.constructor(at,Z.byteOffset,Z.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,G.A)(o,N);case"[object Map]":case"[object Set]":return new V;case"[object Number]":case"[object String]":return new V(o);case"[object RegExp]":return($=new(U=o).constructor(U.source,m.exec(U))).lastIndex=U.lastIndex,$;case"[object Symbol]":return M?Object(M.call(o)):{}}}(u,dt,et)}}V||(V=new f.A);var wt=V.get(u);if(wt)return wt;V.set(u,Z),L(u)?u.forEach(function(ut){Z.add(o(ut,N,S,ut,u,V))}):t(u)&&u.forEach(function(ut,bt){Z.set(bt,o(ut,N,S,bt,u,V))});var Lt=mt?void 0:(lt?at?z:_.A:at?j.A:A.A)(u);return function(ut,bt){for(var xt=-1,St=null==ut?0:ut.length;++xt<St&&!1!==bt(ut[xt],xt););}(Lt||u,function(ut,bt){Lt&&(ut=u[bt=ut]),(0,x.A)(Z,bt,o(ut,N,S,bt,u,V))}),Z},s=function(o){return g(o,5)}},8138:function(Q,C){"use strict";C.A=function(e,f){return e===f||e!=e&&f!=f}},8412:function(Q,C,e){"use strict";e.d(C,{A:function(){return l}});var f=e(2159),x=e(7948),O=function(E){return(0,x.A)(E)&&"[object Arguments]"==(0,f.A)(E)},A=Object.prototype,j=A.hasOwnProperty,a=A.propertyIsEnumerable,q=O(function(){return arguments}())?O:function(E){return(0,x.A)(E)&&j.call(E,"callee")&&!a.call(E,"callee")},l=q},723:function(Q,C){"use strict";C.A=Array.isArray},3628:function(Q,C,e){"use strict";var f=e(7572),x=e(1628);C.A=function(O){return null!=O&&(0,x.A)(O.length)&&!(0,f.A)(O)}},776:function(Q,C,e){"use strict";e.d(C,{A:function(){return j}});var f=e(5507),x="object"==typeof exports&&exports&&!exports.nodeType&&exports,O=x&&"object"==typeof module&&module&&!module.nodeType&&module,A=O&&O.exports===x?f.A.Buffer:void 0,j=(A?A.isBuffer:void 0)||function(){return!1}},5123:function(Q,C,e){"use strict";e.d(C,{A:function(){return pt}});var f=e(2673),x=e(3558);function O(J){var Y=-1,ot=null==J?0:J.length;for(this.__data__=new x.A;++Y<ot;)this.add(J[Y])}O.prototype.add=O.prototype.push=function(J){return this.__data__.set(J,"__lodash_hash_undefined__"),this},O.prototype.has=function(J){return this.__data__.has(J)};var A=O,j=function(J,Y){for(var ot=-1,y=null==J?0:J.length;++ot<y;)if(Y(J[ot],ot,J))return!0;return!1},a=function(J,Y,ot,y,t,n){var r=1&ot,L=J.length,c=Y.length;if(L!=c&&!(r&&c>L))return!1;var p=n.get(J),w=n.get(Y);if(p&&w)return p==Y&&w==J;var k=-1,g=!0,s=2&ot?new A:void 0;for(n.set(J,Y),n.set(Y,J);++k<L;){var o=J[k],u=Y[k];if(y)var N=r?y(u,o,k,Y,J,n):y(o,u,k,J,Y,n);if(void 0!==N){if(N)continue;g=!1;break}if(s){if(!j(Y,function(S,U){if(!s.has(U)&&(o===S||t(o,S,ot,y,n)))return s.push(U)})){g=!1;break}}else if(o!==u&&!t(o,u,ot,y,n)){g=!1;break}}return n.delete(J),n.delete(Y),g},q=e(439),l=e(7218),E=e(8138),T=function(J){var Y=-1,ot=Array(J.size);return J.forEach(function(y,t){ot[++Y]=[t,y]}),ot},d=function(J){var Y=-1,ot=Array(J.size);return J.forEach(function(y){ot[++Y]=y}),ot},v=q.A?q.A.prototype:void 0,_=v?v.valueOf:void 0,B=e(2816),z=Object.prototype.hasOwnProperty,tt=e(7995),rt=e(723),W=e(776),m=e(5755),R="[object Arguments]",K="[object Array]",M="[object Object]",G=Object.prototype.hasOwnProperty,nt=e(7948),ht=function J(Y,ot,y,t,n){return Y===ot||(null==Y||null==ot||!(0,nt.A)(Y)&&!(0,nt.A)(ot)?Y!=Y&&ot!=ot:function(J,Y,ot,y,t,n){var r=(0,rt.A)(J),L=(0,rt.A)(Y),c=r?K:(0,tt.A)(J),p=L?K:(0,tt.A)(Y),w=(c=c==R?M:c)==M,k=(p=p==R?M:p)==M,g=c==p;if(g&&(0,W.A)(J)){if(!(0,W.A)(Y))return!1;r=!0,w=!1}if(g&&!w)return n||(n=new f.A),r||(0,m.A)(J)?a(J,Y,ot,y,t,n):function(S,U,$,V,Z,et,at){switch($){case"[object DataView]":if(S.byteLength!=U.byteLength||S.byteOffset!=U.byteOffset)return!1;S=S.buffer,U=U.buffer;case"[object ArrayBuffer]":return!(S.byteLength!=U.byteLength||!et(new l.A(S),new l.A(U)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,E.A)(+S,+U);case"[object Error]":return S.name==U.name&&S.message==U.message;case"[object RegExp]":case"[object String]":return S==U+"";case"[object Map]":var lt=T;case"[object Set]":if(lt||(lt=d),S.size!=U.size&&!(1&V))return!1;var dt=at.get(S);if(dt)return dt==U;V|=2,at.set(S,U);var ft=a(lt(S),lt(U),V,Z,et,at);return at.delete(S),ft;case"[object Symbol]":if(_)return _.call(S)==_.call(U)}return!1}(J,Y,c,ot,y,t,n);if(!(1&ot)){var s=w&&G.call(J,"__wrapped__"),o=k&&G.call(Y,"__wrapped__");if(s||o){var u=s?J.value():J,N=o?Y.value():Y;return n||(n=new f.A),t(u,N,ot,y,n)}}return!!g&&(n||(n=new f.A),function(S,U,$,V,Z,et){var at=1&$,lt=(0,B.A)(S),mt=lt.length;if(mt!=(0,B.A)(U).length&&!at)return!1;for(var dt=mt;dt--;){var ft=lt[dt];if(!(at?ft in U:z.call(U,ft)))return!1}var wt=et.get(S),Tt=et.get(U);if(wt&&Tt)return wt==U&&Tt==S;var Lt=!0;et.set(S,U),et.set(U,S);for(var ut=at;++dt<mt;){var bt=S[ft=lt[dt]],xt=U[ft];if(V)var St=at?V(xt,bt,ft,U,S,et):V(bt,xt,ft,S,U,et);if(!(void 0===St?bt===xt||Z(bt,xt,$,V,et):St)){Lt=!1;break}ut||(ut="constructor"==ft)}if(Lt&&!ut){var Nt=S.constructor,jt=U.constructor;Nt==jt||!("constructor"in S)||!("constructor"in U)||"function"==typeof Nt&&Nt instanceof Nt&&"function"==typeof jt&&jt instanceof jt||(Lt=!1)}return et.delete(S),et.delete(U),Lt}(J,Y,ot,y,t,n))}(Y,ot,y,t,J,n))},pt=function(J,Y){return ht(J,Y)}},7572:function(Q,C,e){"use strict";var f=e(2159),x=e(659);C.A=function(O){if(!(0,x.A)(O))return!1;var A=(0,f.A)(O);return"[object Function]"==A||"[object GeneratorFunction]"==A||"[object AsyncFunction]"==A||"[object Proxy]"==A}},1628:function(Q,C){"use strict";C.A=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},659:function(Q,C){"use strict";C.A=function(e){var f=typeof e;return null!=e&&("object"==f||"function"==f)}},7948:function(Q,C){"use strict";C.A=function(e){return null!=e&&"object"==typeof e}},5755:function(Q,C,e){"use strict";e.d(C,{A:function(){return l}});var f=e(2159),x=e(1628),O=e(7948),A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A["[object Function]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;var j=e(5771),a=e(8795),q=a.A&&a.A.isTypedArray,l=q?(0,j.A)(q):function(E){return(0,O.A)(E)&&(0,x.A)(E.length)&&!!A[(0,f.A)(E)]}},3169:function(Q,C,e){"use strict";e.d(C,{A:function(){return a}});var f=e(6753),x=e(501),O=(0,e(2217).A)(Object.keys,Object),A=Object.prototype.hasOwnProperty,j=e(3628),a=function(q){return(0,j.A)(q)?(0,f.A)(q):function(l){if(!(0,x.A)(l))return O(l);var E=[];for(var T in Object(l))A.call(l,T)&&"constructor"!=T&&E.push(T);return E}(q)}},2624:function(Q,C,e){"use strict";e.d(C,{A:function(){return q}});var f=e(6753),x=e(659),O=e(501),A=Object.prototype.hasOwnProperty,a=e(3628),q=function(l){return(0,a.A)(l)?(0,f.A)(l,!0):function(l){if(!(0,x.A)(l))return function(v){var _=[];if(null!=v)for(var B in Object(v))_.push(B);return _}(l);var E=(0,O.A)(l),T=[];for(var d in l)("constructor"!=d||!E&&A.call(l,d))&&T.push(d);return T}(l)}},8347:function(Q,C,e){"use strict";e.d(C,{A:function(){return o}});var f,x,O,A,u,S,U,$,j=e(2673),a=e(6770),q=e(8138),l=function(u,N,S){(void 0!==S&&!(0,q.A)(u[N],S)||void 0===S&&!(N in u))&&(0,a.A)(u,N,S)},T=e(3812),d=e(1827),v=e(4405),_=e(1683),B=e(8412),z=e(723),tt=e(3628),rt=e(7948),W=e(776),m=e(7572),R=e(659),K=e(2159),M=e(8769),nt=Function.prototype.toString,ht=Object.prototype.hasOwnProperty,pt=nt.call(Object),J=e(5755),Y=function(u,N){if(("constructor"!==N||"function"!=typeof u[N])&&"__proto__"!=N)return u[N]},ot=e(9601),y=e(2624),n=function u(N,S,U,$,V){N!==S&&function(u,N,S){for(var U=-1,$=Object(u),V=S(u),Z=V.length;Z--;){var et=V[++U];if(!1===N($[et],et))break}}(S,function(Z,et){if(V||(V=new j.A),(0,R.A)(Z))!function(u,N,S,U,$,V,Z){var et,ut,at=Y(u,S),lt=Y(N,S),mt=Z.get(lt);if(mt)l(u,S,mt);else{var dt=V?V(at,lt,S+"",u,N,Z):void 0,ft=void 0===dt;if(ft){var wt=(0,z.A)(lt),Tt=!wt&&(0,W.A)(lt),Lt=!wt&&!Tt&&(0,J.A)(lt);dt=lt,wt||Tt||Lt?(0,z.A)(at)?dt=at:(0,rt.A)(et=at)&&(0,tt.A)(et)?dt=(0,v.A)(at):Tt?(ft=!1,dt=(0,T.A)(lt,!0)):Lt?(ft=!1,dt=(0,d.A)(lt,!0)):dt=[]:function(ut){if(!(0,rt.A)(ut)||"[object Object]"!=(0,K.A)(ut))return!1;var bt=(0,M.A)(ut);if(null===bt)return!0;var xt=ht.call(bt,"constructor")&&bt.constructor;return"function"==typeof xt&&xt instanceof xt&&nt.call(xt)==pt}(lt)||(0,B.A)(lt)?(dt=at,(0,B.A)(at)?dt=(0,ot.A)(ut=at,(0,y.A)(ut)):(0,R.A)(at)&&!(0,m.A)(at)||(dt=(0,_.A)(lt))):ft=!1}ft&&(Z.set(lt,dt),$(dt,lt,U,V,Z),Z.delete(lt)),l(u,S,dt)}}(N,S,et,U,u,$,V);else{var at=$?$(Y(N,et),Z,et+"",N,S,V):void 0;void 0===at&&(at=Z),l(N,et,at)}},y.A)},r=function(u){return u},L=Math.max,c=e(7889),p=c.A?function(u,N){return(0,c.A)(u,"toString",{configurable:!0,enumerable:!1,value:(S=N,function(){return S}),writable:!0});var S}:r,w=Date.now,k=(f=p,x=0,O=0,function(){var u=w(),N=16-(u-O);if(O=u,N>0){if(++x>=800)return arguments[0]}else x=0;return f.apply(void 0,arguments)}),s=e(3767),o=(A=function(u,N,S){n(u,N,S)},u=function(u,N){var S=-1,U=N.length,$=U>1?N[U-1]:void 0,V=U>2?N[2]:void 0;for($=A.length>3&&"function"==typeof $?(U--,$):void 0,V&&function(et,at,lt){if(!(0,R.A)(lt))return!1;var mt=typeof at;return!!("number"==mt?(0,tt.A)(lt)&&(0,s.A)(at,lt.length):"string"==mt&&at in lt)&&(0,q.A)(lt[at],et)}(N[0],N[1],V)&&($=U<3?void 0:$,U=1),u=Object(u);++S<U;){var Z=N[S];Z&&A(u,Z,S)}return u},k((S=u,$=r,U=L(void 0===(U=undefined)?S.length-1:U,0),function(){for(var V=arguments,Z=-1,et=L(V.length-U,0),at=Array(et);++Z<et;)at[Z]=V[U+Z];Z=-1;for(var lt=Array(U+1);++Z<U;)lt[Z]=V[Z];return lt[U]=$(at),function(mt,dt,ft){switch(ft.length){case 0:return mt.call(dt);case 1:return mt.call(dt,ft[0]);case 2:return mt.call(dt,ft[0],ft[1]);case 3:return mt.call(dt,ft[0],ft[1],ft[2])}return mt.apply(dt,ft)}(S,this,lt)}),u+""))},6935:function(Q,C){"use strict";C.A=function(){return[]}},6003:function(Q,C,e){"use strict";e.r(C),e.d(C,{Attributor:function(){return x},AttributorStore:function(){return T},BlockBlot:function(){return M},ClassAttributor:function(){return q},ContainerBlot:function(){return it},EmbedBlot:function(){return nt},InlineBlot:function(){return R},LeafBlot:function(){return B},ParentBlot:function(){return W},Registry:function(){return j},Scope:function(){return f},ScrollBlot:function(){return J},StyleAttributor:function(){return E},TextBlot:function(){return ot}});var y,f=((y=f||{})[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY",y);class x{constructor(t,n,r={}){this.attrName=t,this.keyName=n,this.scope=null!=r.scope?r.scope&f.LEVEL|f.TYPE&f.ATTRIBUTE:f.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return!!this.canAdd(t,n)&&(t.setAttribute(this.keyName,n),!0)}canAdd(t,n){return null==this.whitelist||("string"==typeof n?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class O extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const A=class Pe{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,n)}return null}create(t,n,r){const L=this.query(n);if(null==L)throw new O(`Unable to create ${n} blot`);const c=L,p=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:c.create(r),w=new c(t,p,r);return Pe.blots.set(w.domNode,w),w}find(t,n=!1){return Pe.find(t,n)}query(t,n=f.ANY){let r;return"string"==typeof t?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:"number"==typeof t?t&f.LEVEL&f.BLOCK?r=this.types.block:t&f.LEVEL&f.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(L=>(r=this.classes[L],!!r)),r=r||this.tags[t.tagName]),null==r?null:"scope"in r&&n&f.LEVEL&r.scope&&n&f.TYPE&r.scope?r:null}register(...t){return t.map(n=>{const r="blotName"in n,L="attrName"in n;if(!r&&!L)throw new O("Invalid definition");if(r&&"abstract"===n.blotName)throw new O("Cannot register abstract class");return this.types[r?n.blotName:L?n.attrName:void 0]=n,L?"string"==typeof n.keyName&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(n.tagName=Array.isArray(n.tagName)?n.tagName.map(p=>p.toUpperCase()):n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(p=>{(null==this.tags[p]||null==n.className)&&(this.tags[p]=n)}))),n})}};A.blots=new WeakMap;let j=A;function a(y,t){return(y.getAttribute("class")||"").split(/\s+/).filter(n=>0===n.indexOf(`${t}-`))}const q=class extends x{static keys(y){return(y.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(y,t){return!!this.canAdd(y,t)&&(this.remove(y),y.classList.add(`${this.keyName}-${t}`),!0)}remove(y){a(y,this.keyName).forEach(t=>{y.classList.remove(t)}),0===y.classList.length&&y.removeAttribute("class")}value(y){const t=(a(y,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(y,t)?t:""}};function l(y){const t=y.split("-"),n=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+n}const E=class extends x{static keys(y){return(y.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(y,t){return!!this.canAdd(y,t)&&(y.style[l(this.keyName)]=t,!0)}remove(y){y.style[l(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")}value(y){const t=y.style[l(this.keyName)];return this.canAdd(y,t)?t:""}},T=class{constructor(y){this.attributes={},this.domNode=y,this.build()}attribute(y,t){t?y.add(this.domNode,t)&&(null!=y.value(this.domNode)?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])}build(){this.attributes={};const y=j.find(this.domNode);if(null==y)return;const t=x.keys(this.domNode),n=q.keys(this.domNode),r=E.keys(this.domNode);t.concat(n).concat(r).forEach(L=>{const c=y.scroll.query(L,f.ATTRIBUTE);c instanceof x&&(this.attributes[c.attrName]=c)})}copy(y){Object.keys(this.attributes).forEach(t=>{const n=this.attributes[t].value(this.domNode);y.format(t,n)})}move(y){this.copy(y),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((y,t)=>(y[t]=this.attributes[t].value(this.domNode),y),{})}},d=class{constructor(y,t){this.scroll=y,this.domNode=t,j.blots.set(t,this),this.prev=null,this.next=null}static create(y){if(null==this.tagName)throw new O("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?("string"==typeof y?(n=y.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof y&&(n=y),t="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const y=this.domNode.cloneNode(!1);return this.scroll.create(y)}detach(){null!=this.parent&&this.parent.removeChild(this),j.blots.delete(this.domNode)}deleteAt(y,t){this.isolate(y,t).remove()}formatAt(y,t,n,r){const L=this.isolate(y,t);if(null!=this.scroll.query(n,f.BLOT)&&r)L.wrap(n,r);else if(null!=this.scroll.query(n,f.ATTRIBUTE)){const c=this.scroll.create(this.statics.scope);L.wrap(c),c.format(n,r)}}insertAt(y,t,n){const r=null==n?this.scroll.create("text",t):this.scroll.create(t,n),L=this.split(y);this.parent.insertBefore(r,L||void 0)}isolate(y,t){const n=this.split(y);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(y=this.parent){return null==this.parent||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)}optimize(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(y,t){const n="string"==typeof y?this.scroll.create(y,t):y;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(y,t){return 0===y?this:this.next}update(y,t){}wrap(y,t){const n="string"==typeof y?this.scroll.create(y,t):y;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new O(`Cannot wrap ${y}`);return n.appendChild(this),n}};d.blotName="abstract";let v=d;const _=class extends v{static value(y){return!0}index(y,t){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(y,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return y>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_.scope=f.INLINE_BLOT;const B=_;class z{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let r=n();for(;r&&t>0;)t-=1,r=n();return r}contains(t){const n=this.iterator();let r=n();for(;r;){if(r===t)return!0;r=n()}return!1}indexOf(t){const n=this.iterator();let r=n(),L=0;for(;r;){if(r===t)return L;L+=1,r=n()}return-1}insertBefore(t,n){null!=t&&(this.remove(t),t.next=n,null!=n?(t.prev=n.prev,null!=n.prev&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,r=this.head;for(;null!=r;){if(r===t)return n;n+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return null!=t&&(t=t.next),n}}find(t,n=!1){const r=this.iterator();let L=r();for(;L;){const c=L.length();if(t<c||n&&t===c&&(null==L.next||0!==L.next.length()))return[L,t];t-=c,L=r()}return[null,0]}forEach(t){const n=this.iterator();let r=n();for(;r;)t(r),r=n()}forEachAt(t,n,r){if(n<=0)return;const[L,c]=this.find(t);let p=t-c;const w=this.iterator(L);let k=w();for(;k&&p<t+n;){const g=k.length();t>p?r(k,t-p,Math.min(n,p+g-t)):r(k,0,Math.min(g,t+n-p)),p+=g,k=w()}}map(t){return this.reduce((n,r)=>(n.push(t(r)),n),[])}reduce(t,n){const r=this.iterator();let L=r();for(;L;)n=t(n,L),L=r();return n}}function tt(y,t){const n=t.find(y);if(n)return n;try{return t.create(y)}catch{const r=t.create(f.INLINE);return Array.from(y.childNodes).forEach(L=>{r.domNode.appendChild(L)}),y.parentNode&&y.parentNode.replaceChild(r.domNode,y),r.attach(),r}}const rt=class ve extends v{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,ve.uiClass&&this.uiNode.classList.add(ve.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new z,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=tt(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof O)return;throw n}})}deleteAt(t,n){if(0===t&&n===this.length())return this.remove();this.children.forEachAt(t,n,(r,L,c)=>{r.deleteAt(L,c)})}descendant(t,n=0){const[r,L]=this.children.find(n);return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,L]:r instanceof ve?r.descendant(t,L):[null,-1]}descendants(t,n=0,r=Number.MAX_VALUE){let L=[],c=r;return this.children.forEachAt(n,r,(p,w,k)=>{(null==t.blotName&&t(p)||null!=t.blotName&&p instanceof t)&&L.push(p),p instanceof ve&&(L=L.concat(p.descendants(t,w,c))),c-=k}),L}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===f.BLOCK_BLOT?(null!=n.next&&this.splitAfter(n),null!=n.prev&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof ve?n.unwrap():n.remove())})}formatAt(t,n,r,L){this.children.forEachAt(t,n,(c,p,w)=>{c.formatAt(p,w,r,L)})}insertAt(t,n,r){const[L,c]=this.children.find(t);if(L)L.insertAt(c,n,r);else{const p=null==r?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(p)}}insertBefore(t,n){null!=t.parent&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,n||null),t.parent=this,null!=n&&(r=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(r=>{t.insertBefore(r,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[r,L]=this.children.find(t,n),c=[[this,t]];return r instanceof ve?c.concat(r.path(L,n)):(null!=r&&c.push([r,L]),c)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const r="string"==typeof t?this.scroll.create(t,n):t;return r instanceof ve&&this.moveChildren(r),super.replaceWith(r)}split(t,n=!1){if(!n){if(0===t)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(L,c,p)=>{const w=L.split(c,n);null!=w&&r.appendChild(w)}),r}splitAfter(t){const n=this.clone();for(;null!=t.next;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const r=[],L=[];t.forEach(c=>{c.target===this.domNode&&"childList"===c.type&&(r.push(...c.addedNodes),L.push(...c.removedNodes))}),L.forEach(c=>{if(null!=c.parentNode&&"IFRAME"!==c.tagName&&document.body.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const p=this.scroll.find(c);null!=p&&(null==p.domNode.parentNode||p.domNode.parentNode===this.domNode)&&p.detach()}),r.filter(c=>c.parentNode===this.domNode&&c!==this.uiNode).sort((c,p)=>c===p?0:c.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(c=>{let p=null;null!=c.nextSibling&&(p=this.scroll.find(c.nextSibling));const w=tt(c,this.scroll);(w.next!==p||null==w.next)&&(null!=w.parent&&w.parent.removeChild(this),this.insertBefore(w,p||void 0))}),this.enforceAllowedChildren()}};rt.uiClass="";const W=rt,m=class ke extends W{static create(t){return super.create(t)}static formats(t,n){const r=n.query(ke.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new T(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const r=this.scroll.query(t,f.INLINE);if(null==r)return;r instanceof x?this.attributes.attribute(r,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach(r=>{r instanceof ke||(r=r.wrap(ke.blotName,!0)),this.attributes.copy(r)}),this.unwrap()}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return null!=n&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,L){null!=this.formats()[r]||this.scroll.query(r,f.ATTRIBUTE)?this.isolate(t,n).format(r,L):super.formatAt(t,n,r,L)}optimize(t){super.optimize(t);const n=this.formats();if(0===Object.keys(n).length)return this.unwrap();const r=this.next;r instanceof ke&&r.prev===this&&function(L,c){if(Object.keys(L).length!==Object.keys(c).length)return!1;for(const p in L)if(L[p]!==c[p])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&"attributes"===r.type)&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof ke&&this.attributes.move(r),r}};m.allowedChildren=[m,B],m.blotName="inline",m.scope=f.INLINE_BLOT,m.tagName="SPAN";const R=m,K=class ze extends W{static create(t){return super.create(t)}static formats(t,n){const r=n.query(ze.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new T(this.domNode)}format(t,n){const r=this.scroll.query(t,f.BLOCK);null!=r&&(r instanceof x?this.attributes.attribute(r,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(ze.blotName))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return null!=n&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,L){null!=this.scroll.query(r,f.BLOCK)?this.format(r,L):super.formatAt(t,n,r,L)}insertAt(t,n,r){if(null==r||null!=this.scroll.query(n,f.INLINE))super.insertAt(t,n,r);else{const L=this.split(t);if(null==L)throw new Error("Attempt to insertAt after block boundaries");{const c=this.scroll.create(n,r);L.parent.insertBefore(c,L)}}}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&"attributes"===r.type)&&this.attributes.build()}};K.blotName="block",K.scope=f.BLOCK_BLOT,K.tagName="P",K.allowedChildren=[R,K,B];const M=K,G=class extends W{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(y,t){super.deleteAt(y,t),this.enforceAllowedChildren()}formatAt(y,t,n,r){super.formatAt(y,t,n,r),this.enforceAllowedChildren()}insertAt(y,t,n){super.insertAt(y,t,n),this.enforceAllowedChildren()}optimize(y){super.optimize(y),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};G.blotName="container",G.scope=f.BLOCK_BLOT;const it=G,nt=class extends B{static formats(y,t){}format(y,t){super.formatAt(0,this.length(),y,t)}formatAt(y,t,n,r){0===y&&t===this.length()?this.format(n,r):super.formatAt(y,t,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ht={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},pt=class extends W{constructor(y,t){super(null,t),this.registry=y,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,ht),this.attach()}create(y,t){return this.registry.create(this,y,t)}find(y,t=!1){const n=this.registry.find(y,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(y,t=f.ANY){return this.registry.query(y,t)}register(...y){return this.registry.register(...y)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(y,t){this.update(),0===y&&t===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(y,t)}formatAt(y,t,n,r){this.update(),super.formatAt(y,t,n,r)}insertAt(y,t,n){this.update(),super.insertAt(y,t,n)}optimize(y=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)y.push(r.pop());const L=(w,k=!0)=>{null==w||w===this||null!=w.domNode.parentNode&&(n.has(w.domNode)||n.set(w.domNode,[]),k&&L(w.parent))},c=w=>{n.has(w.domNode)&&(w instanceof W&&w.children.forEach(c),n.delete(w.domNode),w.optimize(t))};let p=y;for(let w=0;p.length>0;w+=1){if(w>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(p.forEach(k=>{const g=this.find(k.target,!0);null!=g&&(g.domNode===k.target&&("childList"===k.type?(L(this.find(k.previousSibling,!1)),Array.from(k.addedNodes).forEach(s=>{const o=this.find(s,!1);L(o,!1),o instanceof W&&o.children.forEach(u=>{L(u,!1)})})):"attributes"===k.type&&L(g.prev)),L(g))}),this.children.forEach(c),p=Array.from(this.observer.takeRecords()),r=p.slice();r.length>0;)y.push(r.pop())}}update(y,t={}){y=y||this.observer.takeRecords();const n=new WeakMap;y.map(r=>{const L=this.find(r.target,!0);return null==L?null:n.has(L.domNode)?(n.get(L.domNode).push(r),null):(n.set(L.domNode,[r]),L)}).forEach(r=>{null!=r&&r!==this&&n.has(r.domNode)&&r.update(n.get(r.domNode)||[],t)}),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(y,t)}};pt.blotName="scroll",pt.defaultChild=M,pt.allowedChildren=[M,it],pt.scope=f.BLOCK_BLOT,pt.tagName="DIV";const J=pt,Y=class Ve extends B{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof Ve&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(0===t)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,n){t.some(r=>"characterData"===r.type&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Y.blotName="text",Y.scope=f.INLINE_BLOT;const ot=Y}},Ae={};function Ot(Q){var C=Ae[Q];if(void 0!==C)return C.exports;var e=Ae[Q]={id:Q,loaded:!1,exports:{}};return Ie[Q](e,e.exports,Ot),e.loaded=!0,e.exports}Ot.n=function(Q){var C=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return Ot.d(C,{a:C}),C},Ot.d=function(Q,C){for(var e in C)Ot.o(C,e)&&!Ot.o(Q,e)&&Object.defineProperty(Q,e,{enumerable:!0,get:C[e]})},Ot.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ot.o=function(Q,C){return Object.prototype.hasOwnProperty.call(Q,C)},Ot.r=function(Q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},Ot.nmd=function(Q){return Q.paths=[],Q.children||(Q.children=[]),Q};var Fe={};return function(){"use strict";Ot.d(Fe,{default:function(){return me}});var Q=Ot(3729),C=Ot(8276),e=Ot(7912),f=Ot(6003),O=new class x extends f.ClassAttributor{add(i,h){let D=0;if("+1"===h||"-1"===h){const X=this.value(i)||0;D="+1"===h?X+1:X-1}else"number"==typeof h&&(D=h);return 0===D?(this.remove(i),!0):super.add(i,D.toString())}canAdd(i,h){return super.canAdd(i,h)||super.canAdd(i,parseInt(h,10))}value(i){return parseInt(super.value(i),10)||void 0}}("indent","ql-indent",{scope:f.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),A=Ot(9698),E=Ot(580),T=Ot(6142);class d extends E.A{}d.blotName="list-container",d.tagName="OL";class v extends A.Ay{static create(i){const h=super.create();return h.setAttribute("data-list",i),h}static formats(i){return i.getAttribute("data-list")||void 0}static register(){T.Ay.register(d)}constructor(i,h){super(i,h);const D=h.ownerDocument.createElement("span"),X=st=>{if(!i.isEnabled())return;const gt=this.statics.formats(h,i);"checked"===gt?(this.format("list","unchecked"),st.preventDefault()):"unchecked"===gt&&(this.format("list","checked"),st.preventDefault())};D.addEventListener("mousedown",X),D.addEventListener("touchstart",X),this.attachUI(D)}format(i,h){i===this.statics.blotName&&h?this.domNode.setAttribute("data-list",h):super.format(i,h)}}v.blotName="list",v.tagName="LI",d.allowedChildren=[v],v.requiredContainer=d;var _=Ot(9541),B=Ot(8638),z=Ot(6772),tt=Ot(664),rt=Ot(4850),m=class W extends rt.A{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};class R extends rt.A{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(i){const h=super.create(i);return h.setAttribute("href",this.sanitize(i)),h.setAttribute("rel","noopener noreferrer"),h.setAttribute("target","_blank"),h}static formats(i){return i.getAttribute("href")}static sanitize(i){return K(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}format(i,h){i===this.statics.blotName&&h?this.domNode.setAttribute("href",this.constructor.sanitize(h)):super.format(i,h)}}function K(H,i){const h=document.createElement("a");h.href=H;const D=h.href.slice(0,h.href.indexOf(":"));return i.indexOf(D)>-1}var ht=Ot(746);const Y=["alt","height","width"];const t=["height","width"];var L=Ot(9404),c=Ot(5232),p=Ot.n(c),w=Ot(4266),k=Ot(3036),g=Ot(4541),s=Ot(5508),o=Ot(584);const u=new f.ClassAttributor("code-token","hljs",{scope:f.Scope.INLINE});class N extends rt.A{static formats(i,h){for(;null!=i&&i!==h.domNode;){if(i.classList&&i.classList.contains(L.Ay.className))return super.formats(i,h);i=i.parentNode}}constructor(i,h,D){super(i,h,D),u.add(this.domNode,D)}format(i,h){i!==N.blotName?super.format(i,h):h?u.add(this.domNode,h):(u.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),u.value(this.domNode)||this.unwrap()}}N.blotName="code-token",N.className="ql-token";class S extends L.Ay{static create(i){const h=super.create(i);return"string"==typeof i&&h.setAttribute("data-language",i),h}static formats(i){return i.getAttribute("data-language")||"plain"}static register(){}format(i,h){i===this.statics.blotName&&h?this.domNode.setAttribute("data-language",h):super.format(i,h)}replaceWith(i,h){return this.formatAt(0,this.length(),N.blotName,!1),super.replaceWith(i,h)}}class U extends L.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(i,h){i===S.blotName&&(this.forceNext=!0,this.children.forEach(D=>{D.format(i,h)}))}formatAt(i,h,D,X){D===S.blotName&&(this.forceNext=!0),super.formatAt(i,h,D,X)}highlight(i){let h=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const D=`${Array.from(this.domNode.childNodes).filter(st=>st!==this.uiNode).map(st=>st.textContent).join("\n")}\n`,X=S.formats(this.children.head.domNode);if(h||this.forceNext||this.cachedText!==D){if(D.trim().length>0||null==this.cachedText){const st=this.children.reduce((Et,zt)=>Et.concat((0,A.mG)(zt,!1)),new(p())),gt=i(D,X);st.diff(gt).reduce((Et,zt)=>{let{retain:Zt,attributes:Xt}=zt;return Zt?(Xt&&Object.keys(Xt).forEach(ee=>{[S.blotName,N.blotName].includes(ee)&&this.formatAt(Et,Zt,ee,Xt[ee])}),Et+Zt):Et},0)}this.cachedText=D,this.forceNext=!1}}html(i,h){const[D]=this.children.find(i);return`<pre data-language="${D?S.formats(D.domNode):"plain"}">\n${(0,s.X)(this.code(i,h))}\n</pre>`}optimize(i){if(super.optimize(i),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const h=S.formats(this.children.head.domNode);h!==this.uiNode.value&&(this.uiNode.value=h)}}}U.allowedChildren=[S],S.requiredContainer=U,S.allowedChildren=[N,g.A,s.A,k.A];class $ extends w.A{static register(){T.Ay.register(N,!0),T.Ay.register(S,!0),T.Ay.register(U,!0)}constructor(i,h){if(super(i,h),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((D,X)=>{let{key:st}=X;return D[st]=!0,D},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(T.Ay.events.SCROLL_BLOT_MOUNT,i=>{if(!(i instanceof U))return;const h=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(D=>{let{key:X,label:st}=D;const gt=h.ownerDocument.createElement("option");gt.textContent=st,gt.setAttribute("value",X),h.appendChild(gt)}),h.addEventListener("change",()=>{i.format(S.blotName,h.value),this.quill.root.focus(),this.highlight(i,!0)}),null==i.uiNode&&(i.attachUI(h),i.children.head&&(h.value=S.formats(i.children.head.domNode)))})}initTimer(){let i=null;this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,()=>{i&&clearTimeout(i),i=setTimeout(()=>{this.highlight(),i=null},this.options.interval)})}highlight(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(T.Ay.sources.USER);const D=this.quill.getSelection();(null==i?this.quill.scroll.descendants(U):[i]).forEach(X=>{X.highlight(this.highlightBlot,h)}),this.quill.update(T.Ay.sources.SILENT),null!=D&&this.quill.setSelection(D,T.Ay.sources.SILENT)}highlightBlot(i){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(h=this.languages[h]?h:"plain","plain"===h)return(0,s.X)(i).split("\n").reduce((X,st,gt)=>(0!==gt&&X.insert("\n",{[L.Ay.blotName]:h}),X.insert(st)),new(p()));const D=this.quill.root.ownerDocument.createElement("div");return D.classList.add(L.Ay.className),D.innerHTML=((X,st,gt)=>{if("string"==typeof X.versionString){const Et=X.versionString.split(".")[0];if(parseInt(Et,10)>=11)return X.highlight(gt,{language:st}).value}return X.highlight(st,gt).value})(this.options.hljs,h,i),(0,o.hV)(this.quill.scroll,D,[(X,st)=>{const gt=u.value(X);return gt?st.compose((new(p())).retain(st.length(),{[N.blotName]:gt})):st}],[(X,st)=>X.data.split("\n").reduce((gt,Et,zt)=>(0!==zt&&gt.insert("\n",{[L.Ay.blotName]:h}),gt.insert(Et)),st)],new WeakMap)}}$.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class V extends A.Ay{static blotName="table";static tagName="TD";static create(i){const h=super.create();return h.setAttribute("data-row",i||lt()),h}static formats(i){if(i.hasAttribute("data-row"))return i.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(i,h){i===V.blotName&&h?this.domNode.setAttribute("data-row",h):super.format(i,h)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Z extends E.A{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const i=this.children.head.formats(),h=this.children.tail.formats(),D=this.next.children.head.formats(),X=this.next.children.tail.formats();return i.table===h.table&&i.table===D.table&&i.table===X.table}return!1}optimize(i){super.optimize(i),this.children.forEach(h=>{if(null==h.next)return;const D=h.formats(),X=h.next.formats();if(D.table!==X.table){const st=this.splitAfter(h);st&&st.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class et extends E.A{static blotName="table-body";static tagName="TBODY"}class at extends E.A{static blotName="table-container";static tagName="TABLE";balanceCells(){const i=this.descendants(Z),h=i.reduce((D,X)=>Math.max(X.children.length,D),0);i.forEach(D=>{new Array(h-D.children.length).fill(0).forEach(()=>{let X;null!=D.children.head&&(X=V.formats(D.children.head.domNode));const st=this.scroll.create(V.blotName,X);D.appendChild(st),st.optimize()})})}cells(i){return this.rows().map(h=>h.children.at(i))}deleteColumn(i){const[h]=this.descendant(et);null!=h&&null!=h.children.head&&h.children.forEach(D=>{const X=D.children.at(i);X?.remove()})}insertColumn(i){const[h]=this.descendant(et);null!=h&&null!=h.children.head&&h.children.forEach(D=>{const X=D.children.at(i),st=V.formats(D.children.head.domNode),gt=this.scroll.create(V.blotName,st);D.insertBefore(gt,X)})}insertRow(i){const[h]=this.descendant(et);if(null==h||null==h.children.head)return;const D=lt(),X=this.scroll.create(Z.blotName);h.children.head.children.forEach(()=>{const gt=this.scroll.create(V.blotName,D);X.appendChild(gt)});const st=h.children.at(i);h.insertBefore(X,st)}rows(){const i=this.children.head;return null==i?[]:i.children.map(h=>h)}}function lt(){return`row-${Math.random().toString(36).slice(2,6)}`}at.allowedChildren=[et],et.requiredContainer=at,et.allowedChildren=[Z],Z.requiredContainer=et,Z.allowedChildren=[V],V.requiredContainer=Z;const ft=(0,Ot(6078).A)("quill:toolbar");class wt extends w.A{constructor(i,h){if(super(i,h),Array.isArray(this.options.container)){const D=document.createElement("div");D.setAttribute("role","toolbar"),X=D,st=this.options.container,Array.isArray(st[0])||(st=[st]),st.forEach(gt=>{const Et=document.createElement("span");Et.classList.add("ql-formats"),gt.forEach(zt=>{if("string"==typeof zt)Tt(Et,zt);else{const Zt=Object.keys(zt)[0],Xt=zt[Zt];Array.isArray(Xt)?function(ee,Ee,se){const ce=document.createElement("select");ce.classList.add(`ql-${Ee}`),se.forEach(P=>{const b=document.createElement("option");!1!==P?b.setAttribute("value",String(P)):b.setAttribute("selected","selected"),ce.appendChild(b)}),ee.appendChild(ce)}(Et,Zt,Xt):Tt(Et,Zt,Xt)}}),X.appendChild(Et)}),i.container?.parentNode?.insertBefore(D,i.container),this.container=D}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;var X,st;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(D=>{const X=this.options.handlers?.[D];X&&this.addHandler(D,X)}),Array.from(this.container.querySelectorAll("button, select")).forEach(D=>{this.attach(D)}),this.quill.on(T.Ay.events.EDITOR_CHANGE,()=>{const[D]=this.quill.selection.getRange();this.update(D)})):ft.error("Container required for toolbar",this.options)}addHandler(i,h){this.handlers[i]=h}attach(i){let h=Array.from(i.classList).find(X=>0===X.indexOf("ql-"));h&&(h=h.slice(3),"BUTTON"===i.tagName&&i.setAttribute("type","button"),null!=this.handlers[h]||null!=this.quill.scroll.query(h)?(i.addEventListener("SELECT"===i.tagName?"change":"click",X=>{let st;if("SELECT"===i.tagName){if(i.selectedIndex<0)return;const Et=i.options[i.selectedIndex];st=!Et.hasAttribute("selected")&&(Et.value||!1)}else st=!i.classList.contains("ql-active")&&(i.value||!i.hasAttribute("value")),X.preventDefault();this.quill.focus();const[gt]=this.quill.selection.getRange();if(null!=this.handlers[h])this.handlers[h].call(this,st);else if(this.quill.scroll.query(h).prototype instanceof f.EmbedBlot){if(st=prompt(`Enter ${h}`),!st)return;this.quill.updateContents((new(p())).retain(gt.index).delete(gt.length).insert({[h]:st}),T.Ay.sources.USER)}else this.quill.format(h,st,T.Ay.sources.USER);this.update(gt)}),this.controls.push([h,i])):ft.warn("ignoring attaching to nonexistent format",h,i))}update(i){const h=null==i?{}:this.quill.getFormat(i);this.controls.forEach(D=>{const[X,st]=D;if("SELECT"===st.tagName){let gt=null;if(null==i)gt=null;else if(null==h[X])gt=st.querySelector("option[selected]");else if(!Array.isArray(h[X])){let Et=h[X];"string"==typeof Et&&(Et=Et.replace(/"/g,'\\"')),gt=st.querySelector(`option[value="${Et}"]`)}null==gt?(st.value="",st.selectedIndex=-1):gt.selected=!0}else if(null==i)st.classList.remove("ql-active"),st.setAttribute("aria-pressed","false");else if(st.hasAttribute("value")){const gt=h[X],Et=gt===st.getAttribute("value")||null!=gt&&gt.toString()===st.getAttribute("value")||null==gt&&!st.getAttribute("value");st.classList.toggle("ql-active",Et),st.setAttribute("aria-pressed",Et.toString())}else{const gt=null!=h[X];st.classList.toggle("ql-active",gt),st.setAttribute("aria-pressed",gt.toString())}})}}function Tt(H,i,h){const D=document.createElement("button");D.setAttribute("type","button"),D.classList.add(`ql-${i}`),D.setAttribute("aria-pressed","false"),null!=h?(D.value=h,D.setAttribute("aria-label",`${i}: ${h}`)):D.setAttribute("aria-label",i),H.appendChild(D)}wt.DEFAULTS={},wt.DEFAULTS={container:null,handlers:{clean(){const H=this.quill.getSelection();if(null!=H)if(0===H.length){const i=this.quill.getFormat();Object.keys(i).forEach(h=>{null!=this.quill.scroll.query(h,f.Scope.INLINE)&&this.quill.format(h,!1,T.Ay.sources.USER)})}else this.quill.removeFormat(H.index,H.length,T.Ay.sources.USER)},direction(H){const{align:i}=this.quill.getFormat();"rtl"===H&&null==i?this.quill.format("align","right",T.Ay.sources.USER):H||"right"!==i||this.quill.format("align",!1,T.Ay.sources.USER),this.quill.format("direction",H,T.Ay.sources.USER)},indent(H){const i=this.quill.getSelection(),h=this.quill.getFormat(i),D=parseInt(h.indent||0,10);if("+1"===H||"-1"===H){let X="+1"===H?1:-1;"rtl"===h.direction&&(X*=-1),this.quill.format("indent",D+X,T.Ay.sources.USER)}},link(H){!0===H&&(H=prompt("Enter link URL:")),this.quill.format("link",H,T.Ay.sources.USER)},list(H){const i=this.quill.getSelection(),h=this.quill.getFormat(i);this.quill.format("list","check"===H?"checked"!==h.list&&"unchecked"!==h.list&&"unchecked":H,T.Ay.sources.USER)}}};const Lt='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var ut={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Lt,"code-block":Lt,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let bt=0;function xt(H,i){H.setAttribute(i,`${"true"!==H.getAttribute(i)}`)}var St=class{constructor(H){this.select=H,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),i.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),xt(this.label,"aria-expanded"),xt(this.options,"aria-hidden")}buildItem(H){const i=document.createElement("span");i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item");const h=H.getAttribute("value");return h&&i.setAttribute("data-value",h),H.textContent&&i.setAttribute("data-label",H.textContent),i.addEventListener("click",()=>{this.selectItem(i,!0)}),i.addEventListener("keydown",D=>{switch(D.key){case"Enter":this.selectItem(i,!0),D.preventDefault();break;case"Escape":this.escape(),D.preventDefault()}}),i}buildLabel(){const H=document.createElement("span");return H.classList.add("ql-picker-label"),H.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',H.tabIndex="0",H.setAttribute("role","button"),H.setAttribute("aria-expanded","false"),this.container.appendChild(H),H}buildOptions(){const H=document.createElement("span");H.classList.add("ql-picker-options"),H.setAttribute("aria-hidden","true"),H.tabIndex="-1",H.id=`ql-picker-options-${bt}`,bt+=1,this.label.setAttribute("aria-controls",H.id),this.options=H,Array.from(this.select.options).forEach(i=>{const h=this.buildItem(i);H.appendChild(h),!0===i.selected&&this.selectItem(h)}),this.container.appendChild(H)}buildPicker(){Array.from(this.select.attributes).forEach(H=>{this.container.setAttribute(H.name,H.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(H){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const h=this.container.querySelector(".ql-selected");H!==h&&(h?.classList.remove("ql-selected"),null!=H&&(H.classList.add("ql-selected"),this.select.selectedIndex=Array.from(H.parentNode.children).indexOf(H),H.hasAttribute("data-value")?this.label.setAttribute("data-value",H.getAttribute("data-value")):this.label.removeAttribute("data-value"),H.hasAttribute("data-label")?this.label.setAttribute("data-label",H.getAttribute("data-label")):this.label.removeAttribute("data-label"),i&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let H;if(this.select.selectedIndex>-1){const h=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];H=this.select.options[this.select.selectedIndex],this.selectItem(h)}else this.selectItem(null);const i=null!=H&&H!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}},Nt=class extends St{constructor(H,i){super(H),this.label.innerHTML=i,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(h=>{h.classList.add("ql-primary")})}buildItem(H){const i=super.buildItem(H);return i.style.backgroundColor=H.getAttribute("value")||"",i}selectItem(H,i){super.selectItem(H,i);const h=this.label.querySelector(".ql-color-label"),D=H&&H.getAttribute("data-value")||"";h&&("line"===h.tagName?h.style.stroke=D:h.style.fill=D)}},jt=class extends St{constructor(H,i){super(H),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(h=>{h.innerHTML=i[h.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(H,i){super.selectItem(H,i);const h=H||this.defaultItem;if(null!=h){if(this.label.innerHTML===h.innerHTML)return;this.label.innerHTML=h.innerHTML}}},Mt=class{constructor(H,i){this.quill=H,this.boundsContainer=i||document.body,this.root=H.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(h=>{const{overflowY:D}=getComputedStyle(h,null);return"visible"!==D&&"clip"!==D})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(H){const i=H.left+H.width/2-this.root.offsetWidth/2,h=H.bottom+this.quill.root.scrollTop;this.root.style.left=`${i}px`,this.root.style.top=`${h}px`,this.root.classList.remove("ql-flip");const D=this.boundsContainer.getBoundingClientRect(),X=this.root.getBoundingClientRect();let st=0;return X.right>D.right&&(st=D.right-X.right,this.root.style.left=`${i+st}px`),X.left<D.left&&(st=D.left-X.left,this.root.style.left=`${i+st}px`),X.bottom>D.bottom&&(this.root.style.top=h-(H.bottom-H.top+(X.bottom-X.top))+"px",this.root.classList.add("ql-flip")),st}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Pt=Ot(8347),_t=Ot(5374),pe=Ot(9609);const xe=[!1,"center","right","justify"],he=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Le=[!1,"serif","monospace"],Se=["1","2","3",!1],qe=["small",!1,"large","huge"];class oe extends pe.A{constructor(i,h){super(i,h);const D=X=>{document.body.contains(i.root)?(null==this.tooltip||this.tooltip.root.contains(X.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(st=>{st.container.contains(X.target)||st.close()})):document.body.removeEventListener("click",D)};i.emitter.listenDOM("click",document.body,D)}addModule(i){const h=super.addModule(i);return"toolbar"===i&&this.extendToolbar(h),h}buildButtons(i,h){Array.from(i).forEach(D=>{(D.getAttribute("class")||"").split(/\s+/).forEach(X=>{if(X.startsWith("ql-")&&(X=X.slice(3),null!=h[X]))if("direction"===X)D.innerHTML=h[X][""]+h[X].rtl;else if("string"==typeof h[X])D.innerHTML=h[X];else{const st=D.value||"";null!=st&&h[X][st]&&(D.innerHTML=h[X][st])}})})}buildPickers(i,h){this.pickers=Array.from(i).map(D=>{if(D.classList.contains("ql-align")&&(null==D.querySelector("option")&&Wt(D,xe),"object"==typeof h.align))return new jt(D,h.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){const X=D.classList.contains("ql-background")?"background":"color";return null==D.querySelector("option")&&Wt(D,he,"background"===X?"#ffffff":"#000000"),new Nt(D,h[X])}return null==D.querySelector("option")&&(D.classList.contains("ql-font")?Wt(D,Le):D.classList.contains("ql-header")?Wt(D,Se):D.classList.contains("ql-size")&&Wt(D,qe)),new St(D)}),this.quill.on(_t.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(D=>{D.update()})})}}oe.DEFAULTS=(0,Pt.A)({},pe.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let H=this.container.querySelector("input.ql-image[type=file]");null==H&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),H.classList.add("ql-image"),H.addEventListener("change",()=>{const i=this.quill.getSelection(!0);this.quill.uploader.upload(i,H.files),H.value=""}),this.container.appendChild(H)),H.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ne extends Mt{constructor(i,h){super(i,h),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",i=>{"Enter"===i.key?(this.save(),i.preventDefault()):"Escape"===i.key&&(this.cancel(),i.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=h?this.textbox.value=h:i!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const D=this.quill.getBounds(this.quill.selection.savedRange);null!=D&&this.position(D),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${i}`)||""),this.root.setAttribute("data-mode",i)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:i}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:h}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",i,_t.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",i,_t.A.sources.USER)),this.quill.root.scrollTop=h;break}case"video":i=function(h){let D=h.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||h.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?`${D[1]||"https"}://www.youtube.com/embed/${D[2]}?showinfo=0`:(D=h.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${D[1]||"https"}://player.vimeo.com/video/${D[2]}/`:h}(i);case"formula":{if(!i)break;const h=this.quill.getSelection(!0);if(null!=h){const D=h.index+h.length;this.quill.insertEmbed(D,this.root.getAttribute("data-mode"),i,_t.A.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(D+1," ",_t.A.sources.USER),this.quill.setSelection(D+2,_t.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function Wt(H,i){let h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.forEach(D=>{const X=document.createElement("option");D===h?X.setAttribute("selected","selected"):X.setAttribute("value",String(D)),H.appendChild(X)})}var te=Ot(8298);const Qt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Vt extends ne{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(i,h){super(i,h),this.quill.on(_t.A.events.EDITOR_CHANGE,(D,X,st,gt)=>{if(D===_t.A.events.SELECTION_CHANGE)if(null!=X&&X.length>0&&gt===_t.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Et=this.quill.getLines(X.index,X.length);if(1===Et.length){const zt=this.quill.getBounds(X);null!=zt&&this.position(zt)}else{const zt=Et[Et.length-1],Zt=this.quill.getIndex(zt),Xt=Math.min(zt.length()-1,X.index+X.length-Zt),ee=this.quill.getBounds(new te.Q(Zt,Xt));null!=ee&&this.position(ee)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(_t.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const i=this.quill.getSelection();if(null!=i){const h=this.quill.getBounds(i);null!=h&&this.position(h)}},1)})}cancel(){this.show()}position(i){const h=super.position(i),D=this.root.querySelector(".ql-tooltip-arrow");return D.style.marginLeft="",0!==h&&(D.style.marginLeft=-1*h-D.offsetWidth/2+"px"),h}}class Yt extends oe{constructor(i,h){null!=h.modules.toolbar&&null==h.modules.toolbar.container&&(h.modules.toolbar.container=Qt),super(i,h),this.quill.container.classList.add("ql-bubble")}extendToolbar(i){this.tooltip=new Vt(this.quill,this.options.bounds),null!=i.container&&(this.tooltip.root.appendChild(i.container),this.buildButtons(i.container.querySelectorAll("button"),ut),this.buildPickers(i.container.querySelectorAll("select"),ut))}}Yt.DEFAULTS=(0,Pt.A)({},oe.DEFAULTS,{modules:{toolbar:{handlers:{link(H){H?this.quill.theme.tooltip.edit():this.quill.format("link",!1,T.Ay.sources.USER)}}}}});const Jt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ne extends ne{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",i=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),i.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",i=>{if(null!=this.linkRange){const h=this.linkRange;this.restoreFocus(),this.quill.formatText(h,"link",!1,_t.A.sources.USER),delete this.linkRange}i.preventDefault(),this.hide()}),this.quill.on(_t.A.events.SELECTION_CHANGE,(i,h,D)=>{if(null!=i){if(0===i.length&&D===_t.A.sources.USER){const[X,st]=this.quill.scroll.descendant(R,i.index);if(null!=X){this.linkRange=new te.Q(i.index-st,X.length());const gt=R.formats(X.domNode);this.preview.textContent=gt,this.preview.setAttribute("href",gt),this.show();const Et=this.quill.getBounds(this.linkRange);return void(null!=Et&&this.position(Et))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class ae extends oe{constructor(i,h){null!=h.modules.toolbar&&null==h.modules.toolbar.container&&(h.modules.toolbar.container=Jt),super(i,h),this.quill.container.classList.add("ql-snow")}extendToolbar(i){null!=i.container&&(i.container.classList.add("ql-snow"),this.buildButtons(i.container.querySelectorAll("button"),ut),this.buildPickers(i.container.querySelectorAll("select"),ut),this.tooltip=new Ne(this.quill,this.options.bounds),i.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(h,D)=>{i.handlers.link.call(i,!D.format.link)}))}}ae.DEFAULTS=(0,Pt.A)({},oe.DEFAULTS,{modules:{toolbar:{handlers:{link(H){if(H){const i=this.quill.getSelection();if(null==i||0===i.length)return;let h=this.quill.getText(i);/^\S+@\S+\.\S+$/.test(h)&&0!==h.indexOf("mailto:")&&(h=`mailto:${h}`);const{tooltip:D}=this.quill.theme;D.edit("link",h)}else this.quill.format("link",!1,T.Ay.sources.USER)}}}}});var ge=ae;Q.default.register({"attributors/attribute/direction":e.Mc,"attributors/class/align":C.qh,"attributors/class/background":_.l,"attributors/class/color":B.g3,"attributors/class/direction":e.sY,"attributors/class/font":z.q,"attributors/class/size":tt.U,"attributors/style/align":C.Hu,"attributors/style/background":_.s,"attributors/style/color":B.JM,"attributors/style/direction":e.VL,"attributors/style/font":z.z,"attributors/style/size":tt.r},!0),Q.default.register({"formats/align":C.qh,"formats/direction":e.sY,"formats/indent":O,"formats/background":_.s,"formats/color":B.JM,"formats/font":z.q,"formats/size":tt.U,"formats/blockquote":class j extends A.Ay{static blotName="blockquote";static tagName="blockquote"},"formats/code-block":L.Ay,"formats/header":class q extends A.Ay{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(i){return this.tagName.indexOf(i.tagName)+1}},"formats/list":v,"formats/bold":m,"formats/code":L.Cy,"formats/italic":class extends m{static blotName="italic";static tagName=["EM","I"]},"formats/link":R,"formats/script":class M extends rt.A{static blotName="script";static tagName=["SUB","SUP"];static create(i){return"super"===i?document.createElement("sup"):"sub"===i?document.createElement("sub"):super.create(i)}static formats(i){return"SUB"===i.tagName?"sub":"SUP"===i.tagName?"super":void 0}},"formats/strike":class extends m{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":class it extends rt.A{static blotName="underline";static tagName="U"},"formats/formula":class pt extends ht.A{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(i){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const h=super.create(i);return"string"==typeof i&&(window.katex.render(i,h,{throwOnError:!1,errorColor:"#f00"}),h.setAttribute("data-value",i)),h}static value(i){return i.getAttribute("data-value")}html(){const{formula:i}=this.value();return`<span>${i}</span>`}},"formats/image":class ot extends f.EmbedBlot{static blotName="image";static tagName="IMG";static create(i){const h=super.create(i);return"string"==typeof i&&h.setAttribute("src",this.sanitize(i)),h}static formats(i){return Y.reduce((h,D)=>(i.hasAttribute(D)&&(h[D]=i.getAttribute(D)),h),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return K(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,h){Y.indexOf(i)>-1?h?this.domNode.setAttribute(i,h):this.domNode.removeAttribute(i):super.format(i,h)}},"formats/video":class n extends A.zo{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(i){const h=super.create(i);return h.setAttribute("frameborder","0"),h.setAttribute("allowfullscreen","true"),h.setAttribute("src",this.sanitize(i)),h}static formats(i){return t.reduce((h,D)=>(i.hasAttribute(D)&&(h[D]=i.getAttribute(D)),h),{})}static sanitize(i){return R.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,h){t.indexOf(i)>-1?h?this.domNode.setAttribute(i,h):this.domNode.removeAttribute(i):super.format(i,h)}html(){const{video:i}=this.value();return`<a href="${i}">${i}</a>`}},"modules/syntax":$,"modules/table":class mt extends w.A{static register(){T.Ay.register(V),T.Ay.register(Z),T.Ay.register(et),T.Ay.register(at)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(at).forEach(i=>{i.balanceCells()})}deleteColumn(){const[i,,h]=this.getTable();null!=h&&(i.deleteColumn(h.cellOffset()),this.quill.update(T.Ay.sources.USER))}deleteRow(){const[,i]=this.getTable();null!=i&&(i.remove(),this.quill.update(T.Ay.sources.USER))}deleteTable(){const[i]=this.getTable();if(null==i)return;const h=i.offset();i.remove(),this.quill.update(T.Ay.sources.USER),this.quill.setSelection(h,T.Ay.sources.SILENT)}getTable(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==i)return[null,null,null,-1];const[h,D]=this.quill.getLine(i.index);if(null==h||h.statics.blotName!==V.blotName)return[null,null,null,-1];const X=h.parent;return[X.parent.parent,X,h,D]}insertColumn(i){const h=this.quill.getSelection();if(!h)return;const[D,X,st]=this.getTable(h);if(null==st)return;const gt=st.cellOffset();D.insertColumn(gt+i),this.quill.update(T.Ay.sources.USER);let Et=X.rowOffset();0===i&&(Et+=1),this.quill.setSelection(h.index+Et,h.length,T.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){const h=this.quill.getSelection();if(!h)return;const[D,X,st]=this.getTable(h);if(null==st)return;const gt=X.rowOffset();D.insertRow(gt+i),this.quill.update(T.Ay.sources.USER),i>0?this.quill.setSelection(h,T.Ay.sources.SILENT):this.quill.setSelection(h.index+X.children.length,h.length,T.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,h){const D=this.quill.getSelection();if(null==D)return;const X=new Array(i).fill(0).reduce(st=>{const gt=new Array(h).fill("\n").join("");return st.insert(gt,{table:lt()})},(new(p())).retain(D.index));this.quill.updateContents(X,T.Ay.sources.USER),this.quill.setSelection(D.index,T.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,i=>{i.some(h=>!!["TD","TR","TBODY","TABLE"].includes(h.target.tagName)&&(this.quill.once(T.Ay.events.TEXT_CHANGE,(D,X,st)=>{st===T.Ay.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":wt,"themes/bubble":Yt,"themes/snow":ge,"ui/icons":ut,"ui/picker":St,"ui/icon-picker":jt,"ui/color-picker":Nt,"ui/tooltip":Mt},!0);var me=Q.default}(),Fe.default}()});